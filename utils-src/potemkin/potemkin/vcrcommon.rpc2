%{#ifndef _BLURB_
#define _BLURB_
/*
                           CODA FILE SYSTEM
                             Release 3.0
                      School of Computer Science
                      Carnegie Mellon University
                          Copyright 1987-95

This  code  may  be used outside Carnegie Mellon University only under
the terms of the Coda license.  All other use is illegal.
*/


static char *rcsid = "$Header$";
#endif /*_BLURB_*/%}


%{/*
                    IBM COPYRIGHT NOTICE

This file contains  some code identical to or  derived from
the 1986 version of  the Andrew File System, which is owned
by  the  IBM  Corporation.  Carnegie Mellon  University has
obtained permission to distribute this code under the terms
of the Coda License.

*/%}


/*
 * Include file common to both callback.rpc2, vice.rpc2 and res.rpc2
 */


typedef RPC2_Unsigned   VolumeId;
typedef VolumeId	VolId;
typedef RPC2_Unsigned	VnodeId;
typedef RPC2_Unsigned	Unique_t;

%{
#ifndef _VUID_T_
#define _VUID_T_
typedef unsigned int	vuid_t; /* moved here from venus/venus.private.h  (Satya 3/23/92) */
#endif _VUID_T_
%}

typedef RPC2_Struct 
{
	VolumeId	Volume;
	VnodeId		Vnode;
	Unique_t	Unique;
}	ViceFid;

typedef RPC2_Struct
{
	RPC2_Unsigned	Host;
	RPC2_Unsigned	Uniquifier;
}	ViceStoreId;

typedef RPC2_Struct
{
	RPC2_Integer	Site0;
	RPC2_Integer	Site1;
	RPC2_Integer	Site2;
	RPC2_Integer	Site3;
	RPC2_Integer	Site4;
	RPC2_Integer	Site5;
	RPC2_Integer	Site6;
	RPC2_Integer	Site7;
}	ViceVersionArray;

typedef RPC2_Struct
{
	ViceVersionArray	Versions;
	ViceStoreId	StoreId;
	RPC2_Unsigned	Flags;
}	ViceVersionVector;

typedef RPC2_Unsigned	UserId;
typedef RPC2_Unsigned	FileVersion;
typedef RPC2_Unsigned	Date_t;
typedef RPC2_Integer	Rights;

typedef	RPC2_Enum 
{ 
	Invalid = 0,
	File = 1, 
	Directory = 2, 
	SymbolicLink = 3 
} 	ViceDataType;

typedef RPC2_Enum
{
	NoCallBack = 0,
	CallBackSet = 1
} 	CallBackStatus;


typedef RPC2_Struct
{
	RPC2_Unsigned	InterfaceVersion;
	ViceDataType	VnodeType;
	RPC2_Integer	LinkCount;
	RPC2_Unsigned	Length;
	FileVersion	DataVersion;
	ViceVersionVector	VV;
	Date_t		Date;
	UserId		Author;
	UserId		Owner;
	CallBackStatus	CallBack;
	Rights		MyAccess;
	Rights		AnyAccess;
	RPC2_Unsigned	Mode;
	VnodeId		vparent;
	Unique_t	uparent;
}	ViceStatus;


