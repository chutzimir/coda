#!+TIXWISH+
#
# An interface that alerts users to potential problems and opportunities
#
# History :
#  96/5/28 : mre@cs.cmu.edu : code
#
#

proc ReallyQuit {} {
        destroy .
        exit 0
}
 
proc gettimeofday { } {

}

##############################################################################
#                                 Main program                               #
##############################################################################

#puts stdout "StdOut: CodaConsole started"
puts stderr "StdErr: CodaConsole started"
flush stderr

#temp fix
set dir "/usr/local/lib/coda"
source "/usr/local/lib/coda/tclIndex"

#
# Setup the auto_path variable to use the Coda tcl library
#
lappend auto_path +GUIDIR+

#SendToStdErr "autopath'd correctly"
set dir "."
source "tclIndex"


#
#  Start Timing Events
#
SetTime "CodaConsole:begin"

#
#  Check the arguments
#

#
# Set global variables
#
set Window ""
set user [exec whoami]
set password ""

#
# Withdraw the main window
#
SendToStdErr "withdrawing ." 
flush stdout
wm withdraw .

#
# Very basic testing
#

#
# Initialization
#
SendToStdErr "InitLocks"
InitLocks

SendToStdErr "InitSystemAdministrator"
InitSystemAdministrator

SendToStdErr "InitPathnamesArray"
InitPathnamesArray

SendToStdErr "InitDimensionsArray"
InitDimensionsArray

SendToStdErr "InitColorArray"
InitColorArray

SendToStdErr "InitDisplayStyleArray"
InitDisplayStyleArray

SendToStdErr "InitStatistics"
InitStatistics

SendToStdErr "InitServers"
InitServers 

SendToStdErr "InitEventsArray"
InitEventsArray

SendToStdErr "InitData"
InitData

SendToStdErr "InitIndicatorArray"
InitIndicatorArray

SendToStdErr "InitLog"
InitLog

#
# Hoard that which is already hoarded
#
Hoard

#
# Create the dashboard
#
CreateIndicators 

#
# Set the options database for this application
#
option add *selectColor gray24

#
#  Timing
#
update idletasks
#SetTime "CodaConsole:visible"

#
#  Call the demo (if appropriate)
#
#Demo

#
# Now, wait for user actions...
#
#
#
# End of program
##############################################################################
flush stdout


