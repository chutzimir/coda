<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook V4.1//EN" [
  <!ENTITY package "vicetab">
  <!ENTITY date    "April 2004">
]>

<refentry>
<refentryinfo>
    <address><email>coda@cs.cmu.edu</email></address>
    <copyright>
	<year>1987-2004</year>
	<holder>Carnegie Mellon University</holder>
    </copyright>
    <date>&date;</date>
</refentryinfo>

<refmeta>
    <refentrytitle>&package;</refentrytitle>
    <manvolnum>5</manvolnum>
    <refmiscinfo>Coda Distributed File System</refmiscinfo>
</refmeta>

<refnamediv>
    <refname>&package;</refname>
    <refpurpose>information about Coda server data partitions</refpurpose>
</refnamediv>

<refsect1>
    <title>DESCRIPTION</title>
    <para><emphasis>vicetab</emphasis> is a table of Coda data
    partitions found on individual servers comprising a Coda netowrk
    server. This includes partition(s) used by the backup coordinator to
    store dump files to placed on a suitable backup media. This file
    must be shared among all machines comprising a Coda hub so edits
    should be done only on the designated SCM.
    </para>
<example>
<title>example vicetab file</title>
<programlisting>
tye             /vicepa         ftree  depth=5,width=8
tye             /vicepb         ftree  width=8,depth=5 
taverner        /vicepa         ftree  width=8,depth=5
taverner        /usr/vicepb     ftree  depth=4,width=8
tallis          /vicepa         ftree  width=8,depth=5
tallis          /vicepb         ftree  width=8,depth=5
dvorak          /backup1        backup
dvorak          /backup2        backup
dvorak          /backup3        backup
</programlisting>
</example>
    <para>Where column 1 specifies the server as returned by the system
    call gethostbyname().
    </para>
    <para>Column 2 specifies the directory of the Coda data tree which
    must be a local file system partition for optimal performance.
    <emphasis>NOTE: if a server serves than more than one Coda data
    parition, each data partition must have a seperate entry in
    vicetab.</emphasis> 
    </para>
    <para>Column 3 specifies the Coda partition type.</para>

    <itemizedlist>
    <listitem>
	<para><option>ftree</option> an "inode number" directory and
	file naming system for storing the Coda filesystem into a local
	file system tree structure: e.g. inode 4711 in base 10 with
	width 1 and depth 5 would become 0/4/7/1/1. So, using the above
	example, a width of 4 and a depth of 2 would make the file name
	4/711.  If this storage type is specified, the width and depth
	must also be given in the 4th column seperated by a comma.
	</para>
    </listitem>
    </itemizedlist>
    
    <para>Column 4 specifies the width and depth of the ftree.
    </para>
    <itemizedlist>
    <listitem>
	<para><option>width</option> the maximum "width" of an ftree
	data partition.</para>
    </listitem>
    <listitem>
	<para><option>depth</option> the maximum "depth" of an ftree
	data partition.</para>
    </listitem>
    </itemizedlist>

    <para>In the case of the backup coordinator, only the first three
    columns are used, with a partition type of <option>backup</option>
    specified in the third column.
    </para>
    <para>This file should only be edited on the designated SCM machine
    and then allowed to propagate.
    </para>
</refsect1>

<refsect1>
    <title>BUGS</title>
    <para>None we currently are aware of.</para>
</refsect1>

<refsect1>
    <title>AUTHOR</title>
    <para>
    <itemizedlist>
    <listitem><para>Henry M. Pierce, 1997, created</para>
    </listitem>
    <listitem><para>Jan Harkes, 2004, converted to DocBook 4.1</para>
    </listitem>
    </itemizedlist>
    </para>
</refsect1>
</refentry>

