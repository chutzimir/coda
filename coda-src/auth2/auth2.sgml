<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook V4.1//EN" [
  <!ENTITY package "auth2">
  <!ENTITY date    "April 2004">
]>

<refentry>
<refentryinfo>
    <address><email>coda@cs.cmu.edu</email></address>
    <copyright>
	<year>1987-2004</year>
	<holder>Carnegie Mellon University</holder>
    </copyright>
    <date>&date;</date>
</refentryinfo>

<refmeta>
    <refentrytitle>&package;</refentrytitle>
    <manvolnum>8</manvolnum>
    <refmiscinfo>Coda Distributed File System</refmiscinfo>
</refmeta>

<refnamediv>
    <refname>&package;</refname>
    <refpurpose>Coda authentication server</refpurpose>
</refnamediv>

<refsynopsisdiv>
    <cmdsynopsis>
	<command>auth2</command>
	<arg>-r</arg>
	<arg>-chk</arg>
	<arg>-x <replaceable>debuglevel</replaceable></arg>
	<arg>-p <replaceable>passwordfile</replaceable></arg>
	<arg>-tk <replaceable>tokenkey</replaceable></arg>
	<arg>-fk <replaceable>filekey</replaceable></arg>
    </cmdsynopsis>
</refsynopsisdiv>

<refsect1>
    <title>DESCRIPTION</title>
    <para><command>auth2</command> is the Coda authentication server.  Clients
    need to have an authentication token from <command>auth2</command> in
    order to establish authenticated connections to Coda file servers.
    </para>
    <para><command>auth2</command> supports the following commands line
    options:
    </para>

    <variablelist>
	<varlistentry>
	<term><option>-r</option></term>
	<listitem>
	    <para>Tells <command>auth2</command> to print log entries to the
	    controlling tty rather than a log file.</para>
	</listitem>
	</varlistentry>

	<varlistentry>
	<term><option>-chk</option></term>
	<listitem>
	    <para>Causes <command>auth2</command> to only validate passwords.
	    New password entries cannot be added via this server instance.
	    Servers started with the <option>-chk</option> option are slave
	    servers. There should only be one master server
	    (<emphasis>SCM</emphasis>) in the system.
	    </para>
	</listitem>
	</varlistentry>

	<varlistentry>
	<term><option>-x</option></term>
	<listitem>
	    <para>Sets the server <replaceable>debuglevel</replaceable>. This
	    level controls the amount of debugging information printed by the
	    server.</para>
	</listitem>
	</varlistentry>

	<varlistentry>
	<term><option>-p</option></term>
	<listitem>
	    <para>Used to tell <command>auth2</command> where its password
	    file is. Typically this file is /vice/db/auth2.pw.</para>
	</listitem>
	</varlistentry>

	<varlistentry>
	<term><option>-tk</option></term>
	<listitem>
	    <para>Specifies where the <replaceable>tokenkey</replaceable> file
	    is found which <command>auth2</command> should use when encrypting
	    tokens. Normally this file is /vice/db/auth2.tk</para>
	</listitem>
	</varlistentry>

	<varlistentry>
	<term><option>-fk</option></term>
	<listitem>
	    <para>Name of file containing the key to decrypt the password file
	    with.</para>
	</listitem>
	</varlistentry>
    </variablelist>
</refsect1>

<refsect1>
    <title>AUTHORS</title>
    <para>
    <itemizedlist>
    <listitem><para>1987, Adapted from AFS-2</para>
    </listitem>
    <listitem><para>Joshua Raiff, 1993, Created man page</para>
    </listitem>
    <listitem><para>Jan Harkes, 2004, converted to DocBook 4.1</para>
    </listitem>
    </itemizedlist>
    </para>
</refsect1>
</refentry>

