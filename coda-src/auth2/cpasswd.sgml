<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook V4.1//EN" [
  <!ENTITY package "cpasswd">
  <!ENTITY date    "April 2004">
]>

<refentry>
<refentryinfo>
    <address><email>coda@cs.cmu.edu</email></address>
    <copyright>
	<year>1987-2004</year>
	<holder>Carnegie Mellon University</holder>
    </copyright>
    <date>&date;</date>
</refentryinfo>

<refmeta>
    <refentrytitle>&package;</refentrytitle>
    <manvolnum>1</manvolnum>
    <refmiscinfo>Coda Distributed File System</refmiscinfo>
</refmeta>

<refnamediv>
    <refname>&package;</refname>
    <refpurpose>Change Coda login password</refpurpose>
</refnamediv>

<refsynopsisdiv>
    <cmdsynopsis>
	<command>cpasswd</command>
	<arg>-h <replaceable>host</replaceable></arg>
	<arg choice=req>[username][@realm]</arg>
    </cmdsynopsis>
</refsynopsisdiv>

<refsect1>
    <title>DESCRIPTION</title>
    <para>This command sets the Coda password for the current user.
    </para>
    <para><command>cpasswd</command> prompts for the users old password, and
    then for the new one. The new password must be typed twice, to forestall
    mistakes. Change requests can be aborted by typing a carriage return when
    prompted for the new password.
    </para>
    <!-- <para>New passwords must be at least four characters long if they use a
    sufficiently rich alphabet and at least six characters long if monocase.
    These rules are relaxed if you are insistent enough.
    </para> -->
    <para><command>cpasswd</command> won't be able to change the users
    password if the password server is down.  An appropriate error message
    will be printed, advising the caller to try again later.  Once the
    password server acknowledges receipt the users new password, it should not
    take too link for the information to propagate to the entire set of
    <emphasis>Authentication Servers</emphasis>.
    </para>
    <para><command>cpasswd</command> supports the following option:
    </para>

    <variablelist>
	<varlistentry>
	<term><option>-h</option></term>
	<listitem>
	    <para>Tells <command>cpasswd</command> which
	    <replaceable>host</replaceable> to bind to. This should be the
	    SCM.</para>
	</listitem>
	</varlistentry>

	<varlistentry>
	<term><option>[username][@realm]</option></term>
	<listitem>
	    <para>Coda user name and the realm of the user whose password you
	    want to change. If the username is not specified, clog tries to
	    use the local login name. If the Coda realm name is not specified
	    clog falls back to using the default realm name as specified in
	    the venus.conf configuration file.</para>
	</listitem>
	</varlistentry>
    </variablelist>
</refsect1>

<refsect1>
    <title>SEE ALSO</title>
    <para>
    <citerefentry>
	<refentrytitle>clog</refentrytitle>
	<manvolnum>1</manvolnum>
    </citerefentry>
    </para>
</refsect1>

<refsect1>
    <title>AUTHOR</title>
    <para>
    <itemizedlist>
    <listitem><para>1987, Adapted from AFS-2</para>
    </listitem>
    <listitem><para>Maria R. Ebling, 1990, Created man page</para>
    </listitem>
    <listitem><para>Jan Harkes, 2004, converted to DocBook 4.1</para>
    </listitem>
    </itemizedlist>
    </para>
</refsect1>
</refentry>

