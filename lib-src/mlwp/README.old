***    PLEASE DO ALL FURTHER DEVELOPMENT ON THIS MERGED VERSION OF LWP ****

Created: 08/17/1988, Satya
Version: /afs/cs/project/coda-rvb/cvs/src/coda-4.0.1/lib-src/mlwp/README.old,v 1.1.1.1 1996/11/22 19:18:48 rvb Exp

[1] Merger of Andrew-LWP (coda/exp/lwp) and cthread-LWP (coda/exp/ctlwp).
    "OLD" corresponds to Andrew-LWP
    "NEW" corresponds to cthread-LWP
    
    The actual code in each case is virtually unchanged
    Some trivial mods have been made to clean up debugging.

[2] To get OLD-LWP:
    (a) Use liboldlwp_{d,n,p}.a when linking
    (b) AVOID LINKING IN /usr/mach/lib/lib{threads,mach}.a
        (Else bogus malloc() gets linked in)

[3] To get NEW-LWP:
    (a) Use libnewlwp_{d,n,p}.a when linking
    (b) Link in /usr/mach/lib/lib{threads,mach}.a

[4] Users of both versions include the identical header file lwp.h

[5] "make -f Makefile.coda install"
	will install DEBUG, NDEBUG and PROF version of OLD and NEW LWPs.
     	produces one set of header files and 6 libraries.
   
[6] Makefile.dist is intended for distribution (with RPC2)

[7] Source code changes you need to make:
	(a) LWP_Init(LWP_VERSION, priority, &pid) replaces LWP_InitializeProcessSupport(priority, &pid)
	    This behaves exactly as the old routine did, but makes sure you are not using an incorrect
	    header-library combination.
	(b) LWP_ActiveProcess is no longer defined.
	(c) Use LWP_Name() to get the string corresponding to the current LWP.
	(d) Use LWP_CurrentProcess() to get a handle for the current LWP.


[8] Comparison of mlwp.NEW and ctlwp
    --------------------------------
     (a) mlwp.NEW/test and ctlwp/cttest behave identically.
         mlwp.NDEBUG.NEW/test has same performance as ctlwp.DEBUG/cttest
         But mlwp.DEBUG.NEW/test is about 30% slower than ctlwp.DEBUG/cttest
         Why?? Due to debugging really being on in mlwp.DEBUG??
	 
     (b) tdb does not compile in mlwp, nor in ctlwp
     
     (c) Both mlwp.NEW/rw and ctlwp/ctrw show identical (erroneous!) behavior.
         Neither matches mlwp.OLD/rw behavior.  THIS SHOULD BE CHECKED OUT!!!!
     
[9] Comparison of mlwp.OLD and Andrew-LWP
    -------------------------------------
    (a) test works identically (performance NOT tested)
    (b) rw works identically
    (c) tdb does not exist in Andrew
