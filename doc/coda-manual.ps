%!PS-Adobe-2.0
%%Title: manual.mss
%%DocumentFonts: (atend)
%%Creator: Joshua Raiff and Scribe 7(1700)
%%CreationDate: 21 December 1995 10:16
%%Pages: (atend)
%%EndComments
% PostScript Prelude for Scribe.
/BS {/SV save def 0.0 792.0 translate .01 -.01 scale} bind def
/ES {showpage SV restore} bind def
/SC {setrgbcolor} bind def
/FMTX matrix def
/RDF {WFT SLT 0.0 eq 
  {SSZ 0.0 0.0 SSZ neg 0.0 0.0 FMTX astore}
  {SSZ 0.0 SLT neg sin SLT cos div SSZ mul SSZ neg 0.0 0.0 FMTX astore}
  ifelse makefont setfont} bind def
/SLT 0.0 def
/SI { /SLT exch cvr def RDF} bind def
/WFT /Courier findfont def
/SF { /WFT exch findfont def RDF} bind def
/SSZ 1000.0 def
/SS { /SSZ exch 100.0 mul def RDF} bind def
/AF { /WFT exch findfont def /SSZ exch 100.0 mul def RDF} bind def
/MT /moveto load def
/XM {currentpoint exch pop moveto} bind def
/UL {gsave newpath moveto dup 2.0 div 0.0 exch rmoveto
   setlinewidth 0.0 rlineto stroke grestore} bind def
/LH {gsave newpath moveto setlinewidth
   0.0 rlineto
   gsave stroke grestore} bind def
/LV {gsave newpath moveto setlinewidth
   0.0 exch rlineto
   gsave stroke grestore} bind def
/BX {gsave newpath moveto setlinewidth
   exch
   dup 0.0 rlineto
   exch 0.0 exch neg rlineto
   neg 0.0 rlineto
   closepath
   gsave stroke grestore} bind def
/BX1 {grestore} bind def
/BX2 {setlinewidth 1 setgray stroke grestore} bind def
/PB {/PV save def newpath 3 -1 roll sub translate
    100.0 -100.0 scale /showpage {} def} bind def
/PE {PV restore} bind def
/GB {/PV save def newpath translate rotate
    div dup scale 100.0 -100.0 scale 
    /showpage {} def
    /letter {} def
    /lettersmall {} def
    /note {} def
    } bind def
/GE {PV restore} bind def
/FB {dict dup /FontMapDict exch def begin} bind def
/FM {cvn exch cvn exch def} bind def
/FE {end /original-findfont /findfont load def  /findfont
   {dup FontMapDict exch known{FontMapDict exch get} if
   original-findfont} def} bind def
/BC {gsave moveto dup 0 exch rlineto exch 0 rlineto neg 0 exch rlineto closepath clip} bind def
/EC /grestore load def
/SH /show load def
/MX {exch show 0.0 rmoveto} bind def
/W {0 32 4 -1 roll widthshow} bind def
/WX {0 32 5 -1 roll widthshow 0.0 rmoveto} bind def
/RC {100.0 -100.0 scale
612.0 0.0 translate
-90.0 rotate
.01 -.01 scale} bind def
/URC {100.0 -100.0 scale
90.0 rotate
-612.0 0.0 translate
.01 -.01 scale} bind def
/RCC {100.0 -100.0 scale
0.0 -792.0 translate 90.0 rotate
.01 -.01 scale} bind def
/URCC {100.0 -100.0 scale
-90.0 rotate 0.0 792.0 translate
.01 -.01 scale} bind def


% Scribe Systems version of LaserPrep v4.0
% All lines added/changed by Scribe Systems contain "%UNI"
%
%{appledict version #65
% CopyRight Apple Computer, Inc. 1984,1985,1986,1987 All Rights Reserved.
systemdict/currentpacking known{currentpacking true setpacking}if
/LW{save statusdict/product get(LaserWriter)anchorsearch
exch pop{length 0 eq{1}{2}ifelse}{0}ifelse exch restore}bind def
/LW+{LW 2 eq}bind def
/ok{systemdict/statusdict known dup{LW 0 gt and}if}bind def
%UNI ok{statusdict begin 9 sccinteractive 3 ne exch 0 ne or{9 0 3 setsccinteractive}if end}if
/md 250 dict def md begin
/av 65 def
/T true def
/F false def
/mtx matrix def
/s75 75 string def
/s8 8 string def
/s1 ( ) def
/pxs 1 def
/pys 1 def
1 0 mtx defaultmatrix dtransform exch atan/pa exch def
/nlw .24 def
/ppr [-32 -29.52 762 582.48] def  % default printable page rectangle
/pgs 1 def
/por true def
/xb 500 array def
/so true def
/fillflag false def
/pnm 1 def
/fmv true def
/sfl false def
/ma 0 def
/invertflag false def
/xflip false def
/yflip false def
/noflips true def
/scaleby96 false def
/fNote true def
/fBitStretch true def
/fg (Rvd\001\001\000\000\177) def
/bdf{bind def}bind def
/xdf{exch def}bdf
/xl{neg exch neg translate}bdf
/fp{pnsh 0 ne pnsv 0 ne and}bdf
/nop{}bdf/lnop[/nop load]cvx bdf
/vrb[
{fp{gsave 1 setlinewidth pnsh pnsv scale stroke grestore}if newpath}bind
/eofill load
dup
/newpath load
2 index
dup
{clip newpath}bind
{}bind
dup
2 copy
]def
currentscreen/spf xdf/rot xdf/freq xdf
/doop{vrb exch get exec}bdf

% psu - page setup called at begining of page
% args: smooth, por, bbs1, bbs2, bbey, bbex, scale, dpix, dpiy, pgs,
%       invert, xflip, yflip, scaleby96, fBitStretch, fNote
%
%       smooth is T if smoothing was selected in page setup, else F
%       por is T for portrait orientation, F for landscape
%       bbs2 seems to be offset for start of image area (in 72nds of an inch)
%       bbs1 seems to be offset for start of image area (in 72nds of an inch)
%       bbey is length (or end?) of printable area in 72nd of an inch
%       bbex is width (or end?) of printable area in 72nd of an inch
%       dpix is dots per inch of coordinate system
%       dpiy is dots per inch of coordinate system
%       scale is scale factor selected in page setup
%       pgs is a small integer denoting paper cassette type (legal, a4, etc.)
%       invert is T to reverse black/white
%       xflip is T to rotate image horizontally
%       yflip is T to rotate image vertically
%       scaleby96 is T if "Precision Bitmap Graphics" requested
%       fBitStretch is T if "Faster Bitmap Printing" requested
%       fNote is T to use small imageable region, F to use large
/psu{
        /fNote xdf
        /fBitStretch xdf
        /scaleby96 xdf
        pop F   %UNI force yflip off
        /yflip xdf
        pop F   %UNI force xflip off
        /xflip xdf
        pop F   %UNI force black/white reversing off
        /invertflag xdf
        xflip yflip or{/noflips false def}if
        /pgs xdf                        % set pgs
        2 index                         % get copy of scale
        .72 mul exch div /pys xdf       % pys = (.72 * scale) / dpiy
        % S: smooth por bbs1 bbs2 bbey bbex scale dpix
        div .72 mul /pxs xdf            % pxs = .72 * (scale / dpix)
        2 index pxs mul 4 index pys mul neg translate %UNI xlate for scribe
        ppr astore pop                  % put "bbs1 bbs2 bbey bbex" into ppr
        pop T   %UNI force portrait on
        /por xdf                        % set por
        pop F   %UNI force smooth request off
        sn and /so xdf          % set "so" T if smooth req'd AND avail in LW
}bdf

/txpose{
%UNI don't change paper type
%UNI    fNote{smalls}{bigs}ifelse pgs get exec
        pxs pys scale
        ppr aload pop
        por
            {
                noflips{pop exch neg exch translate pop 1 -1 scale}if
                xflip yflip and{
                        pop exch neg exch translate
                        180 rotate
                        1 -1 scale
                        ppr 3 get
                        ppr 1 get neg sub neg
                        ppr 2 get
                        ppr 0 get neg sub neg
                        translate
                }if 
                xflip yflip not and{
                        pop exch neg exch translate pop
                        180 rotate
                        ppr 3 get
                        ppr 1 get neg sub neg 0
                        translate
                }if
                yflip xflip not and{
                        ppr 1 get neg
                        ppr 0 get neg
                        translate
                }if
            }
            {
                noflips{translate pop pop 270 rotate 1 -1 scale}if
                xflip yflip and{
                        translate pop pop
                        90 rotate
                        1 -1 scale
                        ppr 3 get
                        ppr 1 get neg sub neg
                        ppr 2 get
                        ppr 0 get neg sub neg
                        translate
                }if
                xflip yflip not and{
                        translate
                        pop pop 90 rotate
                        ppr 3 get
                        ppr 1 get neg sub neg 0
                        translate
                }if
                yflip xflip not and{
                        translate
                        pop pop 270 rotate
                        ppr 2 get
                        ppr 0 get neg sub neg 0 exch
                        translate
                }if
            }
        ifelse
        %UNI statusdict begin waittimeout 300 lt{/waittimeout 300 def}if end
        scaleby96{
                ppr aload pop 4 -1 roll add 2 div 3 1 roll add 2 div 2 copy
                translate
                .96 dup scale
                neg exch neg exch translate
        }if
}bdf

/fr{3 index 3 index xl ppr aload pop 3 -1 roll 2 mul add 3 1 roll exch 2 mul add
6 2 roll 3 -1 roll sub 3 1 roll exch sub 3 1 roll exch 3 -1 roll div 3 1 roll div exch scale}bdf
/lws{show}bdf
/tv{show pop pop}bdf
/obl{{0.212557 mul}{pop 0}ifelse}bdf
/sfd{ps fg 5 -1 roll get mul 100 div 0 ps 5 -1 roll obl ps neg 0 0 6a astore makefont setfont}bdf
/fnt{findfont sfd}bdf
/bt{sa 3 1 roll 3 index and put}bdf
/sa(\000\000\000\000\000\000\000\000\000\000)def
/fs{0 1 bt 1 2 bt 2 4 bt 3 8 bt 4 16 bt 5 32 bt 6 64 bt 7 128 bt sa exch 8 exch put}bdf
/mx1 matrix def
/mx2 matrix def
/mx3 matrix def
/bu{currentpoint currentgray currentlinewidth currentlinecap currentlinejoin currentdash exch aload length
fg 5 sfl{1}{0}ifelse put pnsv pnsh
2t aload pop 3a aload pop mx2 aload pop mx1 aload pop mtx currentmatrix aload pop
mx3 aload pop ps pm restore/ps xdf mx3 astore pop}bdf
/bn{/pm save def mx3 setmatrix newpath 0 0 moveto ct dup 39 get 0 exch getinterval cvx exec
mtx astore setmatrix mx1 astore pop mx2 astore pop 3a astore pop
2t astore pop/pnsh xdf/pnsv xdf gw
/sfl fg 5 get 0 ne def array astore exch setdash setlinejoin setlinecap
setlinewidth setgray moveto}bdf
/fc{save vmstatus exch sub 50000 lt
{(%%[|0|]%%)=print flush}if pop restore}bdf
/tc{32768 div add 3 1 roll 32768 div add 2t astore pop}bdf
/3a [0 0 0] def
/2t 2 array def
/tp{3a astore pop}bdf
/tt{mx2 currentmatrix pop currentpoint 2 copy 2t aload pop qa 2 copy translate 3a aload pop exch dup 0 eq
{pop}{1 eq{-1 1}{1 -1}ifelse scale}ifelse rotate pop neg exch neg exch translate moveto}bdf
/te{mx2 setmatrix}bdf
/th{3 -1 roll div 3 1 roll exch div 2 copy mx1 scale pop scale/sfl true def}bdf
/tu{1 1 mx1 itransform scale/sfl false def}bdf
/ts{1 1 mx1 transform scale/sfl true def}bdf
/fz{/ps xdf}bdf
/dv{dup 0 ne{div}{pop}ifelse}bdf
/pop4{pop pop pop pop}bdf
/it{sfl{mx1 itransform}if}bdf
/gm{exch it moveto}bdf/rm{it rmoveto}bdf
/lm{currentpoint sfl{mx1 transform}if exch pop sub 0 exch it rmoveto}bdf
/fm{statusdict/manualfeed known}bdf
/se{statusdict exch/manualfeed exch put}bdf
/mf{
pop     %UNI never allow manual feed
%UNI dup/ma exch def 0 gt{fm se/t1 5 st ok ma 1 gt and{/t2 0 st/t3 0 st statusdict/manualfeedtimeout 3600 put}if}if
}bdf
/jn{
pop     %UNI don't set job name
%UNI /statusdict where exch pop{statusdict exch/jobname exch put}if
}bdf
/pen{pnm mul/pnsh xdf pnm mul/pnsv xdf pnsh setlinewidth}bdf
/min{2 copy gt{exch}if pop}bdf
/max{2 copy lt{exch}if pop}bdf
/dh{fg 6 1 put array astore exch pop exch pop exch setdash}bdf
/ih[currentdash]def
/rh{fg 6 0 put ih aload pop setdash}bdf
/dl{gsave nlw pys div setlinewidth 0 setgray}bdf
/dlin{exch currentpoint currentlinewidth 2 div dup
translate newpath moveto lineto currentpoint stroke grestore moveto}bdf
/lin{fg 6 get 0 ne{exch lineto currentpoint 0 doop moveto}
{exch currentpoint/pnlv xdf/pnlh xdf gsave newpath/@1 xdf/@2 xdf fp{pnlh @2 lt{pnlv @1 ge
{pnlh pnlv moveto @2 @1 lineto pnsh 0 rlineto
0 pnsv rlineto pnlh pnsh add pnlv pnsv add lineto pnsh neg 0 rlineto}
{pnlh pnlv moveto pnsh 0 rlineto @2 pnsh add @1 lineto 0 pnsv rlineto
pnsh neg 0 rlineto pnlh pnlv pnsv add lineto}ifelse}{pnlv @1 gt
{@2 @1 moveto pnsh 0 rlineto pnlh pnsh add pnlv lineto 0 pnsv rlineto
pnsh neg 0 rlineto @2 @1 pnsv add lineto}{pnlh pnlv moveto pnsh 0 rlineto
0 pnsv rlineto @2 pnsh add @1 pnsv add lineto pnsh neg 0 rlineto
0 pnsv neg rlineto}ifelse}ifelse
closepath fill}if @2 @1 grestore moveto}ifelse}bdf
/gw{/pnm fg 3 get fg 4 get div def}bdf
/lw{fg exch 4 exch put fg exch 3 exch put gw pnsv pnsh pen}bdf
/barc{/@1 xdf/@2 xdf/@3 xdf/@4 xdf/@5 xdf
/@6 xdf/@7 xdf/@8 xdf gsave
@5 @7 add 2 div @6 @8 add 2 div translate newpath 0 0 moveto
@5 @7 sub @6 @8 sub mtx currentmatrix pop scale @1{newpath}if
0 0 0.5 @4 @3 arc @4 @3 sub abs 360 ge{closepath}if
mtx setmatrix @2 doop grestore}bdf
/ar{dup 0 eq barc}bdf
/ov{0 exch 360 exch true barc}bdf
/rc{/@t xdf currentpoint 6 2 roll newpath 4 copy 4 2 roll exch moveto
6 -1 roll lineto lineto lineto closepath @t doop moveto}bdf
/mup{dup pnsh 2 div le exch pnsv 2 div le or}bdf
/rr{/@1 xdf 2. div/@2 xdf 2. div/@3 xdf
/@4 xdf/@5 xdf/@6 xdf/@7 xdf
@7 @5 eq @6 @4 eq @2 mup or or{@7 @6 @5 @4 @1 rc}
{@4 @6 sub 2. div dup @2 lt{/@2 xdf}{pop}ifelse
@5 @7 sub 2. div dup @2 lt{/@2 xdf}{pop}ifelse
@1 0 eq{/@2 @2 pnsh 2 div 2 copy gt{sub def}{0 pop4}ifelse}if
currentpoint newpath
@4 @6 add 2. div @7 moveto
@4 @7 @4 @5 @2 arcto pop4
@4 @5 @6 @5 @2 arcto pop4
@6 @5 @6 @7 @2 arcto pop4
@6 @7 @4 @7 @2 arcto pop4
closepath @1 doop moveto}ifelse}bdf
/pr{gsave newpath/pl{exch moveto/pl{exch lineto}def}def}bdf
/pl{exch lineto}bdf
/ep{dup 0 eq{{moveto}{exch lin}{}{(%%[|1|]%%)= flush}pathforall
pop grestore}{doop grestore}ifelse currentpoint newpath moveto}bdf
/gr{64. div setgray}bdf
/pat{s8 copy pop 9.375 pa por not{90 add}if{1 add 4 mul cvi s8 exch get exch 1 add 4 mul cvi 7 sub bitshift 1 and}setscreen gr}bdf
/sg{freq rot/spf load setscreen gr}bdf
/dc{transform round .5 sub exch round .5 sub exch itransform}bdf
/sn{userdict/smooth4 known}bdf
/x8{3 bitshift}bdf
/x4{2 bitshift}bdf
/d4{-2 bitshift}bdf
/d8{-3 bitshift}bdf
/rb{15 add -4 bitshift 1 bitshift}bdf
/db{/@7 save def/@1 xdf/@2 xdf/@3 xdf/@4 xdf/@5 xdf/@6 @5 @3 4 add mul def
dc translate scale/xdbit 1 1 idtransform abs/ydbit exch def abs def{0 0 1 ydbit add 1 10 rc clip}if
@1 0 eq @1 4 eq or{1 setgray ydbit 0 1 ydbit add 1 2 rc}if
@1 3 eq @1 7 eq or{1}{0}ifelse setgray/@9 @1 0 eq @1 1 eq @1 3 eq or or invertflag xor def/@13 @6 def
@2 fBitStretch or{/@10 @4 x4 def/@11 @3 x4 def/@12 @10 rb def/@13 @12 @11 mul def/@15 1 1 dtransform abs/calcY 1 index def round cvi/@14 exch def
abs/calcX 1 index def round cvi scaleby96 not{1 add}if def/@16 @15 rb def/@17 @16 @14 mul def}if
sn @13 60000 lt and @2 fBitStretch or and{mtx currentmatrix dup 1 get exch 2 get 0. eq exch 0. eq and @17 60000 lt and fBitStretch and{@16 3 bitshift @14 @9 [calcX 0 0 calcY 0 0]{@17 string @13 string
currentfile @6 string readhexstring pop 1 index @4 @3 @5 @12 @2 smooth4
@10 @11 @12 dup string 5 index @15 @14 @16 dup string stretch}imagemask}{@12 x8 @11 @9 [@10 0 0 @11 0 0]{@13 string
currentfile @6 string readhexstring pop 1 index @4 @3 @5 @12 @2 smooth4}imagemask}ifelse}{@5 3 bitshift @3 4 add @9 [@4 0 0 @3 0 2]{currentfile @6 string readhexstring pop}imagemask}ifelse
@7 restore}bdf
/wd 16 dict def
/mfont 14 dict def
/mdf{mfont wcheck not{/mfont 14 dict def}if mfont begin xdf end}bdf
/cf{{1 index/FID ne{def}{pop pop}ifelse}forall}bdf
/rf{/@1 exch def/@2 exch def
FontDirectory @2 known{cleartomark pop}{findfont dup begin dup length @1 add dict begin
cf {/Encoding macvec def}{Encoding dup length array copy/Encoding exch def
counttomark 2 idiv{Encoding 3 1 roll put}repeat}ifelse
pop
exec currentdict end end @2 exch definefont pop}ifelse}bdf
/bmbc{exch begin wd begin
/cr xdf
save
CharTable cr 6 mul 6 getinterval{}forall
/bitheight xdf/bitwidth xdf
.96 div/width xdf
Gkernmax add/XOffset xdf Gdescent add/YOffset xdf/rowbytes xdf
rowbytes 255 eq{0 0 0 0 0 0 setcachedevice}
{Gnormsize dup scale
width 0 XOffset YOffset bitwidth XOffset add bitheight YOffset add
setcachedevice
rowbytes 0 ne{
XOffset YOffset translate newpath 0 0 moveto
bitwidth bitheight scale
sn{
/xSmt bitwidth x4 def
/ySmt bitheight x4 def
/rSmt xSmt rb def
rSmt x8 ySmt true
[xSmt 0 0 ySmt neg 0 ySmt]
{rSmt ySmt mul string CharData cr get
1 index bitwidth bitheight rowbytes rSmt so smooth4}
}{rowbytes 3 bitshift bitheight 4 add true
[bitwidth 0 0 bitheight neg 0 bitheight 2 add]
{CharData cr get}
}ifelse
imagemask
}if
}ifelse
restore
end end
}bdf
/bb{.96 exch div/Gnormsize mdf 2 index
/Gkernmax mdf 1 index/Gdescent mdf
3 index div 4 1 roll
2 index div 1. 5 2 roll
exch div 4 1 roll
4 array astore/FontBBox mdf
}bdf
/cdf{mfont/CharData get 3 1 roll put}bdf
/bf{
mfont begin
/FontType 3 def
/FontMatrix [1 0 0 1 0 0] def
/Encoding macvec def
/BuildChar/bmbc load def
end
mfont definefont pop
}bdf
/wi LW 1 eq{{gsave 0 0 0 0 0 0 0 0 moveto lineto lineto lineto closepath clip stringwidth grestore}bind}{/stringwidth load}ifelse def
/aps{0 get 124 eq}bdf
/xc{s75 cvs dup}bdf
/xp{put cvn}bdf
/scs{xc 3 67 put dup 0 95 xp}bdf
/sos{xc 3 79 xp}bdf
/sbs{xc 1 66 xp}bdf
/sis{xc 2 73 xp}bdf
/sob{xc 2 79 xp}bdf
/sss{xc 4 83 xp}bdf
/dd{exch 1 index add 3 1 roll add exch}bdf
/smc{moveto dup lws}bdf
/kwn{FontDirectory 1 index known{findfont exch pop}}bdf
/gl{1 currentgray sub setgray}bdf
/mm{/mfont 10 dict def mfont begin
/FontMatrix [1 0 0 1 0 0] def
/FontType 3 def
/Encoding macvec def
/df 4 index findfont def
/FontBBox [0 0 1 1] def
/xda xdf/mbc xdf
/BuildChar{wd begin/cr xdf/fd xdf/cs s1 dup 0 cr put def fd/mbc get exec end}def
exec end mfont definefont}bdf
/ac{dup scs kwn{exch findfont dup length 1 add dict begin
cf fmv{/Encoding macvec def}if/StrokeWidth nlw 1000 mul pys div ps div dup 12 lt{pop 12}if def
/PaintType 2 def currentdict /UniqueID known{/UniqueID UniqueID 16#A80000 xor def}if currentdict end definefont}ifelse}bdf
/mb{dup sbs kwn{exch{pop}{bbc}{}mm}ifelse sfd}bdf
/mo{dup sos kwn{exch{pop}{boc}{}mm}ifelse sfd}bdf
/ms{dup sss kwn{exch{pop}{bsc}{}mm}ifelse sfd}bdf
/ou{dup sos kwn{exch dup ac pop{scs findfont /df2 xdf}{aoc}{}mm}ifelse sfd}bdf
/su{dup sss kwn{exch dup ac pop{scs findfont /df2 xdf}{asc}{}mm}ifelse sfd}bdf
/ao{/fmv true def ou}bdf/as{/fmv true def su}bdf
/vo{/fmv false def ou}bdf/vs{/fmv false def su}bdf
/bbc{/da .03 def fd/df get setfont
gsave cs wi 1 index 0 ne{exch da add exch}if grestore setcharwidth
cs 0 0 smc da 0 smc da da smc 0 da moveto lws}bdf
/boc{/da 1 ps div def fd/df get setfont
gsave cs wi 1 index 0 ne{exch da add exch}if grestore setcharwidth
cs 0 0 smc da 0 smc da da smc 0 da smc gl da 2. div dup moveto lws}bdf
/bsc{/da 1 ps div def
/ds .05 def/da2 da 2. div def fd/df get setfont
gsave cs wi 1 index 0 ne{exch ds add da2 add exch}if grestore setcharwidth
cs ds da2 add .01 add 0 smc 0 ds da2 sub translate 0 0 smc
da 0 smc da da smc 0 da smc gl da 2. div dup moveto lws}bdf
/aoc{fd/df get setfont
gsave cs wi grestore setcharwidth
gl cs 0 0 smc fd/df2 get setfont gl 0 0 moveto lws}bdf
/asc{/da .05 def fd/df get setfont
gsave cs wi 1 index 0 ne{exch da add exch}if grestore setcharwidth
cs da .01 add 0 smc 0 da translate gl 0 0 smc gl fd/df2 get setfont 0 0 moveto lws}bdf
/st{1000 mul usertime add dup 2147483647 gt{2147483647 sub}if def}bdf
/the{usertime sub dup 0 lt exch -2147483648 gt and}bdf
/6a 6 array def
/2a 2 array def
/3q 3 array def
/qs{3 -1 roll sub exch 3 -1 roll sub exch}bdf
/qa{3 -1 roll add exch 3 -1 roll add exch}bdf
/qm{3 -1 roll 1 index mul 3 1 roll mul}bdf
/qn{6a exch get mul}bdf
/qA .166667 def/qB .833333 def/qC .5 def
/qx{6a astore pop
qA 0 qn qB 2 qn add   qA 1 qn qB 3 qn add
qB 2 qn qA 4 qn add   qB 3 qn qA 5 qn add
qC 2 qn qC 4 qn add   qC 3 qn qC 5 qn add}bdf
/qp{6 copy 12 -2 roll pop pop}bdf
/qc{exch qp qx curveto}bdf
/qi{{exch 4 copy 2a astore aload pop qa .5 qm newpath moveto}{exch 2 copy 6 -2 roll 2 qm qs 4 2 roll}ifelse}bdf
/qq{{qc 2a aload pop qx curveto}{exch 4 copy qs qa qx curveto}ifelse}bdf
/pt{currentpoint newpath moveto}bdf
/qf{/fillflag true def}bdf
/ec{1 and 0 ne{0 doop}if grestore currentpoint newpath moveto/fillflag false def}bdf
/eu{currentpoint fp{0 ep}{grestore newpath}ifelse moveto/fillflag false def}bdf
/bp{currentpoint newpath 2 copy moveto}bdf
/ef{gsave fillflag{gsave eofill grestore}if}bdf
/sm{0 exch{@1 eq{1 add}if}forall}bdf
/lshow{4 1 roll exch/@1 exch def{1 index wi pop sub 1 index sm dv 0 @1 4 -1 roll widthshow}{1 index wi pop sub
1 index dup sm 10 mul exch length 1 sub add dv dup 10. mul 0 @1 4 -1 roll 0 6 -1 roll awidthshow}ifelse}bdf
/setTxMode{sa 9 2 index put 3 eq{1}{0}ifelse setgray}bdf
/SwToSym{{}mark false/Symbol/|______Symbol 0 rf 0 sa 6 get 0 ne{pop 1}{sa 7 get 0 eq{pop 2}if}ifelse
sa 1 get 0 ne/|______Symbol
sa 4 get 0 ne{vs}{sa 3 get 0 ne{vo}{fnt}ifelse}ifelse}bdf
/mc{0 3 1 roll transform neg exch pop}bdf
/ul{dup 0 ne sa 2 get 0 ne and{gsave 0 0
/UnderlinePosition kif{mc}{ps -10 div}ifelse/UnderlineThickness kif{mc}{ps 15 div}ifelse
abs setlinewidth neg rmoveto
sa 4 get 0 ne{gsave currentlinewidth 2. div dup rmoveto currentpoint newpath moveto
2 copy rlineto stroke grestore}if
sa 3 get sa 4 get or 0 ne{gsave gl 2 copy rlineto stroke grestore rlineto strokepath nlw pys div setlinewidth}{rlineto}ifelse
stroke grestore}{pop}ifelse}bdf
/sgt{2 copy known{get true}{pop pop false}ifelse}bdf
/kif{currentfont dup/FontMatrix get exch/FontInfo sgt{true}{currentfont/df sgt
{dup/FontInfo sgt{3 1 roll/FontMatrix get mtx concatmatrix exch true}{pop pop pop false}
ifelse}{pop pop false}ifelse}ifelse{3 -1 roll sgt{exch true}{pop false}ifelse}{false}ifelse}bdf
/blank/Times-Roman findfont/CharStrings get/space get def
/macvec 256 array def
/NUL/SOH/STX/ETX/EOT/ENQ/ACK/BEL/BS/HT/LF/VT/FF/CR/SO/SI
/DLE/DC1/DC2/DC3/DC4/NAK/SYN/ETB/CAN/EM/SUB/ESC/FS/GS/RS/US
macvec 0 32 getinterval astore pop
macvec 32/Times-Roman findfont/Encoding get
32 96 getinterval putinterval macvec dup 39/quotesingle put 96/grave put
/Adieresis/Aring/Ccedilla/Eacute/Ntilde/Odieresis/Udieresis/aacute
/agrave/acircumflex/adieresis/atilde/aring/ccedilla/eacute/egrave
/ecircumflex/edieresis/iacute/igrave/icircumflex/idieresis/ntilde/oacute
/ograve/ocircumflex/odieresis/otilde/uacute/ugrave/ucircumflex/udieresis
/dagger/degree/cent/sterling/section/bullet/paragraph/germandbls
/registered/copyright/trademark/acute/dieresis/notequal/AE/Oslash
/infinity/plusminus/lessequal/greaterequal/yen/mu/partialdiff/summation
/product/pi/integral/ordfeminine/ordmasculine/Omega/ae/oslash
/questiondown/exclamdown/logicalnot/radical/florin/approxequal/Delta/guillemotleft
/guillemotright/ellipsis/blank/Agrave/Atilde/Otilde/OE/oe
/endash/emdash/quotedblleft/quotedblright/quoteleft/quoteright/divide/lozenge
/ydieresis/Ydieresis/fraction/currency/guilsinglleft/guilsinglright/fi/fl
/daggerdbl/periodcentered/quotesinglbase/quotedblbase/perthousand/Acircumflex/Ecircumflex/Aacute
/Edieresis/Egrave/Iacute/Icircumflex/Idieresis/Igrave/Oacute/Ocircumflex
/apple/Ograve/Uacute/Ucircumflex/Ugrave/dotlessi/circumflex/tilde
/macron/breve/dotaccent/ring/cedilla/hungarumlaut/ogonek/caron
macvec 128 128 getinterval astore pop
{}mark true/Courier/|______Courier 0 rf
{/Metrics 21 dict begin/zero 600 def/one 600 def/two 600 def/three 600 def/four 600 def/five 600 def/six 600 def/seven 600 def/eight 600 def
/nine 600 def/comma 600 def/period 600 def/dollar 600 def/numbersign 600 def/percent 600 def/plus 600 def/hyphen 600 def/E 600 def/parenleft 600 def/parenright 600 def/space 600 def
currentdict end def currentdict/UniqueID known{/UniqueID 16#800000 def}if/FontBBox FontBBox 4 array astore def}mark true/Helvetica/|______Seattle 1 rf
/oldsettransfer/settransfer load def
/concatprocs{/proc2 exch cvlit def/proc1 exch cvlit def/newproc proc1 length proc2 length add array def
newproc 0 proc1 putinterval newproc proc1 length proc2 putinterval newproc cvx}def
/settransfer{currenttransfer concatprocs oldsettransfer}def
/PaintBlack{{1 exch sub}settransfer gsave newpath clippath 1 setgray fill grestore}def
/od{(Rvd\001\001\000\000\177) fg copy pop txpose
1 0 mtx defaultmatrix dtransform exch atan/pa exch def
newpath clippath mark
{transform{itransform moveto}}{transform{itransform lineto}}
{6 -2 roll transform 6 -2 roll transform 6 -2 roll transform
{itransform 6 2 roll itransform 6 2 roll itransform 6 2 roll curveto}}
{{closepath}}pathforall newpath counttomark array astore/gc xdf pop ct 39 0 put
10 fz 0 fs 2 F/|______Courier fnt invertflag{PaintBlack}if}bdf
/cd{}bdf
/op{/sfl false def/pm save def}bdf

% two args, booleans
/cp{
%UNI don't actually print page
        pop pop         %UNI ignore two args
%UNI    not{userdict/#copies 0 put}if
%UNI    ma 0 gt{{t1 the{exit}if}loop}if
%UNI    {copypage}{showpage}ifelse
        pm restore
}bdf
/px{0 3 1 roll tp tt}bdf
/psb{/us save def}bdf
/pse{us restore}bdf
/ct 40 string def
/nc{currentpoint initclip newpath gc{dup type dup/arraytype eq exch/packedarraytype eq or{exec}if}
forall clip newpath moveto}bdf
/kp{ct 0 2 index length 2 index 39 2 index put getinterval copy cvx exec mx3 currentmatrix pop}bdf
end     % dict "md"

%UNI don't initialize LaserWriter
%UNI LW 1 eq userdict/a4small known not and{/a4small
%UNI [[300 72 div 0 0 -300 72 div -120 3381]
%UNI 280 3255
%UNI {statusdict/jobstate (printing) put 0 setblink
%UNI margins
%UNI exch 196 add exch 304 add 8 div round cvi frametoroket
%UNI statusdict/jobstate (busy) put
%UNI 1 setblink}
%UNI /framedevice load
%UNI 60 45{dup mul exch dup mul add 1.0 exch sub}/setscreen load
%UNI {}/settransfer load/initgraphics load/erasepage load]cvx
%UNI statusdict begin bind end readonly def}if
%UNI md begin/bigs[lnop lnop/legal load userdict/a4 known{/a4 load}{lnop}ifelse lnop lnop lnop lnop lnop]def
%UNI /smalls[lnop userdict/note known{/note load}{dup}ifelse lnop userdict/a4small known{/a4small load}{lnop}ifelse 2 index lnop lnop lnop lnop ]def end
systemdict/currentpacking known{setpacking}if
%UNI currentfile ok userdict/stretch known not and{eexec}{flushfile}ifelse

%%EndProlog
%%Page: 0 1
BS
0 SI
15 /Times-Bold AF
26096 18222 MT
(Coda File System)SH
13 SS 
20558 21581 MT
(User & System Administrator's Manual)SH
10 /Times-Roman AF
29347 24645 MT
(Version 1.0)SH
27750 26022 MT
(December 21, 1995)SH
/Times-Italic SF
30207 29007 MT
(Editors)SH
/Times-Roman SF
27820 30112 MT
(M. Satyanarayanan)SH
28444 31217 MT
(Maria R. Ebling)SH
29166 32322 MT
(Joshua Raiff)SH
25944 34532 MT
(School of Computer Science)SH
26069 35637 MT
(Carnegie Mellon University)SH
13 /Times-Bold AF
29261 40373 MT
(Abstract)SH
9 /Times-Roman AF
14040 43074 MT
(The)SH
/Times-Italic SF
15855 XM
(Coda File System)190 W
/Times-Roman SF
23000 XM
(is a descendant)
190 W( of the)189 W
/Times-Italic SF
31922 XM
(Andrew File System.)189 W
/Times-Roman SF
40553 XM
(Like AFS, Coda offers)189 W
14040 44088 MT
(location-transparent access to a shared Unix file namespace that is mapped)
60 W( on to a collection of)61 W
14040 45102 MT
(dedicated file servers.  But Coda represents a)
8 W( substantial improvement over AFS because it offers)7 W
14040 46116 MT
(considerably higher availability in the face of server and network failures.  The improvement)
61 W( in)62 W
14040 47130 MT
(availability is achieved using the complementary techniques of)443 W
/Times-Italic SF
40484 XM
(server replication)443 W
/Times-Roman SF
48020 XM
(and)SH
/Times-Italic SF
14040 48144 MT
(disconnected operation.)316 W
/Times-Roman SF
24088 XM
(Disconnected operation has proved to)
316 W( be especially valuable in)317 W
14040 49158 MT
(supporting portable computers.)
44 W( This)
312 W( document is a reference manual for Coda users and system)43 W
14040 50172 MT
(administrators.)SH
10 SS 
22146 58400 MT
(Copyright)SH
/Symbol SF
26452 XM
(\323)SH
/Times-Roman SF
27492 XM
(1995 Carnegie)
250 W( Mellon University)SH
8280 61886 MT
(This research was supported by the National Science Foundation \050Contract No.)
47 W( CCR-8657907\051, Defense Advanced)48 W
8280 62991 MT
(Research Projects Agency \050Order No. 4976, Contract)
26 W( F33615-87-C-1499\051, the IBM Corporation, Digital Equipment)25 W
8280 64096 MT
(Corporation, and Bellcore.)SH
ES
%%Page: 1 2
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
52082 XM
(Preface)SH
16 /Times-Bold AF
8280 8272 MT
(Preface)SH
10 /Times-Roman AF
8280 9649 MT
(Welcome to Coda!)
16 W( Whether)
283 W( you are at Carnegie Mellon or elsewhere, we hope that this manual will help you make)17 W
8280 11026 MT
(effective use of the Coda File System.  The)
66 W( manual is written from two different perspectives: that of an end user,)65 W
8280 12403 MT
(and that of a system administrator.  Chapters 1 through 3 are intended for)
5 W( end users, while Chapters 4 through 12 are)6 W
8280 13780 MT
(intended for system administrators.)
14 W( Also,)
277 W( 13 gives an overview of the Coda source tree layout.  The Unix-style man)13 W
8280 15157 MT
(pages in Appendix VI provide the gory details of Coda commands and file formats.)SH
8280 17223 MT
(In writing this manual we have assumed that you are an experienced Unix)
72 W( user, and that you are familiar with the)73 W
8280 18600 MT
(broad concepts of distributed file systems.  If you are a system administrator, we assume that)
50 W( you are familiar with)49 W
8280 19977 MT
(administering Unix systems.  You will find Coda especially easy to use if you are already fluent in using AFS.)SH
8280 22043 MT
(We have also assumed that you are familiar with the design goals and)
54 W( architecture of Coda.  The best way to learn)55 W
8280 23420 MT
(about these is)
58 W( to read the overview and design rationale papers on Coda)
57 W( [8, 7, 1].)
SH( We)
364 W( urge you to obtain copies of)57 W
8280 24797 MT
(these papers and)
2 W( to read them before attempting to use Coda.  There is much context and information in those papers)3 W
8280 26174 MT
(that this manual relies upon, and does not repeat.)SH
8280 28240 MT
(Since Coda is an experimental system and not a commercial product, you will inevitably encounter)
113 W( rough edges.)112 W
8280 29617 MT
(Within the limits of our resources, we will do our best to fix these problems and to improve the system over)
66 W( time.)67 W
8280 30994 MT
(But we do)
58 W( ask that you try to characterize the problem as accurately as possible, and to try and obtain a repeatable)57 W
8280 32371 MT
(and concise instance of it.)SH
8280 34437 MT
(We encourage you to)
76 W( talk to other Coda users and to share your experience.  If you are at CMU-SCS, you should)77 W
8280 35814 MT
(subscribe to the Coda)
470 W( bulletin boards.  The three most important ones for you as an end user are)469 W
/Courier SF
8280 37191 MT
(cmu.cs.proj.coda.{general,laptops,bugs})SH
/Times-Roman SF
(. Report)
400 W( bugs that you find to the latter bboard.)
75 W( System)401 W
8280 38568 MT
(administrators should also subscribe to the)SH
/Courier SF
25557 XM
(cmu.cs.proj.coda.{changelog,backuplogs})SH
/Times-Roman SF
(.)SH
8280 40634 MT
(After you have taken the time to learn the system well, give us your feedback.  We would like to)
4 W( improve the system)3 W
8280 42011 MT
(and this manual.)SH
12 /Times-Bold AF
8280 43860 MT
(Further Reading)SH
10 /Times-Roman AF
8280 45274 MT
(Besides the three papers mentioned above, there are a number of papers that)
SH( address specific aspects of Coda.  These)1 W
8280 46651 MT
(include:)SH
/Symbol SF
10070 48104 MT
(\267)SH
/Times-Roman SF
10780 XM
(a description of the MiniCache,)
110 W( which allows the client manager to reside outside the kernel without)109 W
10780 49209 MT
(excessive loss of performance [10].)SH
/Symbol SF
10070 50967 MT
(\267)SH
/Times-Roman SF
10780 XM
(a description and performance analysis of the technique used in Coda)
312 W( for transparent directory)313 W
10780 52072 MT
(resolution [3].)SH
/Symbol SF
10070 53830 MT
(\267)SH
/Times-Roman SF
10780 XM
(a manual on the remote procedure call,)SH
/Times-Italic SF
26609 XM
(RPC2,)SH
/Times-Roman SF
29498 XM
(and threading,)SH
/Times-Italic SF
35469 XM
(LWP,)SH
/Times-Roman SF
37969 XM
(mechanisms used in Coda [5].)SH
/Symbol SF
10070 55588 MT
(\267)SH
/Times-Roman SF
10780 XM
(a paper and manual on the transactional facility,)SH
/Times-Italic SF
30248 XM
(RVM,)SH
/Times-Roman SF
32803 XM
(used on Coda clients and servers [9, 4].)SH
/Symbol SF
10070 57346 MT
(\267)SH
/Times-Roman SF
10780 XM
(a detailed description of support for disconnected operation in Coda)
104 W( [2].)
SH( Chapter)
458 W( 4 of this document)103 W
10780 58451 MT
(offers an excellent overview of the implementation structure of clients and servers.)SH
/Symbol SF
10070 60209 MT
(\267)SH
/Times-Roman SF
10780 XM
(a discussion of relevant security issues and)
180 W( mechanisms to address them)
181 W( [6].)
SH( This)
612 W( paper discusses)181 W
10780 61314 MT
(security in AFS-2, but the mechanisms in Coda are virtually identical.)SH
12 /Times-Bold AF
8280 63163 MT
(Acknowledgements)SH
10 /Times-Roman AF
8280 64577 MT
(Coda is the work of many individuals.  Contributors to the)
133 W( design and implementation of various aspects of the)132 W
8280 65954 MT
(system include: Jay Kistler, Puneet Kumar, David Steere,)
67 W( Lily Mummert, Maria Ebling, M. Satyanarayanan, Hank)68 W
8280 67331 MT
(Mashburn, Brian Noble, Lu Qi,)
205 W( Josh Raiff, Ellen Siegel, Anders Klemets, and Kudo Masahi.  Many of these)204 W
8280 68708 MT
(individuals have also contributed to the writing of this manual.  The system)
47 W( has improved considerably in response)48 W
8280 70085 MT
(to feedback from users outside the Coda)
78 W( project.  The earliest of these users \050Tom Mitchell, Manuela Veloso, and)77 W
8280 71462 MT
(Matt Zekauskas\051 deserve special thanks for their willingness to sail into uncharted waters!)SH
8280 75600 MT
(December 21, 1995)SH
54580 XM
(1)SH
ES
%%Page: 2 3
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
49922 XM
(Preface)SH
13 /Times-Bold AF
25962 8071 MT
(Reading List)SH
10 /Times-Roman AF
6120 10444 MT
([1])SH
9120 XM
(Kistler, J.J., Satyanarayanan, M.)SH
9120 11549 MT
(Disconnected Operation in the Coda File System.)SH
/Times-Italic SF
9120 12654 MT
(ACM Transactions on Computer Systems)SH
/Times-Roman SF
25870 XM
(10\0501\051, February, 1992.)SH
6120 14445 MT
([2])SH
9120 XM
(Kistler, J.J.)SH
/Times-Italic SF
9120 15550 MT
(Disconnected Operation in a Distributed File System)SH
/Times-Roman SF
(.)SH
9120 16655 MT
(PhD thesis, Department of Computer Science, Carnegie Mellon University, May, 1993.)SH
6120 18446 MT
([3])SH
9120 XM
(Kumar, P., Satyanarayanan, M.)SH
9120 19551 MT
(Log-based Directory Resolution in the Coda File System.)SH
9120 20656 MT
(In)SH
/Times-Italic SF
10203 XM
(Proceedings of the Second International Conference on Parallel and Distributed Information Systems)SH
/Times-Roman SF
(.)SH
10620 21761 MT
(San Diego, CA, January, 1993.)SH
6120 23552 MT
([4])SH
9120 XM
(Mashburn, H., Satyanarayanan, M.)SH
/Times-Italic SF
9120 24657 MT
(RVM: Recoverable Virtual Memory User Manual)SH
/Times-Roman SF
9120 25762 MT
(School of Computer Science, Carnegie Mellon University, 1992.)SH
6120 27553 MT
([5])SH
9120 XM
(Satyanarayanan, M.)SH
/Times-Italic SF
9120 28658 MT
(RPC2 User Guide and Reference Manual)SH
/Times-Roman SF
9120 29763 MT
(School of Computer Science, Carnegie Mellon University, 1991.)SH
6120 31554 MT
([6])SH
9120 XM
(Satyanarayanan, M.)SH
9120 32659 MT
(Integrating Security in a Large Distributed System.)SH
/Times-Italic SF
9120 33764 MT
(ACM Transactions on Computer Systems)SH
/Times-Roman SF
25870 XM
(7\0503\051, August, 1989.)SH
6120 35555 MT
([7])SH
9120 XM
(Satyanarayanan, M., Kistler, J.J., Kumar, P., Okasaki, M.E., Siegel, E.H., Steere, D.C.)SH
9120 36660 MT
(Coda: A Highly Available File System for a Distributed Workstation Environment.)SH
/Times-Italic SF
9120 37765 MT
(IEEE Transactions on Computers)SH
/Times-Roman SF
22898 XM
(39\0504\051, April, 1990.)SH
6120 39556 MT
([8])SH
9120 XM
(Satyanarayanan, M.)SH
9120 40661 MT
(Scalable, Secure, and Highly Available Distributed File Access.)SH
/Times-Italic SF
9120 41766 MT
(IEEE Computer)SH
/Times-Roman SF
15786 XM
(23\0505\051, May, 1990.)SH
6120 43557 MT
([9])SH
9120 XM
(Satyanarayanan, M., Mashburn, H.H., Kumar, P., Steere, D.C., Kistler, J.J.)SH
/Times-Italic SF
9120 44662 MT
(Lightweight Recoverable Virtual Memory)SH
/Times-Roman SF
9120 45767 MT
(School of Computer Science, Carnegie Mellon University, 1993.)SH
6120 47558 MT
([10])SH
9120 XM
(Steere, D.C., Kistler, J.J., Satyanarayanan, M.)SH
9120 48663 MT
(Efficient User-Level Cache File Management on the Sun Vnode Interface.)SH
9120 49768 MT
(In)SH
/Times-Italic SF
10203 XM
(Summer Usenix Conference Proceedings)SH
/Times-Roman SF
(. June,)
250 W( 1990.)SH
6120 75600 MT
(December 21, 1995)SH
52420 XM
(2)SH
ES
%%Page: 3 4
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
48997 XM
(Getting Started)SH
16 /Times-Bold AF
8280 8272 MT
(1. Getting Started)SH
10 /Times-Roman AF
8280 9649 MT
(The Coda file system expands the local file system hierarchy to include)
23 W( shared files much like the)24 W
/Times-Italic SF
48032 XM
(Sun Network File)24 W
8280 11026 MT
(System)SH
/Times-Roman SF
11446 XM
(and the)139 W
/Times-Italic SF
14890 XM
(Andrew File System)139 W
/Times-Roman SF
(. Figure)
528 W( 1-1 below shows the user's view of the file system hierarchy on a)139 W
8280 12403 MT
(machine with all three types of file systems.)SH
5 10 0 18180 28627 GB 
%%BeginDocument: figure1.PS
%!PS-Adobe-2.0
%%Creator:Cricket Draw 1.1
%%Title:CFS Manual Figure 1.1
%%CreationDate: 12/14/89   5:00 PM
%%DocumentFonts: Helvetica
%%BoundingBox: 0 0 612 792 
%%%Pages:(atend) 
%%EndComments
%-------- begin added by hand for Scribe -------%
%% Use Mac40PostScript in Scribe documents.
0 288 translate
1 -1 scale
%-------- end added by hand for Scribe -------%
/vmstate save def
/$cricket 210 dict def
$cricket begin
2 setlinecap
/d /def load def
/b {bind d}bind d
/l {load d}b
/e /exch l
/x {e d}b
/C /closepath l
/CP /currentpoint l
/SH /show l
/g /gsave l
/G /grestore l
/i /if l
/I /ifelse l
/v /getinterval l
/V /putinterval l
/W /stringwidth l
/SG /setgray l
/N /newpath l
/M /moveto l
/L /lineto l
/R /rlineto l
/T /translate l
/D /dup l
/* /mul l
/+ /add l
/- /sub l
/? /div l
/ma {* +}b 
/h {D * e D ma sqrt}d
/np {} d 
systemdict D /setpacking known D {/packstate currentpacking d D setpacking}i /pack? x
begin /settransfer load /setscreen load end 
/setscreen x /settransfer x
systemdict /setcmykcolor known not { /setcmykcolor {pop pop pop pop 0 SG} d} if
/dt [ currenttransfer ] cvx d 
/ds [ currentscreen D [ e ] cvx /devSpot x ] cvx d 
/jp {e [ 3 1 roll aload pop counttomark -1 roll aload pop ] cvx}b 
/settransfer {dt jp settransfer}b 
/macvec dup where not { 256 array d 
macvec 0 StandardEncoding
0 128 getinterval putinterval
macvec 16#27 /quotesingle put
macvec 16#60 /grave put
/Adieresis /Aring /Ccedilla /Eacute /Ntilde /Odieresis /Udieresis /aacute
/agrave /acircumflex /adieresis /atilde /aring /ccedilla /eacute /egrave
/ecircumflex /edieresis /iacute /igrave /icircumflex /idieresis /ntilde /oacute
/ograve /ocircumflex /odieresis /otilde /uacute /ugrave /ucircumflex /udieresis
/dagger /degree /cent /sterling /section /bullet /paragraph /germandbls
/registersans /copyrightsans /trademarksans /acute /dieresis /notequal /AE /Oslash
/infinity /plusminus /lessequal /greaterequal /yen /mu /partialdiff /summation
/product /pi /integral /ordfeminine /ordmasculine /Omega /ae /oslash
/questiondown /exclamdown /logicalnot /radical /florin /approxequal /Delta /guillemotleft
/guillemotright /ellipsis /space /Aacute /Atilde /Otilde /OE /oe
/endash /emdash /quotedblleft /quotedblright /quoteleft /quoteright /divide /lozenge
/ydieresis /Ydieresis /fraction /currency /guilsinglleft /guilsinglright /fi /fl
/daggerdbl /periodcentered /quotesinglbase /quotedblbase /perthousand
/Acircumflex /Ecircumflex /Agrave
/Edieresis /Egrave /Iacute /Icircumflex /Idieresis /Igrave /Oacute /Ocircumflex
/apple /Ograve /Uacute /Ucircumflex /Ugrave /dotlessi /circumflex /tilde
/macron /breve /dotaccent /ring /cedilla /hungarumlaut /ogonek /caron
macvec 128 128 v astore pop}{pop pop}I
/ad {+ d}b 
/sd {- d}b 
/td {* d}b 
/dd {? d}b
/c {2 ? e 2 ? e}b 
/n0 {D 0 eq {pop}}b
/m1 matrix d /m2 matrix d /m3 matrix d
/ct 0 d 
/s+ 0 d 
/po 0 d 
/ts 40 string d
/s1 (|______) d
ts 0 s1 V
/sp ( ) d
/SM {/m3 m3 currentmatrix d}b 
/RM {m3 setmatrix}b 
/dpi 72 0 matrix defaultmatrix dtransform h d
/inch {72 *}b
/cm {28.3465 *}b
/pi 3.1415923 d
/fs 256 string d 
/sh {m1 m2 copy 2 3 -1 roll sin put m2 concat}b 
/fc {T n0 {rotate}I scale n0 {sh}I}b 
/a {/ea x /sa x SM -1 * scale 0 0 1 sa ea 2 copy gt {arcn}{arc}I RM}b 
/cn {SM T x1 y1 scale 0 0 1 ct 90 * D 90 + arc /ct ct 1 ad RM}b 
/rr {/y1 x /x1 x /ct 0 d c y1 - /yr x x1 - /xr x N xr yr cn xr neg yr cn xr neg yr neg cn xr yr neg cn C}b 
/dg 
{/lc x clip rotate T /dy x /dx x
0 eq {N 
1 eq {1 10 lc ? 10{log dy * 0 e neg M dx 0 R}for lc 10 gt{dy 0 e neg M dx 0 R}i}
{lc 1 eq {0 0 e neg M dx 0 R}{/st dy lc 1 - dd 0 1 lc 1 - {st * 0 e neg M dx 0 R}for}I}I
stroke}
{1 eq {/st 0 d /inc 10 lc 1 + dd dx dy lt {/rd dx d}{/rd dy d}I
1 1 lc {/di st 1 + log 10 log ? rd td N dx di - dy di - 0 360 a C stroke /st st inc ad}for} 
{dx dy lt {/st dx lc dd}{/st dy lc dd}I lc {N dx dy 0 360 a C stroke /dx dx st sd /dy dy st sd}repeat} I
}I}b
/sb {/ea x /ia x /sa x /yr x /xr x ea sa lt{/ia ia neg d}i N sa ia ea{D /x1 e cos xr td /y1 e sin yr * neg d x1 y1 M 0 0 L}for}b
/bm {/y1 x /x1 x bitgray SG x1 y1 /md where {pop md /invertflag 2 copy known {get not}{pop pop true}I }{true}I 
[x1 0 0 y1 0 0] {currentfile picstring readhexstring pop}imagemask}b
/c1 .166667 d /c2 .833333 d /c3 .5 d
/p3 {+ c3 *}b 
/dc{/y2 x /x2 x x0 c1 * x1 c2 ma y0 c1 * y1 c2 ma x1 c2 * x2 c1 ma y1 c2 * y2 c1 ma x1 x2 p3 y1 y2 p3 curveto}b 
/mp {/x0 x1 d /y0 y1 d /x1 x2 d /y1 y2 d}b
/SPOLY_INIT
{/SPOLY_SAVE save d /cls x
/M {2 copy /y0 x /x0 x moveto /M /moveto load d}d
/L {/y1 x /x1 x x0 x1 p3 y0 y1 p3
cls {/yy y1 d /xx x1 d /C {mp xx yy dc systemdict /closepath get exec}d M}
{lineto}I /L {{dc mp}stopped {/L {pop pop}d /noerr false d}i}d}d}d
/SPOLY_END {SPOLY_SAVE restore}b
/ah {g 2 copy T 3 -1 roll - 3 1 roll e - atan rotate os 0 M hl hw R 0 hw 2 * neg R C fill G}b
/da 
{/bp x /ep x g stroke G 
currentlinewidth dup .24 lt {pop .24}i 
D -10 * D /hl x -2 ? /os x 2 * /hw x
flattenpath /out? false d
bp{g {/by x /bx x}
{2 copy by eq e bx eq and {pop pop}{/out? true d}I out? {exit}i}
/np load dup pathforall N bx by ah G}i
ep{/out? false d reversepath {/ey x /ex x} 
{2 copy ey eq e ex eq and {pop pop}{/out? true d}I out? {exit}i}
/np load dup pathforall N ex ey ah}i}b 
/tp {sm0 transform}b 
/sfp {} d 
/op {{tp moveto}{tp lineto}{3{tp 6 2 roll}repeat curveto}{C} pathforall sfp stroke}b 
/sm0 matrix d /sm1 matrix d
/so 
{SG /eg x /tg x /yt x /xt x 
xt 0 ne yt 0 ne or {
xt abs yt abs gt {/tt xt abs d}{/tt yt abs d}I
tt 144 gt {/ct dpi 2 dd /sfp{g eofill G}d}
{tt 72 gt {/ct dpi 4 dd /sfp{g eofill G}d}
{/ct dpi 4 dd}I}I
/ig tg eg - ct ? neg d
/x1 xt ct ? neg d /y1 yt ct dd 
1 0 0 1 xt yt sm0 astore pop 
1 0 0 1 x1 y1 neg sm1 astore pop
g op G
1 1 ct{g ig * tg + SG sm0 D sm1 e concatmatrix pop op G}for}i}b
/css {T 0 0 M xsp 0 32 Txt widthshow}b
/sc 
{g /xsp x /tg x /eg x /sg x /y1 x /x1 x /Txt x
/sst dpi 4 dd /y2 y1 sst dd /x2 x1 neg sst dd
eg sg eq {/sg sg .001 sd}i
/ig eg sg - sst ? neg d 
g tg SG x1 y1 neg css 
eg ig + ig sg {SG x2 y2 css}for G 
x2 y2 css CP G T 0 0 M}b 
/gbb {pathbbox /y1 x /x1 x /y2 x /x2 x /x3 x1 x2 sd /y3 y1 y2 sd}b 
/radf 
{/dn dpi 300 ? 8 * 24 ad /ig rg 255 ? dn dd
sg 255 ? SG eoclip gbb 
x2 x3 2 ? + y2 y3 2 ? + T N
x3 y3 h 2 ? D dn ? neg 1 
{0 0 3 -1 roll 0 360 arc C fill currentgray ig + SG}for}b
/dof 
{/ff x 
eoclip 180 - rotate gbb
x1 y1 T 180 rotate x3 y3 scale
0 1 255 {fs e D 255 ? ff rg * sg + round cvi put}for
1 256 8 [1 0 0 256 0 0] fs image}b
/gft {radf {{} dof}{{1 e - 9 * 1 + log 1 e -}dof}}b
/df 
{g 2 copy eq {SG pop 0 ne {pop}i fill}{255 * e 255 * e 1 index - /rg x /sg x /gft load e get exec}I G}b 
/oc
{/tl x /ju x /di 0 d 
g flattenpath
{/y1 x /x1 x}{/y2 x /x2 x /dx x2 x1 sd /dy y2 y1 sd /di dx D * dy D ma sqrt di ad /x1 x2 d /y1 y2 d}
{}{/y2 x /x2 x /dx x2 x1 sd /dy y2 y1 sd /di dx D * dy D ma sqrt d}pathforall
ju 0 eq{/po 0 store}i
ju 1 eq{/po di tl - 2 ? store}i
ju 2 eq{/po di tl - store}i G}b
/pt {/FM true d /os x /sr x /os os sr 0 1 v W pop 2 ? ad /pd 0 d /sl os d /ct 0 d g flattenpath {mtp}{ltp}{ctp}{cpp}pathforall G}b
/mtp {/y1 x /x1 x /x2 x1 d /y2 y1 d /ovr FM {os /FM false d}{0}I d x1 y1 transform /cpy x /cpx x}b
/ltp 
{/x3 x1 d /y3 y1 d /y1 x /x1 x /dx x1 x3 sd /dy y1 y3 sd /di dx D * dy D ma sqrt d 
/di 0 ne
{/dsx dx di ? ovr td /dsy dy di ? ovr td x3 dsx + y3 dsy + transform
/cpy x /cpx x /pd pd di ad {sl pd le {ct sr length lt{sch}{exit}I}{/ovr sl pd sd exit}I}loop}i}b
/ctp {}b 
/cpp {x2 y2 ltp x2 y2 mtp}b 
/sch 
{/ch sr ct 1 v d /ct ct 1 ad
/cw ch W pop 2 dd 
g cpx cpy itransform T dy dx atan rotate cw neg 0 M ch SH
ct sr length lt{sr ct 1 v W pop 2 ? 0 rmoveto}i
CP transform /cpy x /cpx x G
/sl sl cw ad /po po cw 2 ma store ct sr length lt{/sl sl sr ct 1 v W pop 2 ? ad}i}b
/cpd {/newslots x D length newslots + dict D 3 1 roll begin {1 index /FID ne {def}i}forall pop pop end}b
/fn? {FontDirectory exch known} b
/mof 
{/ui 0 d 
/pw 1000 24 dd 
/nn x 
/bn x 
ui 0 eq 
{/ui bn findfont
dup /UniqueID known 
{/UniqueID get 1 add}{pop 1}ifelse
def} if
/bfd bn findfont def 
/ct bfd maxlength 1 ad 
bfd /UniqueID known not
{/ct ct 1 ad} if
/ofd ct dict def 
bfd
{ exch dup /FID ne
{exch ofd 3 1 roll put}
{pop pop} ifelse
}forall
ofd /FontName nn put
ofd /PaintType 2 put
ofd /StrokeWidth pw put
ofd /UniqueID ui put
nn ofd definefont pop}b
/muf 
{20 dict begin
/ui x 
e /BaseFont e findfont d
ui 0 eq 
{/ui BaseFont D /UniqueID known 
{/UniqueID get 1 +}{pop 1}I d}i
/FontType 3 d
/Upos BaseFont /FontInfo 2 copy known
{get /UnderlinePosition 2 copy known
{get}{pop pop -100 }I}{ pop pop -100 }I d
/Uwid BaseFont /FontInfo 2 copy known
{get /UnderlineThickness 2 copy known
{get}{pop pop 50}I}
{pop pop 50}I d
/FontMatrix BaseFont /FontMatrix get d
/FontBBox BaseFont /FontBBox get
D 1 get Upos gt {D 1 Upos put}i d
/Encoding BaseFont /Encoding get d
/theChar 1 string d
/BuildChar
{e begin
theChar 0 3 -1 roll put
BaseFont 1000 scalefont setfont
theChar W FontBBox setcachedevice
0 0 M
theChar show
0 Upos rmoveto 0 Upos L
Uwid setlinewidth stroke
end}d
currentdict 
end
definefont pop}b
/of {dup fn? {pop pop}{mof}I}b
/uf {1 index fn? {pop pop pop}{muf}I}b
/ns {g CP m3 currentmatrix nulldevice setmatrix T 0 0 M Txt CP pop G}b 
/ft {/ftsave save d CP 3 1 roll + e T 0 0 M /show /myshow l Txt ftsave restore}b 
/ls {/Txt x 0 ft}b 
/cs {/Txt x ns 2 ? neg ft}b 
/rs {/Txt x ns neg ft}b 
/slp {/sproc x /sr x 0 1 sr length 1 - {sr e 1 v sproc}for}b 
/ss 
{/Txt x /fsave save d
CP 2 copy T 0 0 M 
/ffsave save d pop - /lw x ns /tw x /wsp lw tw sd /nsp 0 d
/show {nsp e {sp eq {1 +}i}slp /nsp x}d 
Txt 0 nsp 0 gt {wsp nsp ? +}i ffsave restore /s+ x
/myshow load D systemdict /show get ne
{D D length 1 - get cvlit /charshadow eq {[ e aload pop e pop s+ e ] cvx}i}
{pop {s+ 0 32 4 -1 roll widthshow}}I
/show x Txt fsave restore}b
/cf{D /fn x length 7 + string /ts x ts 0 s1 V ts 7 fn V /fnm ts cvn d 
FontDirectory fnm known not {fn cvn findfont 0 cpd /nfd x nfd D /FontName fnm put /Encoding macvec put fnm nfd definefont pop}i}b
 
/JoinProcs /jp l
/fixcoordinates /fc l
/doarc /a l
/doroundrect /rr l
/dograte /dg l
/pathoffset /po l
/pathtext /pt l
/dostarburst /sb l
/dobitmap /bm l
/strokearrow /da l
/shadow /so l
/charshadow /sc l
/fountain /df l
/offsetcalc /oc l
/MakeOutlineFont /of l
/MakeUnderlineFont /uf l
/leftshow /ls l
/rightshow /rs l
/centershow /cs l
/fullshow /ss l
/coordinatefont /cf l
 
pack? {packstate setpacking}i
 
%-----------------------------------
%Encode PS Fonts to match Mac Fonts
(Helvetica) coordinatefont
%-----------------------------------


%----- Begin Main Program -----%
gsave % Line
0 1  1  0 251.281 10.074  fixcoordinates
newpath
-3.281 8.374  moveto
3.281 -8.374 lineto
1 setlinewidth 0 setgray stroke
grestore
gsave % Line
0 1  1  0 248 67.578  fixcoordinates
newpath
0 -42.429  moveto
0 42.429 lineto
1 setlinewidth 0 setgray stroke
grestore
gsave % Line
0 1  1  0 266.598 67.578  fixcoordinates
newpath
-13.128 -42.429  moveto
13.128 42.429 lineto
1 setlinewidth 0 setgray stroke
grestore
gsave % Line
0 1  1  0 225.025 68.136  fixcoordinates
newpath
17.504 -42.988  moveto
-17.504 42.988 lineto
1 setlinewidth 0 setgray stroke
grestore
gsave % Line
0 1  1  0 281.914 68.136  fixcoordinates
newpath
-24.068 -41.871  moveto
24.068 41.871 lineto
1 setlinewidth 0 setgray stroke
grestore
gsave % Line
0 1  1  0 300.512 68.694  fixcoordinates
newpath
-36.102 -42.429  moveto
36.102 42.429 lineto
1 setlinewidth 0 setgray stroke
grestore
gsave % Line
0 1  1  0 326.768 68.694  fixcoordinates
newpath
-55.794 -42.429  moveto
55.794 42.429 lineto
1 setlinewidth 0 setgray stroke
grestore
gsave % Line
0 1  1  0 209.162 68.136  fixcoordinates
newpath
26.803 -42.988  moveto
-26.803 42.988 lineto
1 setlinewidth 0 setgray stroke
grestore
gsave % Line
0 1  1  0 192.752 68.694  fixcoordinates
newpath
35.555 -43.546  moveto
-35.555 43.546 lineto
1 setlinewidth 0 setgray stroke
grestore
gsave % Line
0 1  1  0 176.889 67.578  fixcoordinates
newpath
43.76 -42.429  moveto
-43.76 42.429 lineto
1 setlinewidth 0 setgray stroke
grestore
gsave % Line
0 1  1  0 163.214 69.253  fixcoordinates
newpath
49.777 -42.988  moveto
-49.777 42.988 lineto
1 setlinewidth 0 setgray stroke
grestore
gsave % Oval
0 1  1  0 178.53 175.885  fixcoordinates
newpath
74.939 22.331 0 360 doarc
1 setlinewidth 0 setgray stroke
grestore
gsave  % Text Block
0 1  -1  0 180.718 178.677  fixcoordinates
/myshow /show load def
0 setgray 
-35 2 moveto
/|______Helvetica findfont 12 scalefont setfont
{
(Local Files) show
} leftshow
grestore
gsave  % Text Block
0 1  -1  0 307.077 261.789  fixcoordinates
/myshow /show load def
0 setgray 
-38 0 moveto
/|______Helvetica findfont 12 scalefont setfont
{
(Shared Files) show
} leftshow
grestore
gsave % Oval
0 1  1  0 307.076 257.954  fixcoordinates
newpath
45.948 12.84 0 360 doarc
1 setlinewidth 0 setgray stroke
grestore
gsave  % Text Block
0 1  -1  0 374.906 213.777  fixcoordinates
/myshow /show load def
0 setgray 
-39 0 moveto
/|______Helvetica findfont 12 scalefont setfont
{
(Shared Files) show
} leftshow
grestore
gsave % Oval
0 1  1  0 375.999 209.941  fixcoordinates
newpath
45.948 12.84 0 360 doarc
1 setlinewidth 0 setgray stroke
grestore
gsave  % Text Block
0 1  -1  0 237.061 227.176  fixcoordinates
/myshow /show load def
0 setgray 
-38 0 moveto
/|______Helvetica findfont 12 scalefont setfont
{
(Shared Files) show
} leftshow
grestore
gsave % Oval
0 1  1  0 237.06 223.34  fixcoordinates
newpath
45.948 12.84 0 360 doarc
1 setlinewidth 0 setgray stroke
grestore
gsave  % Text Block
0 1  -1  0 397.881 176.931  fixcoordinates
/myshow /show load def
0 setgray 
-39 0 moveto
/|______Helvetica findfont 12 scalefont setfont
{
(Shared Files) show
} leftshow
grestore
gsave % Oval
0 1  1  0 397.88 173.095  fixcoordinates
newpath
45.948 12.84 0 360 doarc
1 setlinewidth 0 setgray stroke
grestore
gsave % Line
0 1  1  0 112.342 146.854  fixcoordinates
newpath
-4.376 -15.632  moveto
4.376 15.632 lineto
1 setlinewidth 0 setgray stroke
grestore
gsave % Line
0 1  1  0 134.769 145.18  fixcoordinates
newpath
-1.641 -13.957  moveto
1.641 13.957 lineto
1 setlinewidth 0 setgray stroke
grestore
gsave % Line
0 1  1  0 158.291 142.388  fixcoordinates
newpath
0 -11.165  moveto
0 11.165 lineto
1 setlinewidth 0 setgray stroke
grestore
gsave % Line
0 1  1  0 181.812 142.388  fixcoordinates
newpath
0.547 -11.165  moveto
-0.547 11.165 lineto
1 setlinewidth 0 setgray stroke
grestore
gsave % Line
0 1  1  0 205.88 142.388  fixcoordinates
newpath
1.641 -12.282  moveto
-1.641 12.282 lineto
1 setlinewidth 0 setgray stroke
grestore
gsave % Line
0 1  1  0 237.06 145.18  fixcoordinates
newpath
7.658 -13.957  moveto
-7.658 13.957 lineto
1 setlinewidth 0 setgray stroke
grestore
gsave % Line
0 1  1  0 390.221 145.18  fixcoordinates
newpath
-4.376 -15.073  moveto
4.376 15.073 lineto
1 setlinewidth 0 setgray stroke
grestore
gsave  % Text Block
0 1  -1  0 256 119.5  fixcoordinates
/myshow /show load def
0 setgray 
-169 -2 moveto
/|______Helvetica findfont 12 scalefont setfont
{
(   usr   bin   etc   tmp  lib    vmunix  afs   nfs1  nfs2  ...  coda) show
} leftshow
grestore
gsave % Line
0 1  1  0 343 162  fixcoordinates
newpath
-7 -37  moveto
7 37 lineto
1 setlinewidth 0 setgray stroke
grestore
gsave % Line
0 1  1  0 307 185.5  fixcoordinates
newpath
0 -59.5  moveto
0 59.5 lineto
1 setlinewidth 0 setgray stroke
grestore
gsave % Line
0 1  1  0 264.5 168.5  fixcoordinates
newpath
16.5 -42.5  moveto
-16.5 42.5 lineto
1 setlinewidth 0 setgray stroke
grestore

%------ End Main Program ------%

showpage end
vmstate restore

%%Trailer

%%%Pages:1


%%EndDocument
 GE /Times-Bold SF
21278 30418 MT
(Figure 1-1:)SH
/Times-Roman SF
26527 XM
(Coda file system view at a workstation)SH
8280 32209 MT
(Data sharing in Coda,)
95 W( like that in Andrew, is supported by a distributed file system that appears as a single large)96 W
8280 33586 MT
(subtree of the)
55 W( local file system on each workstation.  This subtree is identical on all workstations.  Thus, processes)54 W
8280 34963 MT
(on two different workstations can read and write files in this subtree just as)
190 W( if they were running on a single)191 W
8280 36340 MT
(timesharing system with)
48 W( the difference that processes on the different workstations see changes only when files are)47 W
8280 37717 MT
(opened and closed.  Familiarity with AFS is helpful when learning about Coda.)SH
8280 39783 MT
(This chapter introduces essential Coda commands.  For more details on these commands, refer to their man pages.)SH
14 /Times-Bold AF
8280 43601 MT
(1.1. Authentication)SH
10 /Times-Roman AF
8280 44978 MT
(Once you are logged in to your workstation, you need to get a Coda authentication token by running the)171 W
/Times-Bold SF
53358 XM
(clog)SH
/Times-Roman SF
8280 46355 MT
(program.)SH
/Times-Bold SF
12610 XM
(clog)SH
/Times-Roman SF
14678 XM
(will prompt you for your Coda password and use it to get a token)
96 W( from the)95 W
/Times-Italic SF
46208 XM
(authentication server)95 W
/Times-Roman SF
(.)SH
8280 47732 MT
(This token will expire in about 25 hours.  After the token expires, you must use)50 W
/Times-Bold SF
41078 XM
(clog)SH
/Times-Roman SF
43101 XM
(to authenticate for another 25)51 W
8280 49109 MT
(hours. The)
250 W( following in an example of running)SH
/Times-Bold SF
27500 XM
(clog)SH
/Times-Roman SF
29472 XM
(twice. The)
250 W( first time, the wrong password was entered:)SH
/Courier SF
10280 50613 MT
(%)SH
/Times-Bold SF
11480 XM
(clog)SH
/Courier SF
10280 51718 MT
(Password:)SH
10280 52823 MT
(Invalid login \050RPC2_NOTAUTHENTICATED \050F\051\051)SH
10280 53928 MT
(%)SH
/Times-Bold SF
11480 XM
(clog)SH
/Courier SF
10280 55033 MT
(Password:)SH
10280 56138 MT
(%)SH
/Times-Roman SF
8280 58204 MT
(To see your newly acquired token, use)SH
/Times-Bold SF
23943 XM
(ctokens)SH
/Times-Roman SF
(. This)
250 W( will display the tokens and their expiration time for your UID.)SH
/Courier SF
10280 59708 MT
(%)SH
/Times-Bold SF
11480 XM
(ctokens)SH
/Courier SF
10280 61918 MT
(Tokens held by the Cache Manager:)SH
10280 64128 MT
(UID=2534 : [Expires Mar 19 10:50])SH
/Times-Roman SF
8280 66194 MT
(Use the)20 W
/Times-Bold SF
11597 XM
(cpasswd)SH
/Times-Roman SF
15423 XM
(command to change your Coda password.  As with)20 W
/Times-Bold SF
36267 XM
(passwd)SH
/Times-Roman SF
(,)SH
/Times-Bold SF
39899 XM
(cpasswd)SH
/Times-Roman SF
43725 XM
(will prompt for your)
20 W( current)19 W
8280 67571 MT
(password, then ask you to enter a new password twice.)SH
8280 75600 MT
(December 21, 1995)SH
54580 XM
(3)SH
ES
%%Page: 4 5
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
46837 XM
(Getting Started)SH
/Courier SF
8120 7870 MT
(%)SH
/Times-Bold SF
9320 XM
(cpasswd)SH
/Courier SF
8120 8975 MT
(Changing password for raiff)SH
8120 10080 MT
(Old password:)SH
8120 11185 MT
(New password for raiff:)SH
8120 12290 MT
(Retype new password:)SH
8120 13395 MT
(Password changed, it will be in effect in about 1 hour)SH
/Times-Roman SF
6120 15461 MT
(You can "log out" of Coda by using the)42 W
/Times-Bold SF
22563 XM
(cunlog)SH
/Times-Roman SF
25689 XM
(command to tell)42 W
/Times-Italic SF
32565 XM
(venus)SH
/Times-Roman SF
35134 XM
(to forget)
42 W( your tokens.  Once you run)43 W
/Times-Bold SF
50280 XM
(unlog)SH
/Times-Roman SF
(,)SH
6120 16838 MT
(you will have the same privileges as an anonymous Coda user until you acquire a new authentication token.)SH
14 /Times-Bold AF
6120 20656 MT
(1.2. Coda File Protection)SH
10 /Times-Roman AF
6120 22033 MT
(Coda provides a close approximation to UNIX protection semantics.)
63 W( An)375 W
/Times-Italic SF
36196 XM
(access control list)62 W
/Times-Roman SF
43854 XM
(\050ACL\051 controls access)62 W
6120 23410 MT
(to directories by granting and restricting the rights of users or groups)
93 W( of users.  An entry in an access list maps a)94 W
6120 24787 MT
(member of the protection domain into a set of rights.  User rights are determined by)
66 W( the rights of all of the groups)65 W
6120 26164 MT
(that he or she is either a direct or inderect member.  In addition to the Coda access lists,)
45 W( the three owner bits of the)46 W
6120 27541 MT
(file mode are used to indicate readability, writability, and executability.)
208 W( You)
664 W( should use)207 W
/Times-Italic SF
44606 XM
(chmod)SH
/Times-Roman SF
(\0501\051 to set the)207 W
6120 28918 MT
(permissions on individual files.  Coda rights are given as a combination of)SH
/Times-Bold SF
36118 XM
(rlidwka)SH
/Times-Roman SF
39702 XM
(where:)SH
/Times-Bold SF
7920 30528 MT
(r)SH
/Times-Roman SF
11520 XM
(Read. With)
250 W( this right, you can read any file in the directory.)SH
2055 50 11520 30728 UL
/Times-Bold SF
7920 32738 MT
(l)SH
/Times-Roman SF
11520 XM
(Lookup. Lookup)
250 W( allows you to obtain status information about the)SH
3111 50 11520 32938 UL
11520 33843 MT
(files in the directory.  An example is to list the directory contents.)SH
/Times-Bold SF
7920 36053 MT
(i)SH
/Times-Roman SF
11520 XM
(Insert. Allows)
250 W( the user to create new files or subdirectories in the directory.)SH
2277 50 11520 36253 UL
/Times-Bold SF
7920 38263 MT
(d)SH
/Times-Roman SF
11520 XM
(Delete. Allows)
250 W( the user to remove files or subdirectories.)SH
2610 50 11520 38463 UL
/Times-Bold SF
7920 40473 MT
(w)SH
/Times-Roman SF
11520 XM
(Write. Allows)
250 W( the user to overwrite existing files in the directory.)SH
2277 50 11520 40673 UL
/Times-Bold SF
7920 42683 MT
(k)SH
/Times-Roman SF
11520 XM
(Lock. The)
250 W( lock right is obsolete and only maintained for historical reasons.)SH
2055 50 11520 42883 UL
/Times-Bold SF
7920 44893 MT
(a)SH
/Times-Roman SF
11520 XM
(Administer. Allows)
250 W( the user to change the directory's access control list.)SH
4500 50 11520 45093 UL
6120 46959 MT
(Coda also has)SH
/Times-Italic SF
11925 XM
(negative)SH
/Times-Roman SF
15563 XM
(rights, which deny access.  Any of the normal rights listed above can also be negative.)SH
6120 49025 MT
(Access control lists are managed with the)6 W
/Times-Bold SF
23020 XM
(cfs)SH
/Times-Roman SF
24442 XM
(command through the)6 W
/Times-Bold SF
33487 XM
(listacl)SH
/Times-Roman SF
36243 XM
(and)SH
/Times-Bold SF
37943 XM
(setacl)SH
/Times-Roman SF
40588 XM
(options. These)
264 W( commands can)7 W
6120 50402 MT
(be abbreviated as)5 W
/Times-Bold SF
13327 XM
(la)SH
/Times-Roman SF
14360 XM
(and)SH
/Times-Bold SF
16059 XM
(sa)SH
/Times-Roman SF
17203 XM
(respectively. To)
260 W( see the access control list of any directory in a Coda file system, use)5 W
/Times-Bold SF
51754 XM
(cfs)SH
6120 51779 MT
(la)SH
/Times-Roman SF
(. The)
250 W( following example displays the current directory's ACL:)SH
/Courier SF
8120 53283 MT
(%)SH
/Times-Bold SF
9320 XM
(cfs la .)SH
/Courier SF
11720 54388 MT
(System:AnyUser rl)600 W
17120 55493 MT
(raiff rlidwka)600 W
/Times-Roman SF
6120 57559 MT
(The displayed list, shows that the user)
20 W( "raiff" has all of the access rights possible on the directory and that the group)21 W
6120 58936 MT
("System:AnyUser" has read and lookup privileges.  System:AnyUser is a special Coda group that includes all users.)SH
6120 61002 MT
(A second example shows another group, System:coda.  Anyone who)
5 W( is a member of the group, will have the group's)4 W
6120 62379 MT
(access rights:)SH
/Courier SF
8120 63883 MT
(%)SH
/Times-Bold SF
9320 XM
(cfs la /coda)SH
/Courier SF
13520 64988 MT
(System:coda rlidwka)600 W
11720 66093 MT
(System:AnyUser rl)600 W
/Times-Roman SF
6120 68159 MT
(Use)SH
/Times-Bold SF
7992 XM
(cfs sa)67 W
/Times-Roman SF
10681 XM
(to change or set a directory's access)
67 W( control list.  Options to)68 W
/Times-Bold SF
35626 XM
(cfs sa)68 W
/Times-Roman SF
38317 XM
(include)SH
/Times-Italic SF
41579 XM
(-negative)SH
/Times-Roman SF
45618 XM
(to assign negative)68 W
6120 69536 MT
(rights to a user and)31 W
/Times-Italic SF
14135 XM
(-clear)SH
/Times-Roman SF
16804 XM
(to clear the access list completely)
31 W( before setting any new access rights.  You can also use)30 W
/Times-Italic SF
6120 70913 MT
(all)SH
/Times-Roman SF
7608 XM
(or)SH
/Times-Italic SF
8873 XM
(none)SH
/Times-Roman SF
11249 XM
(to specify all rights or no rights respectively.  To remove System:AnyUser's access)
182 W( to the current)183 W
6120 75600 MT
(December 21, 1995)SH
52420 XM
(4)SH
ES
%%Page: 5 6
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
48997 XM
(Getting Started)SH
8280 7886 MT
(directory, you would issue the following command:)SH
/Courier SF
10280 9390 MT
(%)SH
/Times-Bold SF
11480 XM
(cfs sa . System:AnyUser none)SH
/Times-Roman SF
8280 11456 MT
(To give System:AnyUser read and lookup rights, use:)SH
/Courier SF
10280 12960 MT
(%)SH
/Times-Bold SF
11480 XM
(cfs sa . System:AnyUser rl)SH
/Times-Roman SF
8280 15026 MT
(To deny rights to a user, use the)SH
/Times-Bold SF
21306 XM
(-negative)SH
/Times-Roman SF
25444 XM
(switch:)SH
/Courier SF
10280 16530 MT
(%)SH
/Times-Bold SF
11480 XM
(cfs sa -negative . baduser rl)SH
/Times-Roman SF
8280 18050 MT
(This will deny "baduser" read and lookup rights, even though any)
95 W( other user has these rights.  Note that negative)94 W
8280 19427 MT
(rights are maintained separately from the normal rights, so to re-instate baduser's read and lookup access,)
36 W( you must)37 W
8280 20804 MT
(use:)SH
/Courier SF
10280 22308 MT
(%)SH
/Times-Bold SF
11480 XM
(cfs sa -negative . baduser none)SH
/Times-Roman SF
8280 23828 MT
(If you omit the)SH
/Times-Italic SF
14502 XM
(-negative)SH
/Times-Roman SF
18473 XM
(switch, then "baduser" will still be denied read and lookup access.)SH
14 /Times-Bold AF
8280 27646 MT
(1.3. Disconnected Operation)SH
10 /Times-Roman AF
8280 29023 MT
(If all of the servers that an object resides on become inaccessable,)
92 W( then the client will use the cached copy of the)91 W
8280 30400 MT
(object \050if present\051 as a valid replica.  When the client does this, it is operating in)SH
/Times-Italic SF
40525 XM
(disconnected mode)SH
/Times-Roman SF
(.)SH
8280 32466 MT
(Disconnected mode may be the result of a network failure, or)
75 W( it could be the result of removing a laptop from the)76 W
8280 33843 MT
(network. If)
452 W( you make sure all of the files you want to use are cached on your laptop, you can)
101 W( travel with it and)100 W
8280 35220 MT
(access your files as if you were still on the network.)SH
8280 37286 MT
(Unfortunately, a cache miss while)
81 W( operating in disconnected mode is not maskable, and you will get a)82 W
/Times-Italic SF
50692 XM
(connection)SH
8280 38663 MT
(timed out)49 W
/Times-Roman SF
12378 XM
(error message.  Coda allows you to mark or)49 W
/Times-Italic SF
30538 XM
(hoard)SH
/Times-Roman SF
33226 XM
(files with caching priorities to help keep the ones)
49 W( you)48 W
8280 40040 MT
(want in the cache.)SH
8280 42106 MT
(When you are in disconnected mode, you may want to checkpoint the modify log that Coda keeps of which)213 W
8280 43483 MT
(directories have changed.  Use)27 W
/Times-Bold SF
20910 XM
(cfs checkpointml)26 W
/Times-Roman SF
28406 XM
(to do this.  Checkpointing the modify log will ensure that changes)26 W
8280 44860 MT
(you have made will not be lost if the system crashes.  Coda uses)
149 W( this modify log when it reintegrates with the)150 W
8280 46237 MT
(servers.)SH
8280 48303 MT
(Coda also supports low bandwidth access over SLIP.  You can use this to periodically reintegrate)
96 W( and cache new)95 W
8280 49680 MT
(files when you are on a trip.)SH
8280 51746 MT
(When you reintegrate after operating in disconnected mode, watch your)SH
/Times-Bold SF
37245 XM
(codacon)SH
/Times-Roman SF
40995 XM
(or run the command:)SH
/Courier SF
10280 53250 MT
(%)SH
/Times-Bold SF
11480 XM
(tail -f /usr/coda/etc/console)SH
/Times-Roman SF
8280 55316 MT
(This file will let you know if the reintegration was successful.  If it was not,)
31 W( then the files that you modified will be)32 W
8280 56693 MT
(put in a tar file in)321 W
/Times-Italic SF
17372 XM
(/usr/coda/spool/<uid>)SH
/Times-Roman SF
(. Reintegration)
892 W( fails, for example, when you)
321 W( modified a file in)320 W
8280 58070 MT
(disconnected mode and someone else also modified that file on the servers.  Section 2.3 has more on reintegration.)SH
14 /Times-Bold AF
8280 61888 MT
(1.4. Hoarding)SH
10 /Times-Roman AF
8280 63265 MT
(Coda allows you to advise the cache manager,)88 W
/Times-Italic SF
27730 XM
(venus)SH
/Times-Roman SF
(, of critical files)
88 W( that it should try to keep in the cache.  You)89 W
8280 64642 MT
(indicate the relative importance of the files by assigning priorities)
132 W( to them.  This is known as)131 W
/Times-Italic SF
47846 XM
(hoarding)SH
/Times-Roman SF
(. Venus)512 W
8280 66019 MT
(maintains an internal)83 W
/Times-Italic SF
17167 XM
(hoard database)83 W
/Times-Roman SF
23833 XM
(of these files.  Hoarding a file helps to)
83 W( ensure that it will be available when)84 W
8280 67396 MT
(operating in disconnected mode.)
17 W( See)
282 W( the)16 W
/Times-Bold SF
25059 XM
(hoard)SH
/Times-Roman SF
(\0501\051 man page for information on hoard files and sections 2.1 and 2.2)16 W
8280 68773 MT
(of this document for an example of how to set up your hoard database.  A convenient way of setting up your)
43 W( hoard)44 W
8280 70150 MT
(database is by creating a file with commands for the)SH
/Times-Bold SF
29387 XM
(hoard)SH
/Times-Roman SF
32193 XM
(program. This)
250 W( file is known as a)SH
/Times-Italic SF
45608 XM
(hoard file)SH
/Times-Roman SF
(.)SH
8280 75600 MT
(December 21, 1995)SH
54580 XM
(5)SH
ES
%%Page: 6 7
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
46837 XM
(Getting Started)SH
14 /Times-Bold AF
6120 8138 MT
(1.5. Repairing Conflicts)SH
10 /Times-Roman AF
6120 9515 MT
(As a result of Coda's optimistic replica management, object replicas)
102 W( can conflict on different servers.  A conflict)101 W
6120 10892 MT
(arises when the same object is)
23 W( updated in different partitions of a network.  For instance, suppose a file is replicated)24 W
6120 12269 MT
(at two)
10 W( sites \050say, serverA and serverB\051.  If these two sites become partitioned and a user on each side of the partition)9 W
6120 13646 MT
(updates the file \050userA updates the file on serverA while userB updates the file on serverB\051, the file)
150 W( will be in)151 W
6120 15023 MT
(conflict when the partition ends.  Conflicts may also arise at the end of disconnected operation.)SH
6120 17089 MT
(Coda guarantees conflict detection at)
140 W( the first request for that object when both servers are accessible.  When a)139 W
6120 18466 MT
(conflict is detected, Coda attempts to perform automatic conflict resolution.)
109 W( In)
470 W( simple cases, the conflict will be)110 W
6120 19843 MT
(resolved automatically, a process which is transparent to the user except for)
104 W( a time delay in accessing the object.)103 W
6120 21220 MT
(However, in more difficult cases, automatic conflict resolution fails and the object is marked)6 W
/Times-Italic SF
43531 XM
(in conflict)6 W
/Times-Roman SF
(. File)
264 W( system)7 W
6120 22597 MT
(calls on an object which is in conflict fail with the same error code as if the object were a dangling, read-only)147 W
6120 23974 MT
(symbolic link \050usually, ENOENT\051.  The conflict must be resolved by a user)
80 W( with appropriate access to the object.)81 W
6120 25351 MT
(To help users resolve conflicts, Coda provides a repair tool which is discussed in Section 2.6.)SH
6120 75600 MT
(December 21, 1995)SH
52420 XM
(6)SH
ES
%%Page: 7 8
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
47219 XM
(Common Scenarios)SH
16 /Times-Bold AF
8280 8272 MT
(2. Common Scenarios)SH
10 /Times-Roman AF
8280 9649 MT
(There are several common scenarios that you may encounter.  This chapter attempts to list as many of them)
142 W( as)141 W
8280 11026 MT
(possible and suggest how to handle each scenario.)SH
14 /Times-Bold AF
8280 14844 MT
(2.1. Constructing a hoardfile)SH
10 /Times-Roman AF
8280 16221 MT
(Coda allows you to give files priorities that affect the cache manager.  The higher the priority, the lower)
196 W( the)197 W
8280 17598 MT
(possibility that a file will get flushed from the cache to make space for a)
9 W( another file.  These priorities are stored in a)8 W
8280 18975 MT
(hoard database internal to Venus.  This database is preserved across invocations of Venus, but will)
51 W( be erased when)52 W
8280 20352 MT
(Venus is re-initialized.)SH
8280 22418 MT
(The best way to setup a hoard database is by creating hoard files.  After you've created)
75 W( the files once, you do not)74 W
8280 23795 MT
(need to do it again for that set of files.  You can create a hoard file either by hand, or by using the)61 W
/Times-Italic SF
48958 XM
(spy)SH
/Times-Roman SF
50602 XM
(program to)62 W
8280 25172 MT
(generate a hoard file.  See the)SH
/Times-Bold SF
20387 XM
(hoard)SH
/Times-Roman SF
(\0501\051 man page for more details on hoard files.)SH
8280 27238 MT
(To run)SH
/Times-Italic SF
11224 XM
(spy)SH
/Times-Roman SF
(, you should follow these steps:)SH
10280 28758 MT
(1\051 Run spy in the background, redirecting its output to a file.)SH
10280 29863 MT
(2\051 Run all of the programs and access files you want to hoard.)SH
10280 30968 MT
(3\051 Send a SIGTERM to spy \050Do not use ^C\051)SH
10280 32073 MT
(4\051 Sort the output file, removing duplicates)SH
10280 33178 MT
(5\051 Remove unnecassary entries)SH
10280 34283 MT
(6\051 Add "a " to the beginning of each line and a priority at the end)SH
11030 35388 MT
(of each line.)SH
8280 37454 MT
(The following is an example of creating a hoard file for gnu-emacs.  Note that while)
15 W( running gnu-emacs, I explicitly)14 W
8280 38831 MT
(enter "scribe mode."  This makes sure that the scribe-specific files are fetched.)SH
9 /Courier AF
10080 40204 MT
(%)SH
/Times-Bold SF
11160 XM
(spy > gemacs.out&)SH
/Courier SF
10080 41218 MT
([1] 316)SH
10080 42232 MT
(%)SH
/Times-Bold SF
11160 XM
(gnu-emacs)SH
/Courier SF
10080 43246 MT
(%)SH
/Times-Bold SF
11160 XM
(kill %1)SH
/Courier SF
10080 44260 MT
(%)SH
10080 45274 MT
([1] Done)
1620 W( spy)
8640 W( > gemacs.out)SH
/Times-Bold SF
10080 46288 MT
(sort -u gemacs.out > gemacs.hdb)SH
/Courier SF
10080 47302 MT
(%)SH
/Times-Bold SF
11160 XM
(cat gemacs.hdb)SH
/Courier SF
10080 48316 MT
(/coda)SH
10080 49330 MT
(/coda/i386_mach/omega/usr/local/emacs)SH
10080 50344 MT
(/coda/i386_mach/omega/usr/misc/.gnu-emacs)SH
10080 51358 MT
(/coda/misc/gnu-emacs/i386_mach/omega/bin/gnu-emacs)SH
10080 52372 MT
(/coda/misc/gnu-emacs/i386_mach/omega/lisp/scribe.elc)SH
10080 53386 MT
(/coda/misc/gnu-emacs/i386_mach/omega/lisp/term/x-win.el)SH
10080 54400 MT
(/coda/misc/gnu-emacs/i386_mach/omega/lisp/x-mouse.elc)SH
10080 55414 MT
(/coda/usr)SH
10 /Times-Roman AF
8280 57480 MT
(Next I would delete the first and last line of the file as I do not need them.  Then add the)22 W
/Times-Bold SF
44286 XM
(hoard)SH
/Times-Roman SF
47114 XM
(specific commands.)23 W
8280 58857 MT
(The final file looks like:)SH
9 /Courier AF
10080 60189 MT
(a /coda/i386_mach/omega/usr/local/emacs 600)SH
10080 61203 MT
(a /coda/i386_mach/omega/usr/misc/.gnu-emacs 600)SH
10080 62217 MT
(a /coda/misc/gnu-emacs/i386_mach/omega/bin/gnu-emacs 600)SH
10080 63231 MT
(a /coda/misc/gnu-emacs/i386_mach/omega/lisp/scribe.elc 600)SH
10080 64245 MT
(a /coda/misc/gnu-emacs/i386_mach/omega/lisp/term/x-win.el 600)SH
10080 65259 MT
(a /coda/misc/gnu-emacs/i386_mach/omega/lisp/x-mouse.elc 600)SH
10 /Times-Roman AF
8280 67325 MT
(The "a" at the beggining of each line is the hoard command "add" and adds the given)
8 W( file to the hoard database.  The)7 W
8280 68702 MT
(600 at the end of each line gives that file a priority of 600.  You may also specify addition attributes for each)
58 W( line.)59 W
8280 70079 MT
(These attributes are seperated from the priority by a ":" and are:)SH
/Times-Bold SF
10080 71689 MT
(c)SH
/Times-Roman SF
13680 XM
(Current children of the given directory will inherit its hoard status.)SH
8280 75600 MT
(December 21, 1995)SH
54580 XM
(7)SH
ES
%%Page: 8 9
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
45059 XM
(Common Scenarios)SH
/Times-Bold SF
7920 7886 MT
(c+)SH
/Times-Roman SF
11520 XM
(Current and future children of the given directory will inherit its hoard status.)SH
/Times-Bold SF
7920 8991 MT
(d)SH
/Times-Roman SF
11520 XM
(Current descendents of the given directory will inherit its hoard status.)SH
/Times-Bold SF
7920 10096 MT
(d+)SH
/Times-Roman SF
11520 XM
(Current and future descendents of the given directory will inherit its hoard status.)SH
6120 12162 MT
(For example, to hoard all of the emacs directory, its descendents and any future descendents,)
93 W( I would include the)92 W
6120 13539 MT
(following line in a hoardfile:)SH
9 /Courier AF
7920 14871 MT
(a /coda/i386_mach/omega/usr/local/emacs 600:d+)SH
10 /Times-Roman AF
6120 16937 MT
(This ensures you get all of the)
3 W( files you need, but you will use ten's of megabytes of cache space to hoard many files)4 W
6120 18314 MT
(that you do not need, so oftern you want to be more specific with respect to which files to hoard.)SH
6120 20380 MT
(Other valid)
83 W( command to)82 W
/Times-Italic SF
16448 XM
(hoard)SH
/Times-Roman SF
19169 XM
(are clear, delete, list, and modify.  See the)82 W
/Times-Italic SF
36931 XM
(hoard)SH
/Times-Roman SF
(\0501\051 man page for more details on)82 W
6120 21757 MT
(these commands.)SH
14 /Times-Bold AF
6120 25575 MT
(2.2. Hoarding for a Weekend)SH
10 /Times-Roman AF
6120 26952 MT
(One of the most common uses of a Coda laptop is to take it)
2 W( home overnight or for the weekend.  Naturally, you want)3 W
6120 28329 MT
(to be sure that all of the)
118 W( files that you need over the weekend are in the cache; otherwise, there is little point in)117 W
6120 29706 MT
(bringing the laptop home.  The)14 W
/Times-Italic SF
18842 XM
(hoard)SH
/Times-Roman SF
(\0501\051 program helps you)
14 W( do this.  Create a hoard file, as described in Section 2.1,)15 W
6120 31083 MT
(for each project you want to work)
88 W( on.  You may also want hoard files for your personal files, such as your home)87 W
6120 32460 MT
(directory if it's in Coda, and other tools that you plan on using.  It's best)
49 W( to clear the hoard database whenever you)50 W
6120 33837 MT
(switch projects to make sure you have enough space in your cache.  You might consider having)92 W
/Times-Italic SF
46176 XM
(clear)SH
/Times-Roman SF
48572 XM
(as the first)91 W
6120 35214 MT
(command in your personal hoard file.  If you do, make sure you always)
95 W( run hoard with this file before any other)96 W
6120 36591 MT
(files. Once)
364 W( you've built hoard files for all of your tools and projects, its simply a matter)
57 W( of running hoard to build)56 W
6120 37968 MT
(the hoard database you want.)
34 W( When)
320 W( you run)35 W
/Times-Italic SF
24538 XM
(hoard)SH
/Times-Roman SF
(, you must be logged onto the machine's console, \050don't run X\051.)35 W
6120 39345 MT
(About fifteen minutes before you are ready to leave, force a hoard walk with the following command:)SH
/Courier SF
8120 40849 MT
(%)SH
/Times-Bold SF
9320 XM
(hoard walk)SH
/Times-Roman SF
6120 42915 MT
(This will cause)139 W
/Times-Italic SF
12842 XM
(venus)SH
/Times-Roman SF
15508 XM
(to attempt to cache all of the files in the hoard database.  Wait until the hoard)
139 W( command)138 W
1944 50 40144 43115 UL
1834 50 42477 43115 UL
1222 50 44700 43115 UL
2277 50 46311 43115 UL
3944 50 48976 43115 UL
6120 44292 MT
(completes. You are now ready to disconnect from the)
26 W( network.  You are encouraged to try all of the commands you)27 W
4055 50 6120 44492 UL
6120 45669 MT
(intend on using after you disconnect.  If you are missing some files, it will be easy to reconnect and hoard them.)SH
14 /Times-Bold AF
6120 49487 MT
(2.3. Reintegrating After a Disconnected Session)SH
10 /Times-Roman AF
6120 50864 MT
(When you reconnect to)
126 W( the network after a disconnected session, Coda will automatically try to reintegrate your)125 W
6120 52241 MT
(changes with the Coda servers.  You)
359 W( must be authenticated before reintegration occurs.  Watch the file)360 W
/Times-Italic SF
6120 53618 MT
(/usr/coda/etc/console)SH
/Times-Roman SF
14925 XM
(with the)SH
/Times-Bold SF
18425 XM
(codacon)SH
/Times-Roman SF
22175 XM
(command or by running:)SH
8120 55138 MT
(%)SH
/Times-Bold SF
9203 XM
(tail -f /usr/coda/etc/console)SH
/Times-Roman SF
6120 56658 MT
(The reintegration's status will be written to this file.)SH
6120 58724 MT
(If the reintegration was successful, the log entries would look like:)SH
9 /Courier AF
8280 60010 MT
(Reintegrate u.raiff, \0501, 244\051 \050 13:33:43 \051)SH
8280 60958 MT
(coda: Committing CML for u.raiff \050 13:33:43 \051)SH
8280 61906 MT
(coda: Reintegrate: u.raiff, result = SUCCESS, elapsed = 2640.0 \05015.0, 2609.0,)SH
8280 62854 MT
(15.0\051 \050 13:33:43 \051)SH
8280 63802 MT
(coda: delta_vm)
1080 W( = 0, old stats = [0, 1, 0, 0, 0] \050 13:33:43 \051)SH
8280 64750 MT
(coda: new)
1080 W( stats = [)
SH( 0, 0.0,)
1080 W( 0.0,)
2160 W( 1,)
1620 W( 0.2],)
1080 W( [)
SH( 0, 0.0,)
1080 W( 0.0,)SH
8820 65698 MT
(0, 0.0])
1080 W( \050 13:33:43 \051)SH
10 /Times-Roman AF
6120 67764 MT
(The following example is from a failed reintegration on the volume u.raiff.)SH
6120 75600 MT
(December 21, 1995)SH
52420 XM
(8)SH
ES
%%Page: 9 10
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
47219 XM
(Common Scenarios)SH
9 /Courier AF
10440 7762 MT
(Reintegrate u.raiff, \0501, 244\051 \050 13:27:10 \051)SH
10440 8710 MT
(coda: Checkpointing u.raiff \050 13:27:10 \051coda: to /usr/coda/spool/2534/u.raiff@%)SH
10440 9658 MT
(coda%usr%raiff \050 13:27:10 \051)SH
10440 10606 MT
(coda: Aborting CML for u.raiff \050 13:27:10 \051)SH
10440 11554 MT
(coda: Reintegrate: u.raiff, result = 198, elapsed = 2437.0 \05015.0, 2265.0, 531.0\051)SH
10440 12502 MT
(\050 13:27:10 \051)SH
10440 13450 MT
(coda: delta_vm)
1080 W( = 1000, old stats = [0, 0, 1, 0, 0] \050 13:27:10 \051)SH
10440 14398 MT
(coda: new)
1080 W( stats = [)
SH( 0, 0.0,)
1080 W( 0.0,)
2160 W( 1,)
1620 W( 0.2],)
1080 W( [)
SH( 0, 0.0,)
1080 W( 0.0,)
SH( 0,)1080 W
12060 15346 MT
(0.0] \050 13:27:10 \051)SH
10 /Times-Roman AF
8280 17412 MT
(Notice that the)166 W
/Times-Italic SF
14916 XM
(change modify log)166 W
/Times-Roman SF
23052 XM
(\050CML\051 was checkpointed to)166 W
/Times-Italic SF
35214 XM
(/usr/coda/spool/2534/u.raiff@%coda%usr%raiff)SH
/Times-Roman SF
(.)SH
8280 18789 MT
(This file is a tar file containing the changes that were made)
40 W( on during the disconnected session.  The files in the tar)41 W
8280 20166 MT
(file are relative to the root of u.raiff.  The)16 W
/Times-Bold SF
25213 XM
(cfs examineclosure)15 W
/Times-Roman SF
33519 XM
(and)SH
/Times-Bold SF
35228 XM
(cfs replayclosure)15 W
/Times-Roman SF
42701 XM
(will show which files were not)15 W
8280 21543 MT
(reintegrated and force a reintegration respectively.)SH
14 /Times-Bold AF
8280 25361 MT
(2.4. Dealing With a Flaky Network)SH
10 /Times-Roman AF
8280 26738 MT
(When the network is acting up, you can use Coda to help isolate yourself from the networking problems.  Set)
93 W( up)94 W
8280 28115 MT
(your hoard database so that Venus will hoard the files you are)
27 W( working on.  Then, disconnect from the Coda servers)26 W
8280 29492 MT
(with the)SH
/Times-Bold SF
11780 XM
(cfs disconnect)SH
/Times-Roman SF
17946 XM
(command. To)
250 W( Coda, this is equivalent to physically disconnecting from the network.)SH
8280 31558 MT
(Once the network becomes stable, you can use)234 W
/Times-Bold SF
29064 XM
(cfs reconnect)234 W
/Times-Roman SF
35363 XM
(to reconnect yourself to the Coda servers and)234 W
8280 32935 MT
(re-integrate your work.  Don't forget to clear your hoard)
52 W( database with)51 W
/Times-Bold SF
37421 XM
(hoard clear)51 W
/Times-Roman SF
42689 XM
(once you are done working on)51 W
8280 34312 MT
(the set of files that you hoarded.)SH
/Times-Italic SF
8280 36378 MT
(Note: AFS will not be affected by cfs, so access to AFS files will still be affected by the network problems.)SH
14 /Times-Bold AF
8280 40196 MT
(2.5. Reintegrating Over the Phone Line)SH
10 /Times-Roman AF
8280 41573 MT
(If you are planning on taking a Coda laptop on an extended trip, you should consider using SLIP to reinitgrate)
36 W( with)37 W
8280 42950 MT
(the Coda servers periodically.  Using SLIP will allow updates to be visible to other Coda)
6 W( users, protect against client)5 W
8280 44327 MT
(crashes such as hard drive failure or theft, and allow you to work on multiple projects, even when your cache space)35 W
8280 45704 MT
(is not large enough for all of)
66 W( the projects.  By using the following instructions, you can reintegrate over the phone)65 W
8280 47081 MT
(and change the files in your hoard database.)SH
8280 49147 MT
(1. Read the)1074 W
/Times-Italic SF
16280 XM
(dialup)SH
/Times-Roman SF
20161 XM
(man page, and)1075 W
/Times-Italic SF
29440 XM
(/afs/cs/help/03-Communication/03-Tcons_and_Dialups/slip.doc)SH
8280 50524 MT
(/afs/cs/help/03-Communication/03-Tcons_and_Dialups/cisco_tcon.doc)SH
/Times-Roman SF
37011 XM
(The latter are included in Appendix V of this)9 W
8280 51901 MT
(manual.)SH
8280 53967 MT
(2. Get an account on a terminal server from facilities.  This server is the name that you will use when you start slip.)SH
8280 56033 MT
(3. Connect to the terminal server and start slip.)SH
8280 58099 MT
(4. Run)55 W
/Courier SF
11307 XM
(/etc/slattach /dev/com{0,1})55 W
/Times-Roman SF
27867 XM
(speed. If you are using the internal modem, specify /dev/com0)
55 W( and)56 W
8280 59476 MT
(2400. If you are using an external modem, use /dev/com1 and whatever speed \0509600\051.)SH
8280 61542 MT
(5. exit your communications program \050kermit, whatver\051.  slattach holds the line open.)SH
8280 63608 MT
(6. Now you have to reset the routes in your routing table.  First delete the old routes:)SH
8280 75600 MT
(December 21, 1995)SH
54580 XM
(9)SH
ES
%%Page: 10 11
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
45059 XM
(Common Scenarios)SH
/Courier SF
8120 7886 MT
(%)SH
/Times-Bold SF
9320 XM
(set hostaddr=`</etc/NETWORKS sed -n -e '1s;\134\050.*\134)SH
/Courier SF
([ ]*on[)
3000 W( ]*\134\050.*\134)1200 W
/Times-Roman SF
(;\1341;p'`\051\051)SH
/Courier SF
8120 10096 MT
(%)SH
/Times-Bold SF
9320 XM
(set slipaddr = 128.2.254.129 # address of ts2.srv.cs.cmu.edu)SH
/Courier SF
8120 11201 MT
(%)SH
/Times-Bold SF
9320 XM
(set gwaddr = 128.2.254.36)
SH( #)
750 W( address of gw.cs.cmu.edu)SH
/Courier SF
8120 13411 MT
(%)SH
/Times-Bold SF
9320 XM
(/etc/route delete 0 $gwaddr)SH
/Courier SF
8120 14516 MT
(%)SH
/Times-Bold SF
9320 XM
(/etc/route delete net 128.2 $hostaddr)SH
/Courier SF
8120 15621 MT
(%)SH
/Times-Bold SF
9320 XM
(/etc/route -f delete $hostaddr $hostaddr)SH
/Times-Roman SF
6120 17141 MT
(and config the slip interface up with the new routes.)SH
/Courier SF
8120 18645 MT
(%)SH
/Times-Bold SF
9320 XM
(/etc/ifconfig sl0 $hostaddr $slipaddr -trailers up)SH
/Courier SF
8120 19750 MT
(%)SH
/Times-Bold SF
9320 XM
(/etc/route add net 128.2 $slipaddr 0)SH
/Courier SF
8120 20855 MT
(%)SH
/Times-Bold SF
9320 XM
(/etc/route add 0 $slipaddr 1)SH
/Times-Roman SF
6120 22375 MT
(If you've started up disconnected, you will also have to run the command:)SH
/Courier SF
8120 23879 MT
(%)SH
/Times-Bold SF
9320 XM
(ifconfig par0 down)SH
/Times-Roman SF
6120 25945 MT
(Finally, tell Coda to see which servers it can communicate with:)SH
/Courier SF
8120 27449 MT
(%)SH
/Times-Bold SF
9320 XM
(cfs checkservers)SH
/Times-Roman SF
6120 29515 MT
(Your laptop will now behave as if it is on the network.  Response time to commands will be sluggish.)SH
6120 31581 MT
(If you want to stop running SLIP)
78 W( before you shut down your computer, simply turning off your modem or killing)77 W
/Times-Italic SF
6120 32958 MT
(slattach)SH
/Times-Roman SF
9537 XM
(will terminate your SLIP connection.)SH
14 /Times-Bold AF
6120 36776 MT
(2.6. Repairing an Inconsistent Directory)SH
10 /Times-Roman AF
6120 38153 MT
(Occasionally, a directory entry will become inconsistent.  This happens when there is a conflict between file server)46 W
6120 39530 MT
(replicas that Coda cannot automatically resolve or a reintegration)
40 W( failed because of a local update the conflicts with)39 W
6120 40907 MT
(the global state.  The most common causes of a conflict are when the file servers are partitioned)
SH( and a file is changed)1 W
6120 42284 MT
(on more than one of the partitions or when a disconnected client updates a file that is also updated)
73 W( on the servers.)72 W
6120 43661 MT
(When this happens, the directory containting the conflict will now look like a symbolic link and)
42 W( will be pointing to)43 W
6120 45038 MT
(it's)SH
/Times-Italic SF
7648 XM
(fid)SH
/Times-Roman SF
(. For)
250 W( example, if a directory,)SH
/Times-Italic SF
20646 XM
(conflict)SH
/Times-Roman SF
(, is inconsistent, it will now appear as:)SH
8120 46558 MT
(%)SH
/Times-Bold SF
9203 XM
(ls -l conflict)SH
/Times-Roman SF
8120 47663 MT
(lr--r--r-- 1)
250 W( root)
SH( 27)
1250 W( Mar 23 14:52 conflict -> @7f0000b3.00000005.0000011a)SH
6120 49729 MT
(Most applications will return the error)75 W
/Courier SF
22068 XM
(File not)
75 W( found)74 W
/Times-Roman SF
30941 XM
(when they try to open a file that is inconsistent.  You)74 W
6120 51106 MT
(need to resolve this conflict by using the)SH
/Times-Italic SF
22563 XM
(repair)SH
/Times-Roman SF
(\0501\051 tool.)SH
12 /Times-Bold AF
6120 54790 MT
(2.6.1. Server/Server Conflicts)SH
10 /Times-Roman AF
6120 56167 MT
(Once you run repair, you need to do a "beginRepair" on the object that is inconsistent.  After "beginRepair" is)151 W
6120 57544 MT
(issued, the inconsistent directory will have)
30 W( an entry for each of the replicated volumes.  You can look at all of these)29 W
6120 58921 MT
(to decide which copy you want.  Use repair to copy the correct)
13 W( version and clear the inconsistency.  In the following)14 W
6120 60298 MT
(example the file)SH
/Times-Italic SF
12813 XM
(conflict/example)SH
/Times-Roman SF
19673 XM
(is replicated on three servers.  It has gone inconsistent.)SH
6120 75600 MT
(December 21, 1995)SH
51920 XM
(10)SH
ES
%%Page: 11 12
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
47219 XM
(Common Scenarios)SH
9 SS 
10080 7817 MT
(%)SH
/Times-Bold SF
11055 XM
(ls -lL conflict)SH
/Times-Roman SF
10080 8831 MT
(lr--r--r-- 1)
225 W( root)
SH( 27)
2250 W( Dec 20 13:12 conflict -> @7f0002ec.000000e3.000005d1)SH
10080 9845 MT
(%)SH
/Times-Bold SF
11055 XM
(repair)SH
/Times-Roman SF
10080 10859 MT
(The repair tool can be used to manually repair files and directories)SH
10080 11873 MT
(that have diverging replicas.  You will first need to do a "beginRepair")SH
10080 12887 MT
(which will expose the replicas of the inconsistent object as its children.)SH
10080 15929 MT
(If you are repairing a directory, you will probably use the "compareDir" and "doRepair" commands.)SH
10080 17957 MT
(For inconsistent files you will only need to use the "doRepair" command.)SH
10080 19985 MT
(If you want to REMOVE an inconsistent object, use the "removeInc" command.)SH
10080 22013 MT
(Help on individual commands can also be obtained using the "help" facility.)SH
10080 23027 MT
(*)SH
/Times-Bold SF
10755 XM
(begin conflict)SH
/Times-Roman SF
10080 24041 MT
(a server-server-conflict repair session started)SH
10080 25055 MT
(use the following commands to repair the conflict:)SH
11880 26069 MT
(comparedirs)SH
11880 27083 MT
(removeinc)SH
11880 28097 MT
(dorepair)SH
10080 29111 MT
(*)SH
/Times-Bold SF
10755 XM
(^Z)SH
/Times-Roman SF
10080 30125 MT
(Stopped)SH
10080 31139 MT
(%)SH
/Times-Bold SF
11055 XM
(ls conflict)SH
/Times-Roman SF
10080 32153 MT
(gershwin.coda.cs.cmu.edu schumann.coda.cs.cmu.edu)1575 W
10080 33167 MT
(%)SH
/Times-Bold SF
11055 XM
(ls conflict/*)SH
/Times-Roman SF
10080 34181 MT
(conflict/gershwin.coda.cs.cmu.edu:)SH
10080 35195 MT
(example)SH
10080 37223 MT
(conflict/schumann.coda.cs.cmu.edu:)SH
10080 38237 MT
(example)SH
10080 39251 MT
(%)SH
/Times-Bold SF
11055 XM
(fg)SH
/Times-Roman SF
10080 40265 MT
(repair)SH
10080 41279 MT
(compare)SH
10080 42293 MT
(Pathname of Object in conflict?  [conflict])SH
10080 43307 MT
(Pathname of repair file produced?  [])SH
/Times-Bold SF
23830 XM
(/tmp/fix)SH
/Times-Roman SF
10080 46349 MT
(NAME/NAME CONFLICT EXISTS FOR example)SH
10080 48377 MT
(-rw-r--r-- 1)
225 W( raiff)
SH( 0)
2250 W( Dec 20 13:10 gershwin.coda.cs.cmu.edu/example)SH
10080 49391 MT
(-rw-r--r-- 1)
225 W( -101)
SH( 0)
2475 W( Dec 20 13:11 schumann.coda.cs.cmu.edu/example)SH
10080 52433 MT
(/coda/project/coda/demo/basic/rep/conflict/gershwin.coda.cs.cmu.edu/example)SH
11880 53447 MT
(Fid: \0500xb0.612\051 VV:\0500 2 0 0 0 0 0 0\051\0500x8002f23e.30c6e9aa\051)SH
10080 54461 MT
(/coda/project/coda/demo/basic/rep/conflict/schumann.coda.cs.cmu.edu/example)SH
11880 55475 MT
(Fid: \0500x9e.5ea\051 VV:\0502 0 0 0 0 0 0 0\051\0500x8002ce17.30d56fb9\051)SH
10080 56489 MT
(Should /coda/project/coda/demo/basic/rep/conflict/gershwin.coda.cs.cmu.edu/example be removed?)
SH( [no])450 W
/Times-Bold SF
48780 XM
(yes)SH
/Times-Roman SF
10080 57503 MT
(Should /coda/project/coda/demo/basic/rep/conflict/schumann.coda.cs.cmu.edu/example be removed?)
SH( [no])450 W
10080 58517 MT
(Do you want to repair the name/name conflicts  [yes])SH
10080 59531 MT
(Operations to resolve conflicts are in /tmp/fix)SH
10080 60545 MT
(*)SH
/Times-Bold SF
10755 XM
(do)SH
/Times-Roman SF
10080 61559 MT
(Pathname of object in conflict?  [conflict])SH
10080 62573 MT
(Pathname of fix file?  [/tmp/fix])SH
10080 63587 MT
(OK to repair "conflict" by fixfile "/tmp/fix"?  [no])SH
/Times-Bold SF
28548 XM
(yes)SH
/Times-Roman SF
10080 64601 MT
(SCHUMANN.CODA.CS.CMU.EDU succeeded)225 W
10080 65615 MT
(GERSHWIN.CODA.CS.CMU.EDU succeeded)225 W
10080 66629 MT
(*)SH
/Times-Bold SF
10755 XM
(quit)SH
/Times-Roman SF
10080 67643 MT
(%)SH
/Times-Bold SF
11055 XM
(ls conflict)SH
/Times-Roman SF
10080 68657 MT
(example)SH
10080 69671 MT
(%)SH
/Times-Bold SF
11055 XM
(exit)SH
10 /Times-Roman AF
8280 75600 MT
(December 21, 1995)SH
54080 XM
(11)SH
ES
%%Page: 12 13
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
45059 XM
(Common Scenarios)SH
12 /Times-Bold AF
6120 8004 MT
(2.6.2. Local/Global Conflicts)SH
10 /Times-Roman AF
6120 9381 MT
(Local/global conflicts are caused by reintegration failures, which means that the mutations performed while)
159 W( the)158 W
6120 10758 MT
(client was disconnected are in conflict with the mutations performed on the servers from)
111 W( other clients during the)112 W
6120 12135 MT
(disconnection. The objects involved in local/global conflict are represented in the same fashion as server/server)159 W
6120 13512 MT
(conflicts, i.e., they become dangling symbolic links.)SH
6120 15578 MT
(To start a)
293 W( local/global repair session for an object OBJ, you need to invoke the repair tool and issue the)294 W
6120 16955 MT
("beginrepair" command)
19 W( with the pathname of OBJ as the argument. Once the repair session is started, both the local)18 W
6120 18332 MT
(and global replicas of OBJ are visible at OBJ/local\050read-only\051 and OBJ/global\050mutable and serving)
SH( as the workspace)1 W
6120 19709 MT
(for storing the repair result for OBJ)
41 W( and its descendants\051.  The central process of repairing the local/global conflicts)40 W
6120 21086 MT
(on OBJ is to iterate the local-mutations-list containing all the local updates performed on OBJ or its)
93 W( descendants,)94 W
6120 22463 MT
(which can be displayed by the)
50 W( "listlocal" command. Each operation in the list must be accounted for and the repair)49 W
6120 23840 MT
(tool cooperates with Venus to maintain the current-mutation being iterated. The "checklocal" command can)
29 W( be used)30 W
6120 25217 MT
(to show)
147 W( the conflict information between the current-mutation and the global server state. You can advance the)146 W
6120 26594 MT
(iteration to the next operation using either the "preservelocal")
202 W( or the "discardlocal" command with the former)203 W
6120 27971 MT
(replaying the current-mutation operation on the relevant global replicas.)
26 W( You can also use the "preservealllocal" and)25 W
6120 29348 MT
("discardalllocal" commands to speed up the iteration. Because the global replica OBJ is mutable, existing)
20 W( tools such)21 W
6120 30725 MT
(as "emacs" etc. can)
18 W( be directly used to make the necessary updates. The "quit" command is used to either commit or)17 W
6120 32102 MT
(abort the repair session. The man page on on the)
150 W( repair commands contains more detailed information, and the)151 W
6120 33479 MT
(following simple example illustrates the main process of repairing a local/global conflict.)SH
6120 35545 MT
(Suppose that during disconnection, a user creates a)
68 W( new directory)67 W
/Times-Italic SF
33208 XM
(/coda/usr/luqi/papers/cscw/figs)SH
/Times-Roman SF
46082 XM
(and stores a new)67 W
6120 36922 MT
(version for file)9 W
/Times-Italic SF
12340 XM
(/coda/usr/luqi/papers/cscw/paper.tex)SH
/Times-Roman SF
(. However, during the disconnection)
9 W( his co-author also creates a)10 W
6120 38299 MT
(directory)SH
/Times-Italic SF
10024 XM
(/coda/usr/luqi/papers/cscw/figs)SH
/Times-Roman SF
22875 XM
(and stores some PS)
44 W( files in it. Upon reintegration a local/global conflict is)43 W
6120 39676 MT
(detected at)SH
/Times-Italic SF
10674 XM
(/coda/usr/luqi/papers/cscw)SH
/Times-Roman SF
(.)SH
6120 75600 MT
(December 21, 1995)SH
51920 XM
(12)SH
ES
%%Page: 13 14
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
47219 XM
(Common Scenarios)SH
9 SS 
10080 7817 MT
(%)SH
/Times-Bold SF
11055 XM
(ls -l /coda/usr/luqi/papers/cscw would show)SH
/Times-Roman SF
10080 8831 MT
(lr--r--r-- 1)
225 W( root)
SH( 27)
2250 W( Dec 20 00:36 cscw -> @7f000279.00000df3.0001f027)SH
10080 9845 MT
(%)SH
/Times-Bold SF
11055 XM
(repair)SH
/Times-Roman SF
10080 10859 MT
(*)SH
/Times-Bold SF
10755 XM
(begin)SH
/Times-Roman SF
10080 11873 MT
(Pathname of object in conflict?  [])SH
/Times-Bold SF
22830 XM
(/coda/usr/luqi/papers/cscw)SH
/Times-Roman SF
10080 12887 MT
(a local-global-conflict repair session started)SH
10080 13901 MT
(the conflict is caused by a reintegration failure)SH
10080 14915 MT
(use the following commands to repair the conflict:)SH
11880 15929 MT
(checklocal)SH
11880 16943 MT
(listlocal)SH
11880 17957 MT
(preservelocal)SH
11880 18971 MT
(preservealllocal)SH
11880 19985 MT
(discardlocal)SH
11880 20999 MT
(discardalllocal)SH
11880 22013 MT
(setglobalview)SH
11880 23027 MT
(setmixedview)SH
11880 24041 MT
(setlocalview)SH
10080 25055 MT
(a list of local mutations is available in the .cml file in the coda spool directory)SH
10080 27083 MT
(*)SH
/Times-Bold SF
10755 XM
(!ls -l /coda/usr/luqi/papers/cscw)SH
/Times-Roman SF
10080 28097 MT
(total 4)SH
10080 29111 MT
(drwxr-xr-x 3)
225 W( luqi)
SH( 2048)
1800 W( Dec 20 00:51 global)SH
10080 30125 MT
(drwxr-xr-x 3)
225 W( luqi)
SH( 2048)
1800 W( Dec 20 00:51 local)SH
10080 31139 MT
(Back to *)SH
10080 33167 MT
(*)SH
/Times-Bold SF
10755 XM
(listlocal)SH
/Times-Roman SF
10080 34181 MT
(local mutations are:)SH
10080 36209 MT
(Mkdir /coda/usr/luqi/papers/cscw/local/figs)450 W
10080 37223 MT
(Store /coda/usr/luqi/papers/cscw/local/paper.tex)
450 W( \050length = 19603\051)SH
10080 39251 MT
(*)SH
/Times-Bold SF
10755 XM
(checklocal)SH
/Times-Roman SF
10080 40265 MT
(local mutation: mkdir /coda/usr/luqi/papers/cscw/local/figs)SH
10080 41279 MT
(conflict: target /coda/usr/luqi/papers/cscw/global/figs exist on servers)SH
10080 43307 MT
(*)SH
/Times-Bold SF
10755 XM
(discardlocal)SH
/Times-Roman SF
10080 44321 MT
(discard local mutation mkdir /coda/usr/luqi/papers/cscw/local/figs)SH
10080 46349 MT
(*)SH
/Times-Bold SF
10755 XM
(checklocal)SH
/Times-Roman SF
10080 47363 MT
(local mutation: store /coda/usr/luqi/papers/cscw/local/paper.tex)SH
10080 48377 MT
(no conflict)SH
10080 50405 MT
(*)SH
/Times-Bold SF
10755 XM
(preservelocal)SH
/Times-Roman SF
10080 51419 MT
(store /coda/usr/luqi/papers/cscw/global/paper.tex succeeded)SH
10080 53447 MT
(*)SH
/Times-Bold SF
10755 XM
(checklocal)SH
/Times-Roman SF
10080 54461 MT
(all local mutations processed)SH
10080 56489 MT
(*)SH
/Times-Bold SF
10755 XM
(quit)SH
/Times-Roman SF
10080 57503 MT
(commit the local/global repair session?  [yes])SH
10 SS 
8280 75600 MT
(December 21, 1995)SH
54080 XM
(13)SH
ES
%%Page: 14 15
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
45059 XM
(Common Scenarios)SH
6120 75600 MT
(December 21, 1995)SH
51920 XM
(14)SH
ES
%%Page: 15 16
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
48052 XM
(Trouble Shooting)SH
16 /Times-Bold AF
8280 8272 MT
(3. Trouble Shooting)SH
10 /Times-Roman AF
8280 9649 MT
(This chapter is meant to help solve some of the problems you may run into when using Coda.)SH
14 /Times-Bold AF
8280 13467 MT
(3.1. File System Full)SH
10 /Times-Roman AF
8280 14844 MT
(You may get a message of the form,)44 W
/Times-Italic SF
23379 XM
(/usr: file system full)44 W
/Times-Roman SF
31722 XM
(when you)
44 W( have not put any extra data on that disk.  If the)45 W
8280 16221 MT
(venus.cache directory is on that disk, that is)
218 W( probably your problem.  You can execute euther)217 W
/Times-Italic SF
49113 XM
(cfs flushobject)217 W
8280 17598 MT
(<object>)SH
/Times-Roman SF
12431 XM
(or)SH
/Times-Italic SF
13621 XM
(cfs flushvolume <dir>)107 W
/Times-Roman SF
23153 XM
(to try to)
107 W( free up some disk space.)108 W
/Times-Bold SF
37843 XM
(Be carful when flushing anything while)108 W
8280 18975 MT
(disconnected. You)
278 W( will lose any changes that you made)14 W
/Times-Roman SF
(. In)
278 W( the long term,)
14 W( the cache size in)13 W
/Times-Italic SF
46539 XM
(/usr/coda/etc/vstab)SH
/Times-Roman SF
54413 XM
(is)SH
8280 20352 MT
(proabably too large for the disk and should be made smaller.)SH
8280 75600 MT
(December 21, 1995)SH
54080 XM
(15)SH
ES
%%Page: 16 17
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
45892 XM
(Trouble Shooting)SH
6120 75600 MT
(December 21, 1995)SH
51920 XM
(16)SH
ES
%%Page: 17 18
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
47942 XM
(System Overview)SH
16 /Times-Bold AF
8280 8272 MT
(4. System Overview)SH
10 /Times-Roman AF
8280 9649 MT
(Each Coda client sees the Coda File System as a single tree,)
79 W( /coda.  In reality this tree is an illusion supported by)80 W
/Times-Italic SF
8280 11026 MT
(system control machine)15 W
/Times-Roman SF
18018 XM
(\050SCM\051, serveral dedicated file servers and a local area network.  One of the file servers may)15 W
8280 12403 MT
(double as the \050SCM\051.  Figure 4-1 illustrates the server organization.)SH
6 10 0 13530 59087 GB 
%%BeginDocument: serverorg.ps
%!PS-Adobe-2.0 EPSF-1.2
%%DocumentFonts: Courier Courier-Bold
%%%Pages: 1
%%BoundingBox: 9 393 596 753
%%EndComments

50 dict begin

/arrowHeight 8 def
/arrowWidth 4 def
/none null def
/numGraphicParameters 17 def
/stringLimit 65535 def

/Begin {
save
numGraphicParameters dict begin
} def

/End {
end
restore
} def

/SetB {
dup type /nulltype eq {
pop
false /brushRightArrow idef
false /brushLeftArrow idef
true /brushNone idef
} {
/brushDashOffset idef
/brushDashArray idef
0 ne /brushRightArrow idef
0 ne /brushLeftArrow idef
/brushWidth idef
false /brushNone idef
} ifelse
} def

/SetCFg {
/fgblue idef
/fggreen idef
/fgred idef
} def

/SetCBg {
/bgblue idef
/bggreen idef
/bgred idef
} def

/SetF {
/printSize idef
/printFont idef
} def

/SetP {
dup type /nulltype eq {
pop true /patternNone idef
} {
/patternGrayLevel idef
patternGrayLevel -1 eq {
/patternString idef
} if
false /patternNone idef
} ifelse
} def

/BSpl {
0 begin
storexyn
newpath
n 1 gt {
0 0 0 0 0 0 1 1 true subspline
n 2 gt {
0 0 0 0 1 1 2 2 false subspline
1 1 n 3 sub {
/i exch def
i 1 sub dup i dup i 1 add dup i 2 add dup false subspline
} for
n 3 sub dup n 2 sub dup n 1 sub dup 2 copy false subspline
} if
n 2 sub dup n 1 sub dup 2 copy 2 copy false subspline
patternNone not brushLeftArrow not brushRightArrow not and and { ifill } if
brushNone not { istroke } if
0 0 1 1 leftarrow
n 2 sub dup n 1 sub dup rightarrow
} if
end
} dup 0 4 dict put def

/Circ {
newpath
0 360 arc
patternNone not { ifill } if
brushNone not { istroke } if
} def

/CBSpl {
0 begin
dup 2 gt {
storexyn
newpath
n 1 sub dup 0 0 1 1 2 2 true subspline
1 1 n 3 sub {
/i exch def
i 1 sub dup i dup i 1 add dup i 2 add dup false subspline
} for
n 3 sub dup n 2 sub dup n 1 sub dup 0 0 false subspline
n 2 sub dup n 1 sub dup 0 0 1 1 false subspline
patternNone not { ifill } if
brushNone not { istroke } if
} {
Poly
} ifelse
end
} dup 0 4 dict put def

/Elli {
0 begin
newpath
4 2 roll
translate
scale
0 0 1 0 360 arc
patternNone not { ifill } if
brushNone not { istroke } if
end
} dup 0 1 dict put def

/Line {
0 begin
2 storexyn
newpath
x 0 get y 0 get moveto
x 1 get y 1 get lineto
brushNone not { istroke } if
0 0 1 1 leftarrow
0 0 1 1 rightarrow
end
} dup 0 4 dict put def

/MLine {
0 begin
storexyn
newpath
n 1 gt {
x 0 get y 0 get moveto
1 1 n 1 sub {
/i exch def
x i get y i get lineto
} for
patternNone not brushLeftArrow not brushRightArrow not and and { ifill } if
brushNone not { istroke } if
0 0 1 1 leftarrow
n 2 sub dup n 1 sub dup rightarrow
} if
end
} dup 0 4 dict put def

/Poly {
3 1 roll
newpath
moveto
-1 add
{ lineto } repeat
closepath
patternNone not { ifill } if
brushNone not { istroke } if
} def

/Rect {
0 begin
/t exch def
/r exch def
/b exch def
/l exch def
newpath
l b moveto
l t lineto
r t lineto
r b lineto
closepath
patternNone not { ifill } if
brushNone not { istroke } if
end
} dup 0 4 dict put def

/Text {
ishow
} def

/idef {
dup where { pop pop pop } { exch def } ifelse
} def

/ifill {
0 begin
gsave
patternGrayLevel -1 ne {
fgred bgred fgred sub patternGrayLevel mul add
fggreen bggreen fggreen sub patternGrayLevel mul add
fgblue bgblue fgblue sub patternGrayLevel mul add setrgbcolor
eofill
} {
eoclip
originalCTM setmatrix
pathbbox /t exch def /r exch def /b exch def /l exch def
/w r l sub ceiling cvi def
/h t b sub ceiling cvi def
/imageByteWidth w 8 div ceiling cvi def
/imageHeight h def
bgred bggreen bgblue setrgbcolor
eofill
fgred fggreen fgblue setrgbcolor
w 0 gt h 0 gt and {
l b translate w h scale
w h true [w 0 0 h neg 0 h] { patternproc } imagemask
} if
} ifelse
grestore
end
} dup 0 8 dict put def

/istroke {
gsave
brushDashOffset -1 eq {
[] 0 setdash
1 setgray
} {
brushDashArray brushDashOffset setdash
fgred fggreen fgblue setrgbcolor
} ifelse
brushWidth setlinewidth
originalCTM setmatrix
stroke
grestore
} def

/ishow {
0 begin
gsave
fgred fggreen fgblue setrgbcolor
/fontDict printFont findfont printSize scalefont dup setfont def
/descender fontDict begin 0 [FontBBox] 1 get FontMatrix end
transform exch pop def
/vertoffset 0 descender sub printSize sub printFont /Courier ne
printFont /Courier-Bold ne and { 1 add } if def {
0 vertoffset moveto show
/vertoffset vertoffset printSize sub def
} forall
grestore
end
} dup 0 3 dict put def

/patternproc {
0 begin
/patternByteLength patternString length def
/patternHeight patternByteLength 8 mul sqrt cvi def
/patternWidth patternHeight def
/patternByteWidth patternWidth 8 idiv def
/imageByteMaxLength imageByteWidth imageHeight mul
stringLimit patternByteWidth sub min def
/imageMaxHeight imageByteMaxLength imageByteWidth idiv patternHeight idiv
patternHeight mul patternHeight max def
/imageHeight imageHeight imageMaxHeight sub store
/imageString imageByteWidth imageMaxHeight mul patternByteWidth add string def
0 1 imageMaxHeight 1 sub {
/y exch def
/patternRow y patternByteWidth mul patternByteLength mod def
/patternRowString patternString patternRow patternByteWidth getinterval def
/imageRow y imageByteWidth mul def
0 patternByteWidth imageByteWidth 1 sub {
/x exch def
imageString imageRow x add patternRowString putinterval
} for
} for
imageString
end
} dup 0 12 dict put def

/min {
dup 3 2 roll dup 4 3 roll lt { exch } if pop
} def

/max {
dup 3 2 roll dup 4 3 roll gt { exch } if pop
} def

/arrowhead {
0 begin
transform originalCTM itransform
/taily exch def
/tailx exch def
transform originalCTM itransform
/tipy exch def
/tipx exch def
/dy tipy taily sub def
/dx tipx tailx sub def
/angle dx 0 ne dy 0 ne or { dy dx atan } { 90 } ifelse def
gsave
originalCTM setmatrix
tipx tipy translate
angle rotate
newpath
0 0 moveto
arrowHeight neg arrowWidth 2 div lineto
arrowHeight neg arrowWidth 2 div neg lineto
closepath
patternNone not {
originalCTM setmatrix
/padtip arrowHeight 2 exp 0.25 arrowWidth 2 exp mul add sqrt brushWidth mul
arrowWidth div def
/padtail brushWidth 2 div def
tipx tipy translate
angle rotate
padtip 0 translate
arrowHeight padtip add padtail add arrowHeight div dup scale
arrowheadpath
ifill
} if
brushNone not {
originalCTM setmatrix
tipx tipy translate
angle rotate
arrowheadpath
istroke
} if
grestore
end
} dup 0 9 dict put def

/arrowheadpath {
newpath
0 0 moveto
arrowHeight neg arrowWidth 2 div lineto
arrowHeight neg arrowWidth 2 div neg lineto
closepath
} def

/leftarrow {
0 begin
y exch get /taily exch def
x exch get /tailx exch def
y exch get /tipy exch def
x exch get /tipx exch def
brushLeftArrow { tipx tipy tailx taily arrowhead } if
end
} dup 0 4 dict put def

/rightarrow {
0 begin
y exch get /tipy exch def
x exch get /tipx exch def
y exch get /taily exch def
x exch get /tailx exch def
brushRightArrow { tipx tipy tailx taily arrowhead } if
end
} dup 0 4 dict put def

/midpoint {
0 begin
/y1 exch def
/x1 exch def
/y0 exch def
/x0 exch def
x0 x1 add 2 div
y0 y1 add 2 div
end
} dup 0 4 dict put def

/thirdpoint {
0 begin
/y1 exch def
/x1 exch def
/y0 exch def
/x0 exch def
x0 2 mul x1 add 3 div
y0 2 mul y1 add 3 div
end
} dup 0 4 dict put def

/subspline {
0 begin
/movetoNeeded exch def
y exch get /y3 exch def
x exch get /x3 exch def
y exch get /y2 exch def
x exch get /x2 exch def
y exch get /y1 exch def
x exch get /x1 exch def
y exch get /y0 exch def
x exch get /x0 exch def
x1 y1 x2 y2 thirdpoint
/p1y exch def
/p1x exch def
x2 y2 x1 y1 thirdpoint
/p2y exch def
/p2x exch def
x1 y1 x0 y0 thirdpoint
p1x p1y midpoint
/p0y exch def
/p0x exch def
x2 y2 x3 y3 thirdpoint
p2x p2y midpoint
/p3y exch def
/p3x exch def
movetoNeeded { p0x p0y moveto } if
p1x p1y p2x p2y p3x p3y curveto
end
} dup 0 17 dict put def

/storexyn {
/n exch def
/y n array def
/x n array def
n 1 sub -1 0 {
/i exch def
y i 3 2 roll put
x i 3 2 roll put
} for
} def

%%EndProlog

%I Idraw 7 Grid 3.70615 

%%%Page: 1 1

Begin
%I b u
%I cfg u
%I cbg u
%I f u
%I p u
%I t
[ 0.923077 0 0 0.923077 0 0 ] concat
/originalCTM matrix currentmatrix def

Begin %I Poly
%I b 13107
1 0 0 [2 2 2 2 2 2 2 2] 15 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 0.947872 0 0 0.631147 75.5064 407.836 ] concat
%I 4
144 444
144 596
296 596
296 444
4 Poly
End

Begin %I Poly
%I b 65535
2 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 0.483326 0 0 0.20398 189.67 629.914 ] concat
%I 4
59 314
59 410
331 410
331 314
4 Poly
End

Begin %I Rect
%I b 65535
2 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 0.493024 0 0 0.437604 189.106 521.41 ] concat
%I
59 450 139 586 Rect
End

Begin %I Rect
%I b 65535
2 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 0.490021 0 0 0.437604 188.31 521.408 ] concat
%I
155 450 235 586 Rect
End

Begin %I Rect
%I b 65535
2 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 0.493024 0 0 0.437604 186.616 521.408 ] concat
%I
251 450 331 586 Rect
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-courier-medium-r-*-100-*
/Courier 10 SetF
%I t
[ 1 0 0 1 212 798 ] concat
%I
[
(System Control Machine)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-courier-medium-r-*-80-*
/Courier 8 SetF
%I t
[ 1.22171 0 0 1.22388 222 707.567 ] concat
%I
[
(Kernel)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-courier-medium-r-*-80-*
/Courier 8 SetF
%I t
[ 1.24806 0 0 1 311.558 768 ] concat
%I
[
(Update)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-courier-medium-r-*-80-*
/Courier 8 SetF
%I t
[ 1 0 0 1 315 754 ] concat
%I
[
(Server)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-courier-medium-r-*-80-*
/Courier 8 SetF
%I t
[ 1 0 0 1 228 768 ] concat
%I
[
(File)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-courier-medium-r-*-80-*
/Courier 8 SetF
%I t
[ 1 0 0 1 223 754 ] concat
%I
[
(Server)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-courier-medium-r-*-80-*
/Courier 8 SetF
%I t
[ 1 0 0 1 273 768 ] concat
%I
[
(Auth)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-courier-medium-r-*-80-*
/Courier 8 SetF
%I t
[ 1 0 0 1 269 754 ] concat
%I
[
(Server)
] Text
End

Begin %I Poly
%I b 13107
1 0 0 [2 2 2 2 2 2 2 2] 15 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 0.947872 0 0 0.631147 111.506 279.836 ] concat
%I 4
144 444
144 596
296 596
296 444
4 Poly
End

Begin %I Poly
%I b 65535
2 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 0.483326 0 0 0.20398 225.67 501.914 ] concat
%I 4
59 314
59 410
331 410
331 314
4 Poly
End

Begin %I Rect
%I b 65535
2 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 0.493024 0 0 0.437604 225.106 393.41 ] concat
%I
59 450 139 586 Rect
End

Begin %I Rect
%I b 65535
2 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 0.490021 0 0 0.437604 224.31 393.408 ] concat
%I
155 450 235 586 Rect
End

Begin %I Rect
%I b 65535
2 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 0.493024 0 0 0.437604 222.616 393.408 ] concat
%I
251 450 331 586 Rect
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-courier-medium-r-*-80-*
/Courier 8 SetF
%I t
[ 1.22171 0 0 1.22388 258 579.567 ] concat
%I
[
(Kernel)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-courier-medium-r-*-80-*
/Courier 8 SetF
%I t
[ 1.24806 0 0 1 347.558 640 ] concat
%I
[
(Update)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-courier-medium-r-*-80-*
/Courier 8 SetF
%I t
[ 1 0 0 1 351 626 ] concat
%I
[
(Client)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-courier-medium-r-*-80-*
/Courier 8 SetF
%I t
[ 1 0 0 1 264 640 ] concat
%I
[
(File)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-courier-medium-r-*-80-*
/Courier 8 SetF
%I t
[ 1 0 0 1 259 626 ] concat
%I
[
(Server)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-courier-medium-r-*-80-*
/Courier 8 SetF
%I t
[ 1 0 0 1 309 640 ] concat
%I
[
(Auth)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-courier-medium-r-*-80-*
/Courier 8 SetF
%I t
[ 1 0 0 1 305 626 ] concat
%I
[
(Server)
] Text
End

Begin %I Poly
%I b 13107
1 0 0 [2 2 2 2 2 2 2 2] 15 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 0.947872 0 0 0.631147 255.506 147.836 ] concat
%I 4
144 444
144 596
296 596
296 444
4 Poly
End

Begin %I Poly
%I b 65535
2 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 0.483326 0 0 0.20398 369.67 369.914 ] concat
%I 4
59 314
59 410
331 410
331 314
4 Poly
End

Begin %I Rect
%I b 65535
2 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 0.493024 0 0 0.437604 369.106 261.41 ] concat
%I
59 450 139 586 Rect
End

Begin %I Rect
%I b 65535
2 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 0.493024 0 0 0.437604 366.616 261.408 ] concat
%I
251 450 331 586 Rect
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-courier-medium-r-*-80-*
/Courier 8 SetF
%I t
[ 1.22171 0 0 1.22388 402 447.567 ] concat
%I
[
(Kernel)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-courier-medium-r-*-80-*
/Courier 8 SetF
%I t
[ 1.24806 0 0 1 491.558 508 ] concat
%I
[
(Update)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-courier-medium-r-*-80-*
/Courier 8 SetF
%I t
[ 1 0 0 1 495 494 ] concat
%I
[
(Client)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-courier-medium-r-*-80-*
/Courier 8 SetF
%I t
[ 1 0 0 1 408 508 ] concat
%I
[
(File)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-courier-medium-r-*-80-*
/Courier 8 SetF
%I t
[ 1 0 0 1 403 494 ] concat
%I
[
(Server)
] Text
End

Begin %I Poly
%I b 13107
1 0 0 [2 2 2 2 2 2 2 2] 15 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 0.947872 0 0 0.631147 319.506 379.836 ] concat
%I 4
144 444
144 596
296 596
296 444
4 Poly
End

Begin %I Poly
%I b 65535
2 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 0.483326 0 0 0.20398 433.669 601.914 ] concat
%I 4
59 314
59 410
331 410
331 314
4 Poly
End

Begin %I Rect
%I b 65535
2 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 0.490021 0 0 0.437604 432.31 493.408 ] concat
%I
155 450 235 586 Rect
End

Begin %I Rect
%I b 65535
2 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 0.493024 0 0 0.437604 430.616 493.408 ] concat
%I
251 450 331 586 Rect
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-courier-medium-r-*-80-*
/Courier 8 SetF
%I t
[ 1.22171 0 0 1.22388 466 679.567 ] concat
%I
[
(Kernel)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-courier-medium-r-*-80-*
/Courier 8 SetF
%I t
[ 1.24806 0 0 1 555.558 740 ] concat
%I
[
(Update)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-courier-medium-r-*-80-*
/Courier 8 SetF
%I t
[ 1 0 0 1 559 726 ] concat
%I
[
(Client)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-courier-medium-r-*-80-*
/Courier 8 SetF
%I t
[ 1 0 0 1 517 740 ] concat
%I
[
(Auth)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-courier-medium-r-*-80-*
/Courier 8 SetF
%I t
[ 1 0 0 1 513 726 ] concat
%I
[
(Server)
] Text
End

Begin %I Poly
%I b 13107
1 0 0 [2 2 2 2 2 2 2 2] 15 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 0.947872 0 0 0.631147 363.506 263.836 ] concat
%I 4
144 444
144 596
296 596
296 444
4 Poly
End

Begin %I Poly
%I b 65535
2 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 0.483326 0 0 0.20398 477.67 485.914 ] concat
%I 4
59 314
59 410
331 410
331 314
4 Poly
End

Begin %I Rect
%I b 65535
2 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 0.493024 0 0 0.437604 477.106 377.41 ] concat
%I
59 450 139 586 Rect
End

Begin %I Rect
%I b 65535
2 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 0.490021 0 0 0.437604 476.31 377.408 ] concat
%I
155 450 235 586 Rect
End

Begin %I Rect
%I b 65535
2 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 0.493024 0 0 0.437604 474.616 377.408 ] concat
%I
251 450 331 586 Rect
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-courier-medium-r-*-80-*
/Courier 8 SetF
%I t
[ 1.22171 0 0 1.22388 510 563.567 ] concat
%I
[
(Kernel)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-courier-medium-r-*-80-*
/Courier 8 SetF
%I t
[ 1.24806 0 0 1 599.558 624 ] concat
%I
[
(Update)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-courier-medium-r-*-80-*
/Courier 8 SetF
%I t
[ 1 0 0 1 603 610 ] concat
%I
[
(Client)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-courier-medium-r-*-80-*
/Courier 8 SetF
%I t
[ 1 0 0 1 516 624 ] concat
%I
[
(File)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-courier-medium-r-*-80-*
/Courier 8 SetF
%I t
[ 1 0 0 1 511 610 ] concat
%I
[
(Server)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-courier-medium-r-*-80-*
/Courier 8 SetF
%I t
[ 1 0 0 1 561 624 ] concat
%I
[
(Auth)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-courier-medium-r-*-80-*
/Courier 8 SetF
%I t
[ 1 0 0 1 557 610 ] concat
%I
[
(Server)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-courier-bold-r-*-140-*
/Courier-Bold 14 SetF
%I t
[ 1 0 0 1 12 516 ] concat
%I
[
(Coda Clients)
] Text
End

Begin %I Line
%I b 65535
1 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 1 0 0 1 -3.5 209 ] concat
%I
156 475 84 347 Line
End

Begin %I Line
%I b 65535
1 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 1 0 0 1 -3.5 209 ] concat
%I
224 351 140 319 Line
End

Begin %I Line
%I b 65535
1 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
none SetP %I p n
%I t
[ 1 0 0 1 -3.5 209 ] concat
%I
328 259 144 283 Line
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f *-courier-bold-r-*-140-*
/Courier-Bold 14 SetF
%I t
[ 1 0 0 1 476.5 812 ] concat
%I
[
(Coda Servers)
] Text
End

End %I eop

showpage

%%Trailer

end

%%EndDocument
 GE 36018 22398 50 13671 35906 BX BX1
/Times-Bold SF
21446 37516 MT
(Figure 4-1:)SH
/Times-Roman SF
26695 XM
(Typical Organization of Coda Servers)SH
14 /Times-Bold AF
8280 41334 MT
(4.1. Machines)SH
10 /Times-Roman AF
8280 42711 MT
(The Coda architecture recognizes three types of machines,)45 W
/Times-Italic SF
32272 XM
(clients)SH
/Times-Roman SF
(,)SH
/Times-Italic SF
35428 XM
(servers)SH
/Times-Roman SF
38612 XM
(and a)46 W
/Times-Italic SF
41092 XM
(system control machine)46 W
/Times-Roman SF
50923 XM
(\050or SCM\051.)46 W
8280 44088 MT
(Client machines are typically single-user workstations used to access shared information.  These)
80 W( machines are not)79 W
8280 45465 MT
(trusted by servers except for the duration of a login session)
70 W( by an authenticated user.  Server machines are secure,)71 W
8280 46842 MT
(trusted machines whose)
287 W( purpose is to service client requests for shared data.  As the custodians of shared)286 W
8280 48219 MT
(information, servers must require authentication of each user before releasing shared data to the)
228 W( user's client)229 W
8280 49596 MT
(workstation. The)
278 W( third)
14 W( machine type is the system control machine \050SCM\051.  The purpose of the SCM is to provide a)13 W
8280 50973 MT
(single point of control)
70 W( for ease of administration.  Logically, the SCM is distinct from the servers, but, physically,)71 W
8280 52350 MT
(the SCM can also act as a server.)SH
14 /Times-Bold AF
8280 56168 MT
(4.2. Processes)SH
10 /Times-Roman AF
8280 57545 MT
(Each of the dedicated file servers must run a number of processes.)
18 W( These)
284 W( processes are shown in Figure 4-1 and are)17 W
8280 58922 MT
(described below.)SH
/Times-Bold SF
8280 60713 MT
(File Server Process)SH
/Times-Roman SF
20780 XM
(The)SH
/Times-Italic SF
22596 XM
(srv)SH
/Times-Roman SF
24080 XM
(process interacts with the venus process on clients.  Together they fulfill user)12 W
20780 61818 MT
(requests for shared data stored on the server.)
86 W( When)
421 W( started, the server process will)85 W
20780 62923 MT
(salvage the file system.  The presence of a file)
95 W( called)96 W
/Times-Italic SF
43210 XM
(SHUTDOWN)SH
/Times-Roman SF
49000 XM
(in the)96 W
/Times-Italic SF
51692 XM
(/vice/srv)SH
/Times-Roman SF
20780 64028 MT
(directory indicates that the server process exited normally.)SH
/Times-Bold SF
8280 65605 MT
(Auth Server Process)SH
/Times-Roman SF
20780 XM
(The)SH
/Times-Italic SF
22613 XM
(auth2)SH
/Times-Roman SF
25169 XM
(process runs on all servers.  It validates user passwords and)
28 W( issues a token)27 W
20780 66710 MT
(for that user if the password is correct.  However,)
22 W( passwords may only be changed at)23 W
20780 67815 MT
(the SCM.  Hence, the password database is read-only replicated to all servers and the)18 W
20780 68920 MT
(SCM maintains the read-write replica.  Changes to the)
171 W( password file are updated)172 W
20780 70025 MT
(automatically through the)158 W
/Times-Italic SF
31781 XM
(update)SH
/Times-Roman SF
34911 XM
(process described)
158 W( below.  If auth2 exits for any)157 W
20780 71130 MT
(reason, the)123 W
/Times-Italic SF
25608 XM
(authmon)SH
/Times-Roman SF
29481 XM
(process restarts it.  On all servers \050except the SCM\051, auth2 is)123 W
8280 75600 MT
(December 21, 1995)SH
54080 XM
(17)SH
ES
%%Page: 18 19
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
45782 XM
(System Overview)SH
18620 7886 MT
(invoked with the)SH
/Times-Italic SF
25592 XM
(-chk)SH
/Times-Roman SF
27563 XM
(option.)SH
/Times-Bold SF
6120 9463 MT
(Update Client Process)SH
/Times-Roman SF
18620 XM
(The)SH
/Times-Italic SF
20511 XM
(updateclnt)SH
/Times-Roman SF
25069 XM
(process works in conjuction with the)86 W
/Times-Italic SF
40528 XM
(updatesrv)SH
/Times-Roman SF
44807 XM
(process \050running on)85 W
18620 10568 MT
(the SCM\051 to keep read-only copies of system files and databases in)
89 W( sync with their)90 W
18620 11673 MT
(corresponding read-write copy.  The updateclnt process checks)
145 W( with the updatesrv)144 W
18620 12778 MT
(process on the SCM periodically to ensure that the read-only copy on)
89 W( this server is)90 W
18620 13883 MT
(the latest copy.  Thus, when the read-write copy is updated, the read-only)
24 W( copies will)23 W
18620 14988 MT
(be automatically updated after some delay.)
282 W( If)
815 W( the updateclnt or the updatesrv)283 W
18620 16093 MT
(processes exit for any reason, the)SH
/Times-Italic SF
32144 XM
(updatemon)SH
/Times-Roman SF
36838 XM
(process restarts them.)SH
6120 17470 MT
(Figure 4-2 lists the typical processes of a running file server.)SH
8 /Courier-Bold AF
14280 19114 MT
(PID TT STAT  TIME COMMAND)SH
15240 20059 MT
(0 ?  R <)
SH( 53hr)
960 W( \050kernel)
480 W( idle\051)SH
15240 21004 MT
(1 ?  SW)
SH( 0:00)
1440 W( init)
1920 W( -a \050init\051)SH
15240 21949 MT
(2 ?  U <  10:00  \050inode_pager\051)SH
15240 22894 MT
(3 ?  S <)
SH( 0:00)
960 W( \050device)
480 W( pager\051)SH
15240 23839 MT
(4 ?  S <)
SH( 0:00)
960 W( \050device)
480 W( server\051)SH
15240 24784 MT
(5 ?  S)
SH( 0:00)
1920 W( \050exception)
480 W( hdlr\051)SH
15240 25729 MT
(6 ?  SW)
SH( 0:00)
1440 W( /etc/mach_init -a)SH
14280 26674 MT
(150 ?  SW)
SH( 0:00)
1440 W( authmon)SH
14280 27619 MT
(152 ?  SW)
SH( 0:00)
1440 W( UpdateMonitor)
SH( -s)
2880 W( -p /vice/db)SH
14280 28564 MT
(156 ?  SW)
SH( 0:00)
1440 W( auth2)SH
14280 29509 MT
(165 ?  S)
SH( 0:35)
1920 W( /vice/bin/updatemon -s -p /vice/db)SH
14280 30454 MT
(179 ?  SW)
SH( 3:19)
1440 W( /etc/update)SH
14280 31399 MT
(182 ?  SW)
SH( 0:00)
1440 W( /etc/cron)SH
14280 32344 MT
(190 ?  SW)
SH( 0:07)
1440 W( /usr/cs/etc/nanny -init /usr/cs/etc/nanny.config)SH
14280 33289 MT
(202 ?  SW)
SH( 0:00)
1440 W( /etc/inetd)SH
14280 34234 MT
(203 ?  SW)
SH( 0:07)
1440 W( /etc/named)SH
14280 35179 MT
(204 ?  SW)
SH( 0:00)
1440 W( /usr/cs/etc/supfilesrv)SH
14280 36124 MT
(205 ?  SW)
SH( 0:00)
1440 W( /usr/cs/lib/lpd -l)SH
14280 37069 MT
(206 ?  SW)
SH( 0:00)
1440 W( RFS Listener.)SH
13800 38014 MT
(1217 ?  SW)
SH( 0:00)
1440 W( sh /vice/bin/startserver)SH
13800 38959 MT
(1222 ?  S)
SH( 6:56)
1920 W( srv)
SH( -time)
4800 W( -maxworktime 15 -nodumpvm -trunc 1 -rvm)SH
13320 39904 MT
(/dev/rrz3c /dev/rrz0h 69206016)SH
13800 40849 MT
(1358 t0 R)
SH( 0:00)
1920 W( ps axww)SH
10 /Times-Bold AF
21869 42480 MT
(Figure 4-2:)SH
/Times-Roman SF
27118 XM
(Typical Server Processes)SH
14 /Times-Bold AF
6120 46298 MT
(4.3. Data Location)SH
10 /Times-Roman AF
6120 47675 MT
(The information stored on Coda servers is organized into)
112 W( several directories.  These directories are are described)111 W
6120 49052 MT
(below.)SH
/Times-Bold SF
6120 50843 MT
(/vice/auth2)SH
/Times-Roman SF
14120 XM
(This directory contains information related to the authentication process, including its log file.)SH
/Times-Bold SF
6120 52420 MT
(/vice/bin)SH
/Times-Roman SF
14120 XM
(contains the Coda file system binaries for servers and the SCM.)SH
/Times-Bold SF
6120 53997 MT
(/vice/db)SH
/Times-Roman SF
14120 XM
(contains the log file for the update processes as well as a number of databases important)
158 W( to)159 W
14120 55102 MT
(servers.)SH
/Times-Bold SF
6120 56679 MT
(/vice/srv)SH
/Times-Roman SF
14120 XM
(contains information related to the server process, including its log file.)SH
/Times-Bold SF
6120 58256 MT
(/vice/vol)SH
/Times-Roman SF
14120 XM
(contains information related to the volumes contained in the Coda file system.)SH
/Times-Bold SF
6120 59833 MT
(/vice/vol/remote)SH
/Times-Roman SF
14120 XM
(exists only on the SCM and contains volume information for all remote servers.)SH
6120 61210 MT
(A more detailed description of the files in the these directories is listed in Appendix II.)SH
14 /Times-Bold AF
6120 65028 MT
(4.4. File System Consistency)SH
10 /Times-Roman AF
6120 66405 MT
(After a crash, many subsystems)
33 W( of Coda must be checked to maintain file system consistency.  To ensure that Coda)32 W
6120 67782 MT
(data partitions are internally consistent, CMU's)
50 W( modified version of fsck, is run during reboot.  Coda accesses files)51 W
6120 69159 MT
(by inode rather than name.  The normal fsck would toss out Coda files because they have no name.  The)57 W
/Times-Italic SF
49226 XM
(salvager)SH
/Times-Roman SF
(,)SH
6120 70536 MT
(run by the file process)
109 W( during initialization, checks that every inode is referenced by at least one Coda directory.)110 W
6120 71913 MT
(Thus, CMU's fsck and salvage)
58 W( together provide what fsck normally provides for the Unix file system.  The reason)57 W
6120 75600 MT
(December 21, 1995)SH
51920 XM
(18)SH
ES
%%Page: 19 20
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
47942 XM
(System Overview)SH
8280 7886 MT
(fsck is)
81 W( not a sufficient check on Coda file systems is that it does not recognize Coda directories \050Coda directories)82 W
8280 9263 MT
(appear to be regular files in the Unix file system\051 so it cannot perform the inode reference check.)SH
8280 75600 MT
(December 21, 1995)SH
54080 XM
(19)SH
ES
%%Page: 20 21
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
45782 XM
(System Overview)SH
6120 75600 MT
(December 21, 1995)SH
51920 XM
(20)SH
ES
%%Page: 21 22
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
49609 XM
(Coda Kernels)SH
16 /Times-Bold AF
8280 8272 MT
(5. Coda Kernels)SH
10 /Times-Roman AF
8280 9649 MT
(Currently, Coda clients and servers, can only be run on Mach kernels. The servers can be run on)
148 W( vanilla Mach)147 W
8280 11026 MT
(kernels, but the clients require some Coda-specific changes to be made to the)
183 W( kernel. The Mach X126 release)184 W
8280 12403 MT
(includes the coda kernel changes)
244 W( under the EXP configuration flag.  Thus running a facilities kernel named)243 W
8280 13780 MT
(X126.STD+WS+EXP \050or something similar with the +EXP suffix\051 should allow you to run a Coda Venus.)SH
14 /Times-Bold AF
8280 17598 MT
(5.1. Vnode Interface)SH
10 /Times-Roman AF
8280 18975 MT
(In Unix systems, the piece of code which translates user-generated system calls into file system)
3 W( requests is called the)4 W
8280 20352 MT
(Vnode Interface. To integrate with this interface, a file)
14 W( system must provide a driver for the routines in the interface.)13 W
8280 21729 MT
(For Coda, this driver is called the)SH
/Times-Italic SF
21890 XM
(MiniCache.)SH
/Times-Roman SF
8280 23795 MT
(Since Venus is a user-level process, frequent interaction between Venus and the Vnode Interface)
117 W( would severely)118 W
8280 25172 MT
(reduce the performance of Coda.  In order to reduce this load, there is a cache, called)
2 W( the)1 W
/Times-Italic SF
43997 XM
(MiniCache)SH
/Times-Roman SF
(, between Venus)1 W
8280 26549 MT
(and the Vnode Interface.  The MiniCache)
83 W( improves Coda's performance by reducing the need to interact with the)84 W
8280 27926 MT
(Vnoce Interface.)SH
8280 29992 MT
(Communication between Venus and the MiniCache is obtained through a Unix special device. On Coda machines,)63 W
8280 31369 MT
(this device is called /dev/cfs0. This file must be created as part of the client installation.)SH
14 /Times-Bold AF
8280 35187 MT
(5.2. Installing the Coda kernel)SH
10 /Times-Roman AF
8280 36564 MT
(The Mach kernel with Coda)
182 W( changes only needs to be installed on client machines.  See the section on client)183 W
8280 37941 MT
(installation for this procedure.)SH
8280 75600 MT
(December 21, 1995)SH
54080 XM
(21)SH
ES
%%Page: 22 23
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
47449 XM
(Coda Kernels)SH
6120 75600 MT
(December 21, 1995)SH
51920 XM
(22)SH
ES
%%Page: 23 24
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
45387 XM
(Installing a Coda Server)SH
16 /Times-Bold AF
8280 8272 MT
(6. Installing a Coda Server)SH
10 /Times-Roman AF
8280 9649 MT
(An instance of)
42 W( Coda is a set of servers which all believe one of the set to be the master, or SCM. All modifications)41 W
8280 11026 MT
(to important Coda databases should be made on the SCM.  The update daemon will)
114 W( propagate changes from the)115 W
8280 12403 MT
(SCM to the other servers. The first server you setup must be the SCM.)SH
14 /Times-Bold AF
8280 16221 MT
(6.1. Recoverable Virtual Memory)SH
10 /Times-Roman AF
8280 17598 MT
(To help ensure that data is not lost between server restarts, Coda uses)172 W
/Times-Italic SF
38510 XM
(Recoverable Virtual Memory)171 W
/Times-Roman SF
50937 XM
(\050RVM\051 to)171 W
8280 18975 MT
(maintain the system state.)
45 W( nUpon)
341 W( startup, the Coda servers use RVM to restore the system's state.  See section 6.5)46 W
8280 20352 MT
(for more details on RVM.)SH
14 /Times-Bold AF
8280 24170 MT
(6.2. Server Disk Organization)SH
10 /Times-Roman AF
8280 25547 MT
(Coda servers require a number of disk partitions in addition to those used in Standard Unix or)
53 W( Mach kernels.  Two)52 W
8280 26924 MT
(partitions are used by RVM, one as a log device and one as)
54 W( a data device. Although these could be setup as UNIX)55 W
8280 28301 MT
(files, we)
95 W( suggest you dedicate raw disk partitions, for reasons of permanence and safety from accidental deletion.)94 W
8280 29678 MT
(For better performance,)
48 W( you might consider putting the RVM log partition on its own device. This would eliminate)49 W
8280 31055 MT
(sharing of the disk head and should substantially reduce disk seek times on log operations.)SH
8280 33121 MT
(Coda servers also need one or more Unix partitions)
34 W( to store Coda file data.  These partitions should have the names)33 W
/Times-Italic SF
8280 34498 MT
(/vicepa)SH
/Times-Roman SF
(,)SH
/Times-Italic SF
11739 XM
(/vicepb)SH
/Times-Roman SF
(, etc.  The table below shows a possible partitioning of disks on Coda servers with their)
71 W( respective)72 W
8280 35875 MT
(purpose, mount points, typical sizes and consistency check program.  Please note that the sizes of)
90 W( these partitions)89 W
8280 37252 MT
(were taken from one of the Coda servers at CMU-SCS: the actual)
121 W( sizes may vary at other installations. Add the)122 W
8280 38629 MT
(partitions with Unix File systems to)SH
/Times-Italic SF
22837 XM
(/etc/fstab)SH
/Times-Roman SF
26754 XM
(to ensure they are mounted at system startup.)SH
9 /Times-Bold AF
13755 40490 MT
(Partition)SH
19080 XM
(Storage Purpose)SH
28080 XM
(Mounted)SH
35280 XM
(Typical Size)SH
43042 XM
(Whether fscked)SH
7 /Times-Roman AF
11880 41821 MT
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
9 SS 
15055 43616 MT
(0a)SH
19080 XM
(Root File System)SH
28080 XM
(/)SH
36492 XM
(13.8MB)SH
45380 XM
(Yes)SH
15030 44840 MT
(0d)SH
19080 XM
(System Sources)SH
28080 XM
(/sys0)SH
36492 XM
(41.7MB)SH
45380 XM
(Yes)SH
15055 46064 MT
(0e)SH
19080 XM
(User file system)SH
28080 XM
(/usr0)SH
36492 XM
(52.5MB)SH
45380 XM
(Yes)SH
15030 47288 MT
(0g)SH
19080 XM
(RVM Log)SH
28080 XM
(Not)SH
36717 XM
(8.7MB)SH
45530 XM
(No)SH
15030 48512 MT
(0h)SH
19080 XM
(RVM Data)SH
28080 XM
(Not)SH
36830 XM
(70MB)SH
45530 XM
(No)SH
15055 49736 MT
(1c)SH
19080 XM
(Coda FS Data0)SH
28080 XM
(/vicepa)SH
37130 XM
(1GB)SH
45380 XM
(Yes)SH
15055 50960 MT
(2c)SH
19080 XM
(Coda FS Data1)SH
28080 XM
(/vicepb)SH
37130 XM
(1GB)SH
45380 XM
(Yes)SH
13792 52184 MT
(3*, 4*, ...)SH
19080 XM
(Coda FS Data*)SH
28080 XM
(/vicep*)SH
37780 XM
(?)SH
45380 XM
(Yes)SH
10 /Times-Bold AF
21223 53794 MT
(Table 6-1:)SH
/Times-Roman SF
26084 XM
(Example of Partitions for a Coda Server)SH
14 /Times-Bold AF
8280 57612 MT
(6.3. Binaries and Devices)SH
10 /Times-Roman AF
8280 58989 MT
(Installing the binaries on a server still has to be done by hand as this has)
49 W( not yet been fully automated.  The rest of)48 W
8280 60366 MT
(this section details the process of installing a server.  For simplicity's sake,)
1 W( the directory that the Coda files are being)2 W
8280 61743 MT
(copied from will be refered to as ${INSTALL_DIR}.)SH
12 /Times-Bold AF
8280 65427 MT
(6.3.1. Server directories)SH
10 /Times-Roman AF
8280 66804 MT
(Create the following directories:)SH
/Symbol SF
10070 68257 MT
(\267)SH
/Times-Roman SF
10780 XM
(/vice)SH
10780 69362 MT
(This is the root of the Coda server tree, and)
10 W( may be a symbolic link to another file system.  For example)11 W
10780 70467 MT
(create the directory /usr0/vice and link /vice to it.)SH
8280 75600 MT
(December 21, 1995)SH
54080 XM
(23)SH
ES
%%Page: 24 25
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
43227 XM
(Installing a Coda Server)SH
/Symbol SF
7910 8000 MT
(\267)SH
/Times-Roman SF
8620 XM
(/vice/bin)SH
8620 9105 MT
(The Coda server binary directory.)SH
/Symbol SF
7910 10863 MT
(\267)SH
/Times-Roman SF
8620 XM
(/vice/backup)SH
8620 11968 MT
(Used by the Coda backup subsystem.)SH
/Symbol SF
7910 13726 MT
(\267)SH
/Times-Roman SF
8620 XM
(/vice/srv)SH
8620 14831 MT
(Contains log files for standard output and standard error.)SH
/Symbol SF
7910 16589 MT
(\267)SH
/Times-Roman SF
8620 XM
(/vice/vol)SH
8620 17694 MT
(Contains various files for the volume utility.)SH
/Symbol SF
7910 19452 MT
(\267)SH
/Times-Roman SF
8620 XM
(/vice/db)SH
8620 20557 MT
(Contains Coda database files.)SH
6120 22623 MT
(In addition to creating the above directories, a couple of other files need to be created:)SH
/Symbol SF
7910 24076 MT
(\267)SH
/Times-Roman SF
8620 XM
(Create a)682 W
/Times-Italic SF
13538 XM
(/vice/.hostname)SH
/Times-Roman SF
20719 XM
(file to contain the)
682 W( name of this server.  For example, on)683 W
/Times-Bold SF
8620 25181 MT
(vivaldi.coda.cs.cmu.edu)SH
/Times-Roman SF
(, the)SH
/Times-Italic SF
20704 XM
(/.hostname)SH
/Times-Roman SF
25315 XM
(simply contains the word "vivaldi".)SH
/Symbol SF
7910 26939 MT
(\267)SH
/Times-Roman SF
8620 XM
(Create a)82 W
/Times-Italic SF
12338 XM
(/.scm)SH
/Times-Roman SF
14753 XM
(file to contain the name of the SCM.  The name of this machine should be unique)
82 W( and)81 W
8620 28044 MT
(should be the same on all servers.  Note that if the SCM acts as a)
155 W( server as well, this file and the)156 W
/Times-Italic SF
8620 29149 MT
(/.hostname)SH
/Times-Roman SF
13231 XM
(file will be identical on that one machine.)SH
/Symbol SF
7910 30907 MT
(\267)SH
/Times-Roman SF
8620 XM
(ln -s /vice/.hostname / ; ln -s /vice/.scm /)SH
12 /Times-Bold AF
6120 34591 MT
(6.3.2. Populating /vice/bin)SH
10 /Times-Roman AF
6120 35968 MT
(Executing the following commands will populate)SH
/Times-Italic SF
26119 XM
(/vice/bin)SH
/Times-Roman SF
29813 XM
(with the required binaries.)SH
/Symbol SF
7910 37602 MT
(\267)SH
/Times-Roman SF
8620 XM
(cp -p ${INSTALL_DIR}/bin/{au,auth2,authmon,printvrdb,pwd2pdb,pcfgen,srv} /vice/bin)SH
/Symbol SF
7910 39360 MT
(\267)SH
/Times-Roman SF
8620 XM
(cp -p ${INSTALL_DIR}/bin/{initpw,updateclnt,updatemon,updatesrv,volutil} /vice/bin)SH
/Symbol SF
7910 41118 MT
(\267)SH
/Times-Roman SF
8620 XM
(cp -p ${INSTALL_DIR}/bin-special/{rds_test,rdsinit,rvmutl} /vice/bin)SH
/Symbol SF
7910 42876 MT
(\267)SH
/Times-Roman SF
8620 XM
(cp -p ${INSTALL_DIR}/scripts/{bldvldb.sh,createvol,createvol_rep,purgevol} /vice/bin)SH
/Symbol SF
7910 44634 MT
(\267)SH
/Times-Roman SF
8620 XM
(cp -p ${INSTALL_DIR}/scripts/{purgevol_rep,restartserver,startfromboot,startserver} /vice/bin)SH
12 /Times-Bold AF
6120 48318 MT
(6.3.3. Setting up /vice/vol)SH
10 /Symbol AF
7910 49771 MT
(\267)SH
/Times-Roman SF
8620 XM
(Create a file containing the number 2130706432 \0500x7f000000\051 called)300 W
/Times-Italic SF
39343 XM
(/vice/vol/maxgroupid)SH
/Times-Roman SF
(. This)300 W
8620 50876 MT
(number will be used to assign identifiers to replicated volumes.)SH
/Symbol SF
7910 52634 MT
(\267)SH
/Times-Roman SF
8620 XM
(Create a file called)SH
/Times-Italic SF
16395 XM
(/vice/vol/.anonr)SH
/Times-Roman SF
22950 XM
(containing the word "VolumeList".)SH
/Symbol SF
7910 54392 MT
(\267)SH
/Times-Roman SF
8620 XM
(Create a directory)SH
/Times-Italic SF
16034 XM
(/vice/vol/remote)SH
/Times-Roman SF
22727 XM
(which will be used by the fileserver script)SH
/Times-Italic SF
39724 XM
(bldvldb.sh)SH
/Symbol SF
7910 56150 MT
(\267)SH
/Times-Roman SF
8620 XM
(Create the empty files /vice/vol/fs.lock and /vice/vol/volutil.lock)SH
12 /Times-Bold AF
6120 59834 MT
(6.3.4. /vice/db/servers)SH
10 /Times-Roman AF
6120 61211 MT
(Select an)
37 W( id for this server and append it to the list of existing servers in the file)38 W
/Times-Italic SF
38799 XM
(/vice/db/servers)SH
/Times-Roman SF
(, creating the file if)38 W
6120 62588 MT
(necessary. The)
610 W( server id's must not be greater than)
180 W( 255 and cannot be reassigned to another server.  See the)179 W
/Times-Bold SF
6120 63965 MT
(servers\0505\051)SH
/Times-Roman SF
10590 XM
(manual page for more details.)SH
6120 75600 MT
(December 21, 1995)SH
51920 XM
(24)SH
ES
%%Page: 25 26
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
45387 XM
(Installing a Coda Server)SH
12 /Times-Bold AF
8280 8004 MT
(6.3.5. /vice/db/hosts)SH
10 /Times-Roman AF
8280 9381 MT
(Each server should have an entry in)19 W
/Times-Italic SF
22937 XM
(hosts)SH
/Times-Roman SF
(. The)
288 W( file should have one server per line, with each line containing)
19 W( the IP)20 W
8280 10758 MT
(number of the host, followed by a tab, followed by the name of the server.  Additionally, the SCM should have)
45 W( the)44 W
8280 12135 MT
(two words "localhost scm" appended at the end of it's line.  For example:)SH
/Courier SF
10680 13541 MT
(128.2.209.202 grieg)
1200 W( localhost scm)SH
10680 14572 MT
(128.2.209.203 haydn)1200 W
10680 15603 MT
(128.2.209.204 wagner)1200 W
10680 16634 MT
(128.2.222.112 debussy)1200 W
10680 17665 MT
(128.2.206.38 brahms)1800 W
10680 18696 MT
(128.2.206.77 rossini)1800 W
10680 19727 MT
(128.2.206.79 puccini)1800 W
10680 20758 MT
(128.2.206.80 scarlatti)1800 W
14 /Times-Bold AF
8280 24576 MT
(6.4. Configuration Changes)SH
10 /Times-Roman AF
8280 25953 MT
(Because of the)49 W
/Times-Bold SF
14564 XM
(sup)SH
/Times-Roman SF
16364 XM
(program which runs on most CMU-SCS machines, all files normally in)
49 W( / should actually reside)50 W
8280 27330 MT
(in)SH
/Times-Italic SF
9308 XM
(/vice)SH
/Times-Roman SF
11446 XM
(and have symbolic links from / to the actual file. The directions above have already taken this into account.)SH
8280 29396 MT
(In addition, the following changes)
117 W( must be made to various configuration files.  Examples of most configuration)116 W
8280 30773 MT
(files are contained in their respective directories in)SH
/Times-Italic SF
28775 XM
($INSTALLATION_DIR)SH
/Times-Roman SF
38359 XM
(as well as in Appendix IV.)SH
12 /Times-Bold AF
8280 34457 MT
(6.4.1. /etc/services)SH
10 /Times-Roman AF
8280 35834 MT
(A number of the programs that make up the Coda clients and servers must have)
32 W( standard, known port numbers, and)33 W
8280 37211 MT
(must be entered in)52 W
/Times-Italic SF
16098 XM
(/etc/services)SH
/Times-Roman SF
(. All)
354 W( Coda services run on sockets.  The services that require known port numbers,)51 W
8280 38588 MT
(as well as the numbers they have been assigned at CMU-SCS, are)SH
/Courier SF
10680 39994 MT
(coda_opcons 1355/udp)
2400 W( #)
13800 W( Coda opcons)SH
10680 41025 MT
(coda_auth 1357/udp)
3600 W( #)
13800 W( Coda auth)SH
10680 42056 MT
(coda_udpsrv 1359/udp)
2400 W( #)
13800 W( Coda udpsrv)SH
10680 43087 MT
(coda_filesrv 1361/udp)
1800 W( #)
13800 W( Coda filesrv)SH
10680 44118 MT
(coda_venus 1363/udp)
3000 W( #)
13800 W( Coda venus)SH
12 /Times-Bold AF
8280 47802 MT
(6.4.2. /etc/rc.local)SH
10 /Times-Roman AF
8280 49179 MT
(The following should be added to)SH
/Times-Italic SF
22001 XM
(/etc/rc.local)SH
/Times-Roman SF
(:)SH
8280 75600 MT
(December 21, 1995)SH
54080 XM
(25)SH
ES
%%Page: 26 27
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
43227 XM
(Installing a Coda Server)SH
/Courier SF
8520 7824 MT
(if [ `cat /.hostname` = `cat /.scm` ]; then)SH
9120 8855 MT
(if [ -f /vice/bin/authmon ]; then)SH
10320 9886 MT
(/vice/bin/authmon &)SH
10320 10917 MT
(echo 'Starting Authentication Server' >/dev/console)SH
9120 11948 MT
(fi)SH
9120 12979 MT
(if [ -f /vice/bin/updatemon ]; then)SH
10320 14010 MT
(/vice/bin/updatemon -s -p /vice/db &)SH
10320 15041 MT
(echo 'Starting Update Server for file server updates' >/dev/console)SH
9120 16072 MT
(fi)SH
8520 17103 MT
(else)SH
9120 18134 MT
(if [ -f /vice/bin/authmon ]; then)SH
10320 19165 MT
(/vice/bin/authmon -chk &)SH
10320 20196 MT
(echo 'Starting Authentication Server \050read only\051' >/dev/console)SH
9120 21227 MT
(fi)SH
9120 22258 MT
(if [ -f /vice/bin/updatemon ]; then)SH
10320 23289 MT
(/vice/bin/updatemon -h `cat /.scm`  -q coda_udpsrv &)SH
10320 24320 MT
(echo 'Starting Update Client for file server updates' >/dev/console)SH
9120 25351 MT
(fi)SH
8520 26382 MT
(fi)SH
8520 28444 MT
(# Start the Coda file server if necessary.)SH
8520 29475 MT
(/vice/bin/startfromboot&)SH
14 /Times-Bold AF
6120 34324 MT
(6.5. RVM Initialization)SH
10 /Times-Roman AF
6120 35701 MT
(RVM initialization requires the selection)
15 W( of several parameters, each of which involve tradeoffs.  For the CMU-SCS)16 W
6120 37078 MT
(Coda DS-5000 servers, use the parameters in)72 W
/Times-Italic SF
24898 XM
(/afs/cs/user/raiff/serverinfo/\050server_name>)SH
/Times-Roman SF
(. Other)
394 W( sites may want to)72 W
6120 38455 MT
(think about thier choices first.)
179 W( Although)
610 W( the RVM log and data can be kept as regular UFS files,)180 W
/Times-Bold SF
48448 XM
(this is not)180 W
6120 39832 MT
(recommended)SH
/Times-Roman SF
(. Raw)
260 W( partitions have much stronger consistency guarantees.  It is probably)
5 W( best to plan out the RVM)4 W
6120 41209 MT
(partitions on paper first, taking into consideration both the effect on RVM performance as well as overall disk usage.)SH
12 /Times-Bold AF
6120 44893 MT
(6.5.1. The Log Partition)SH
10 /Times-Roman AF
6120 46270 MT
(The size of the log device is based on available space)
45 W( and issues involving truncation. Larger logs provide a longer)46 W
6120 47647 MT
(accessible history of operations, are truncated less frequently,)
58 W( but each truncation will take a longer chunk of time.)57 W
6120 49024 MT
(Shorter logs truncate more often, but each truncation)
133 W( takes less time.  We use an 8M log size, on a partition of)134 W
6120 50401 MT
(roughly 9M.  \050We)
280 W( suggest leaving a little space at the end of the RVM log partition for safety, as RVM)279 W
6120 51778 MT
(automatically adds about one extra page to the amount you specify\051.)SH
6120 53844 MT
(The log is initialized with)99 W
/Times-Bold SF
17143 XM
(rvmutl)SH
/Times-Roman SF
(. At)448 W
/Times-Bold SF
22384 XM
(rvmutl)SH
/Times-Roman SF
('s prompt, use the command)99 W
/Times-Bold SF
37433 XM
(i)SH
/Times-Roman SF
(, and then specify the size)
99 W( of the log)100 W
6120 55221 MT
(segment. In)
284 W( specifying the size, you can use M for megabyte and K for kilobyte.  For example, to initialize a log)
17 W( on)16 W
6120 56598 MT
(partition 0g to eight megabytes:)SH
/Courier SF
8520 58050 MT
(#)SH
/Times-Bold SF
9720 XM
(rvmutl)SH
/Courier SF
8520 59081 MT
(* i)SH
8520 60112 MT
(Enter name of log file or device: /dev/rrz0g)SH
8520 61143 MT
(Enter length of log data area: 8M)SH
8520 62174 MT
(* q)SH
12 /Times-Bold AF
6120 65858 MT
(6.5.2. The Data Partition)SH
10 /Times-Roman AF
6120 67235 MT
(The data segment contains the meta-data of the system such as volume headers, Coda)
170 W( directories, vmond lists,)171 W
6120 68612 MT
(resolution logs, etc.  The size)
48 W( of the data segment depends on the amount of disk space for file data, i.e. the size of)47 W
6120 69989 MT
(the /vicep? partitions.  As a rule of thumb, you will need about 1/20 to)
213 W( 1/30 of the total file data space for)214 W
6120 71366 MT
(recoverable storage. In our systems the data segment is 65Meg)
43 W( for 2 gigabytes of disk space. By making it smaller,)42 W
6120 75600 MT
(December 21, 1995)SH
51920 XM
(26)SH
ES
%%Page: 27 28
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
45387 XM
(Installing a Coda Server)SH
8280 7886 MT
(you can reduce server startup time.  However, if you run out of)
25 W( space you will be forced to reinitialize the system, a)26 W
8280 9263 MT
(costly penalty.)SH
8280 11329 MT
(In the)
194 W( reinitialization, you need to pick several parameters. The first is the starting address of the recoverable)193 W
8280 12706 MT
(segment in your address space.  On our servers we start the RVM segment at 0x70000000.)
154 W( The)
560 W( second is the)155 W
8280 14083 MT
(amount of space to give the recoverable heap. The heap will obviously grow over use, so plan accordingly.  Our)104 W
8280 15460 MT
(heap space is 0x400000.  We suggest that for the last parameters you use 1Meg \0500x100000\051 for the)
57 W( static area, use)58 W
8280 16837 MT
(80 free lists \050or nlists\051, and a chunksize)
133 W( of 32.  These numbers will work well with the internal structure of the)132 W
8280 18214 MT
(fileserver.)SH
8280 20280 MT
(To perform the data initialization, run the program)4 W
/Times-Bold SF
28781 XM
(rdsinit)SH
/Times-Roman SF
(.)SH
/Times-Bold SF
32373 XM
(rdsinit)SH
/Times-Roman SF
35461 XM
(takes two)
4 W( parameters, the names of the RVM log)5 W
8280 21657 MT
(and data devices.  For example, to initialize one of our DS-5000 servers:)SH
/Courier SF
10680 23109 MT
(#)SH
/Times-Bold SF
11880 XM
(rdsinit /dev/rrz0g /dev/rrz0h)SH
/Courier SF
10680 24140 MT
(Enter the length of the device /dev/rrz0h:)SH
/Times-Bold SF
36480 XM
(69206016)SH
/Courier SF
10680 25171 MT
(Going to initialize data file to zero, could take awhile.)SH
10680 26202 MT
(done.)SH
10680 27233 MT
(rvm_initialize succeeded.)SH
10680 28264 MT
(starting address of rvm:)SH
/Times-Bold SF
25680 XM
(0x70000000)SH
/Courier SF
10680 29295 MT
(heap len:)SH
/Times-Bold SF
16680 XM
(0x4000000)SH
/Courier SF
10680 30326 MT
(static len:)SH
/Times-Bold SF
17880 XM
(0x100000)SH
/Courier SF
10680 31357 MT
(nlists:)SH
/Times-Bold SF
15480 XM
(80)SH
/Courier SF
10680 32388 MT
(chunksize:)SH
/Times-Bold SF
17280 XM
(32)SH
/Courier SF
10680 33419 MT
(rds_zap_heap completed successfully.)SH
10680 34450 MT
(rvm_terminate succeeded.)SH
14 /Times-Bold AF
8280 38268 MT
(6.6. Update Monitor)SH
10 /Times-Roman AF
8280 39645 MT
(The update monitor is used to propagate changes to the Coda server databases to all servers from)
66 W( the SCM. Client)65 W
8280 41022 MT
(update processes run on all the Coda servers and connect to a server udpate)
11 W( process running on the SCM. The server)12 W
8280 42399 MT
(process uses the file)128 W
/Times-Italic SF
17068 XM
(/vice/db/files)SH
/Times-Roman SF
22556 XM
(to determine which files should be kept consistent on all the servers.  See the)127 W
/Times-Italic SF
8280 43776 MT
(updatemon)SH
/Times-Roman SF
(\0508\051 man page for more details.)SH
8280 45842 MT
(Create the file)SH
/Times-Italic SF
14195 XM
(/vice/db/files)SH
/Times-Roman SF
19556 XM
(on the SCM. Currently our)SH
/Times-Italic SF
30556 XM
(/vice/db/files)SH
/Times-Roman SF
35917 XM
(looks like this:)SH
/Courier SF
10680 47248 MT
(VLDB)SH
10680 48279 MT
(auth2.pw)SH
10680 49310 MT
(auth2.tk)SH
10680 50341 MT
(auth2.tk.BAK)SH
10680 51372 MT
(pro.db)SH
10680 52403 MT
(servers)SH
10680 53434 MT
(hosts)SH
10680 54465 MT
(vice.pdb)SH
10680 55496 MT
(vice.pcf)SH
10680 56527 MT
(volutil.tk)SH
10680 57558 MT
(VRDB)SH
10680 58589 MT
(files)SH
10680 59620 MT
(VSGDB)SH
10680 60651 MT
(dumplist)SH
14 /Times-Bold AF
8280 64469 MT
(6.7. Authentication Database)SH
10 /Times-Roman AF
8280 65846 MT
(Coda uses an authentication database that is seperate from the UNIX password file.  This database is)
34 W( maintained by)35 W
8280 67223 MT
(the SCM.  When someone authenticates to Coda, their password is checked against this database and that)
48 W( person is)47 W
8280 68600 MT
(issued a token if they successfully authenticate.  This section describes how to initialize the authentication database.)SH
8280 75600 MT
(December 21, 1995)SH
54080 XM
(27)SH
ES
%%Page: 28 29
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
43227 XM
(Installing a Coda Server)SH
12 /Times-Bold AF
6120 8004 MT
(6.7.1. On the SCM)SH
10 /Times-Roman AF
6120 9381 MT
(If the server)
42 W( you are installing is the SCM, you must set up the initial authentication database.)43 W
/Times-Bold SF
44596 XM
(Make sure you add)43 W
6120 10758 MT
(at least one user to the)SH
/Times-Italic SF
15896 XM
(System:Administrators)SH
/Times-Bold SF
25257 XM
(group.)SH
/Times-Roman SF
28313 XM
(You need to do the following:)SH
/Symbol SF
7910 12211 MT
(\267)SH
/Times-Roman SF
8620 XM
(Create or modify an)
212 W( appropriate passwd file in the Vice format)211 W
/Times-Bold SF
36355 XM
(passwd.coda\0505\051)SH
/Times-Roman SF
(. An)
672 W( example of)211 W
/Times-Italic SF
8620 13316 MT
(passwd.coda)SH
/Times-Roman SF
14009 XM
(can be found in the directory)SH
/Times-Italic SF
25784 XM
($INSTALLATION_DIR/vice/db)SH
/Times-Roman SF
38534 XM
(as well as in Appendix IV.)SH
/Symbol SF
7910 15074 MT
(\267)SH
/Times-Roman SF
8620 XM
(Create or modify an appropriate groups file)
41 W( in the Vice format)42 W
/Times-Bold SF
34265 XM
(groups.coda\0505\051)SH
/Times-Roman SF
(. It)
334 W( is vital that you add)42 W
8620 16179 MT
(at least one user from the)241 W
/Times-Italic SF
20397 XM
(passwd.coda)SH
/Times-Roman SF
26027 XM
(file to the group)241 W
/Times-Italic SF
33656 XM
(System:Administrators)SH
/Times-Roman SF
(. An)
730 W( example of)240 W
/Times-Italic SF
8620 17284 MT
(groups.coda)SH
/Times-Roman SF
13842 XM
(can be found in the directory)SH
/Times-Italic SF
25617 XM
($INSTALLATION_DIR/vice/db)SH
/Times-Roman SF
38367 XM
(as well as in Appendix IV.)SH
/Symbol SF
7910 19042 MT
(\267)SH
/Times-Roman SF
8620 XM
(/vice/bin/pwd2pdb -p passwd.coda -g groups.coda > vice.pdb)SH
/Symbol SF
7910 20800 MT
(\267)SH
/Times-Roman SF
8620 XM
(/vice/bin/pcfgen vice.pdb)SH
8620 22320 MT
(\050will create)SH
/Times-Italic SF
13396 XM
(vice.pcf)SH
/Times-Roman SF
16728 XM
(as a side affect\051)SH
/Symbol SF
7910 24078 MT
(\267)SH
/Times-Roman SF
8620 XM
(Create a file with the initial users in the)
30 W( passwd file \050be sure to include at least one administrator\051.  The)31 W
8620 25183 MT
(format of the file should be)
220 W( as follows:)219 W
/Times-Bold SF
26153 XM
(uid<Tab>actual password<Tab>any desired info)219 W
/Times-Roman SF
(. The)688 W
8620 26288 MT
(password has not)
259 W( been encrypted and should be changed as soon as possible by the user.  The)260 W
8620 27393 MT
(information might be the full name of the user.  This file may be named anything you wish but)
133 W( for)132 W
8620 28498 MT
(future reference call it)61 W
/Times-Italic SF
17971 XM
(users.file)SH
/Times-Roman SF
(. You)
372 W( need to)
61 W( choose a password that will be used to encrypt the user)62 W
8620 29603 MT
(passwords. It)
470 W( is helpful for the password to)
110 W( be hardwired into the Authentication server \050auth2.c\051 as)109 W
/Times-Bold SF
8620 30708 MT
(DefKey)SH
/Times-Roman SF
(; otherwise it must be supplied on the command line with the)
20 W( -k switch.  \050If it is hardwired, The)21 W
8620 31813 MT
(Authentication server will need to be recompiled after the password is included\051.  Then,)
241 W( run the)240 W
8620 32918 MT
(command)SH
10620 34438 MT
(/vice/bin/initpw -k "<password>" <users.file  >auth2.pw)SH
/Symbol SF
7910 36196 MT
(\267)SH
/Times-Roman SF
8620 XM
(This command)
4 W( produces the file auth2.pw in the format:)5 W
/Times-Bold SF
31439 XM
(uid<Tab>encrypted password<Tab>Desired)5 W
8620 37301 MT
(info)SH
/Times-Roman SF
(. Note)
382 W( that all future changes of)
66 W( the password must be changed in both the Authentication server,)65 W
8620 38406 MT
(via either hardwiring or the command line, as)
202 W( well as this command.  New passwords must be 8)203 W
8620 39511 MT
(characters long.  To add additional users, please see Section 10.1.)SH
/Symbol SF
7910 41269 MT
(\267)SH
/Times-Roman SF
8620 XM
(You also must choose a password for the servers to use in generating the)9 W
/Times-Italic SF
38074 XM
(secret)SH
/Times-Roman SF
40721 XM
(token \050see Chapter 4)
9 W( for)8 W
8620 42374 MT
(more information\051.  This secret token)
303 W( is used for secure communication.  Put the password in)304 W
/Times-Italic SF
8620 43479 MT
(/vice/db/auth2.tk)SH
/Times-Roman SF
(.)SH
/Symbol SF
7910 45237 MT
(\267)SH
/Times-Roman SF
8620 XM
(Create the)
157 W( ticket file)156 W
/Times-Italic SF
17632 XM
(/vice/db/volutil.tk)SH
/Times-Roman SF
(, used for secure communication among the servers. This file)156 W
8620 46342 MT
(should contain a single word which will be used to encrypt)
130 W( messages between the server and server)131 W
8620 47447 MT
(applications. The)
778 W( file should be present on all servers. The UpdateMon presently takes care of)263 W
8620 48552 MT
(propagating them from the SCM.)SH
12 /Times-Bold AF
6120 52236 MT
(6.7.2. On Servers OTHER than the SCM)SH
10 /Times-Roman AF
6120 53613 MT
(On servers other than the)
58 W( SCM, the)59 W
/Times-Bold SF
20916 XM
(Update)SH
/Times-Roman SF
24336 XM
(monitor will ensure that the proper database files are propogated from)59 W
6120 54990 MT
(the SCM.  However, you must copy the file)SH
/Times-Italic SF
23813 XM
(/vice/db/volutil.tk)SH
/Times-Roman SF
31035 XM
(to the new server for the)SH
/Times-Bold SF
41032 XM
(Update)SH
/Times-Roman SF
44393 XM
(monitor to work.)SH
14 /Times-Bold AF
6120 58808 MT
(6.8. Creating the Volume Storage Group DataBase \050SCM only\051)SH
10 /Times-Roman AF
6120 60185 MT
(Every combination of servers you expect to use as a VSG must be given a multicast address in)105 W
/Times-Italic SF
46060 XM
(/vice/db/VSGDB)SH
/Times-Roman SF
(.)SH
6120 61562 MT
(This file must be created by hand; please refer to)SH
/Times-Bold SF
25893 XM
(VSGDB\0505\051)SH
/Times-Roman SF
30754 XM
(in Appendix VI for more details.)SH
14 /Times-Bold AF
6120 65380 MT
(6.9. Starting the File Server)SH
10 /Times-Roman AF
6120 66757 MT
(We have provided a script called)17 W
/Times-Italic SF
19607 XM
(/vice/bin/startserver)SH
/Times-Roman SF
27929 XM
(which you)
17 W( need to edit to contain the appropriate information.)18 W
6120 68134 MT
(In particular, the command line arguments you desire in your environment may differ from the standard command:)SH
8120 69654 MT
(%)SH
/Times-Bold SF
9203 XM
(/vice/bin/srv $* -nodumpvm -rvm /dev/rrz0g /dev/rrz0h 69206016)SH
/Times-Roman SF
6120 71720 MT
(You should be careful to specify the correct partitions for the RVM log, data segment, and size of the data segment.)SH
6120 75600 MT
(December 21, 1995)SH
51920 XM
(28)SH
ES
%%Page: 29 30
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
45387 XM
(Installing a Coda Server)SH
8280 7886 MT
(Once this file has been correctly edited,)
349 W( you can start the server with)348 W
/Times-Bold SF
40470 XM
(/vice/bin/startserver&)SH
/Times-Roman SF
(. The script)348 W
/Times-Italic SF
8280 9263 MT
(/vice/bin/restartserver)SH
/Times-Roman SF
18005 XM
(can be put in the)587 W
/Times-Italic SF
27800 XM
(crontab)SH
/Times-Roman SF
31748 XM
(file to periodically)
587 W( restart the servers. The script)588 W
/Times-Italic SF
8280 10640 MT
(/vice/bin/startfromboot)SH
/Times-Roman SF
17753 XM
(should be edited to remove the initial comment and premature exit.)SH
14 /Times-Bold AF
8280 14458 MT
(6.10. Creating the Root Volume)SH
10 /Times-Roman AF
8280 15835 MT
(If you are installing any server other than the SCM, please use the instructions in section 9.2 to create new volumes)32 W
8280 17212 MT
(on this server.)SH
8280 19278 MT
(The root of the Coda)
179 W( file system must reside on the /vicepa partition for correct functioning.  Since the SCM)180 W
8280 20655 MT
(probably also acts as a server, place the root of)
20 W( the Coda file system in the /vicepa partition on the SCM.  Create the)19 W
8280 22032 MT
(root volume by using the command)SH
10280 23552 MT
(%)SH
/Times-Bold SF
11363 XM
(/vice/bin/createvol_rep codaroot <VSG_ENTRY> /vicepa)SH
/Times-Roman SF
8280 25618 MT
(where <VSG_ENTRY> is the entry in the)70 W
/Times-Italic SF
25869 XM
(VSGDB)SH
/Times-Roman SF
29356 XM
(for the volume storage group for this volume. Since it is likely)71 W
8280 26995 MT
(that the root will be cloned and read-only replicated, you might wish to create)
72 W( this volume as singly replicated for)71 W
8280 28372 MT
(simplicity.)SH
8280 30438 MT
(This command will create the)160 W
/Times-Italic SF
21217 XM
(/vice/db/VLDB)SH
/Times-Roman SF
(,)SH
/Times-Italic SF
27821 XM
(/vice/db/VRDB)SH
/Times-Roman SF
(,)SH
/Times-Italic SF
34481 XM
(/vice/vol/VolumeList)SH
/Times-Roman SF
(,)SH
/Times-Italic SF
43364 XM
(/vice/vol/BigVolumeList)SH
/Times-Roman SF
(, and)161 W
8280 31815 MT
(the)SH
/Times-Italic SF
9752 XM
(/vice/vol/AllVolume)SH
/Times-Roman SF
17890 XM
(files.)SH
8280 33881 MT
(Create or modify the file)61 W
/Times-Italic SF
18722 XM
(/vice/ROOTVOLUME)SH
/Times-Roman SF
27865 XM
(to contain the volume id number corresponding)
61 W( to the root volume)60 W
8280 35258 MT
(as listed in the file)SH
/Times-Italic SF
15863 XM
(/vice/vol/VRList)SH
/Times-Roman SF
(.)SH
8280 37324 MT
(Finally, link /ROOTVOLUME to /vice/ROOTVOLUME)SH
10280 38844 MT
(%)SH
/Times-Bold SF
11363 XM
(ln -s /vice/ROOTVOLUME /ROOTVOLUME)SH
12 SS 
8280 42528 MT
(6.10.1. Creating a readonly root)SH
10 /Times-Roman AF
8280 43905 MT
(You may wish for the root to be)
61 W( readonly. To do this, first create a root volume as above. Start a venus which can)62 W
8280 45282 MT
(talk to this server. Setup the directory structure you want in your root volume. Once you are satisfied with the)155 W
8280 46659 MT
(structure, clone the volume and dump it to a disk file with the the)34 W
/Times-Italic SF
35115 XM
(volutil)SH
/Times-Roman SF
37955 XM
(program. Now restore the dump file to)
34 W( the)35 W
8280 48036 MT
(servers in the desired VSG for the readonly volume.  Be sure to specify the volumeId and the volume)
36 W( Name for the)35 W
8280 49413 MT
(new volume:)SH
10280 50933 MT
(%)SH
/Times-Bold SF
11363 XM
(/vice/bin/volutil restore <filename> /vicepa <newrootname> <volid>)SH
/Times-Roman SF
8280 52999 MT
(Then modify the)SH
/Times-Italic SF
15196 XM
(ROOTVOLUME)SH
/Times-Roman SF
22112 XM
(file to contain the new rootvolume name, <newrootname>.)SH
8280 75600 MT
(December 21, 1995)SH
54080 XM
(29)SH
ES
%%Page: 30 31
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
43227 XM
(Installing a Coda Server)SH
6120 75600 MT
(December 21, 1995)SH
51920 XM
(30)SH
ES
%%Page: 31 32
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
45552 XM
(Installing a Coda Client)SH
16 /Times-Bold AF
8280 8272 MT
(7. Installing a Coda Client)SH
10 /Times-Roman AF
8280 9649 MT
(A Coda client can be run on any workstation that supports the Sun VFS interface.  Our)
36 W( experience has been limited)37 W
8280 11026 MT
(to Mach kernels, but it would take minimal effort to port Coda to another kernel.)SH
14 /Times-Bold AF
8280 14844 MT
(7.1. Binaries and Devices)SH
10 /Times-Roman AF
8280 16221 MT
(The)SH
/Times-Italic SF
10146 XM
($INSTALLATION_DIR)SH
/Times-Roman SF
19791 XM
(contains a shell script,)61 W
/Times-Italic SF
29173 XM
(installclient.sh)SH
/Times-Roman SF
(, to install)
61 W( the binaries.  This script has a number)60 W
8280 17598 MT
(of user-defined constants at the beginning which can be)
181 W( changed to suit the particular client.  These constants)182 W
8280 18975 MT
(include the name of)82 W
/Times-Italic SF
16773 XM
($INSTALLATION_DIR)SH
/Times-Roman SF
26439 XM
(\050called ROOT\051, the type of CPU)
82 W( \050called CPU\051, and the copy program)81 W
8280 20352 MT
(\050called COPY\051.  If)
61 W( the client is at Carnegie Mellon, the COPY variable should be set to)62 W
/Times-Bold SF
44410 XM
(copy)SH
/Times-Roman SF
46722 XM
(\050)SH
/Times-Bold SF
(copy)SH
/Times-Roman SF
49367 XM
(is the same as)62 W
/Courier SF
8280 21729 MT
(cp -p)SH
/Times-Roman SF
11530 XM
(except that it doesn't copy programs which have not changed and preserves symbolic links\051.)SH
8280 23795 MT
(The Coda file system requires a directory, called)17 W
/Times-Italic SF
28105 XM
(/usr/coda)SH
/Times-Roman SF
32149 XM
(on our systems, which will contain all Coda-related local)16 W
8280 25172 MT
(files required to access the Coda file system.  To)
83 W( create the necessary directories, install the binaries in them, and)84 W
8280 26549 MT
(also create the necessary devices, run the command)SH
/Times-Bold SF
8280 28615 MT
(installclient.sh)SH
/Times-Italic SF
14670 XM
(install)SH
/Times-Roman SF
8280 30681 MT
(Two other commands which can be given to)
198 W( this script \050instead of install\051 are)197 W
/Times-Bold SF
42207 XM
(clean)SH
/Times-Roman SF
44876 XM
(and)SH
/Times-Bold SF
46767 XM
(update)SH
/Times-Roman SF
(. The)644 W
/Times-Bold SF
52858 XM
(clean)SH
/Times-Roman SF
8280 32058 MT
(command removes all files within the)69 W
/Times-Italic SF
24026 XM
(/usr/coda)SH
/Times-Roman SF
28123 XM
(directory. The)388 W
/Times-Bold SF
34495 XM
(update)SH
/Times-Roman SF
37760 XM
(command updates the Coda client binaries)70 W
8280 33435 MT
(from the installation directory.)SH
14 /Times-Bold AF
8280 37253 MT
(7.2. Configuration Changes)SH
10 /Times-Roman AF
8280 38630 MT
(This section describes the changes that must be made to various configuration files.)
164 W( Examples)
576 W( of the files are)163 W
8280 40007 MT
(contained in Appendix IV as well as in the appropriate place in the)SH
/Times-Italic SF
35247 XM
($INSTALLATION_DIR)SH
/Times-Roman SF
(.)SH
12 /Times-Bold AF
8280 43691 MT
(7.2.1. /usr/coda/etc/vstab)SH
10 /Times-Roman AF
8280 45068 MT
(Create a)11 W
/Times-Italic SF
11856 XM
(vstab)SH
/Times-Roman SF
14228 XM
(file in)12 W
/Times-Italic SF
16863 XM
(/usr/coda/etc)SH
/Times-Roman SF
22347 XM
(to contain the Coda file system table information.  A default version of this file is)12 W
8280 46445 MT
(copied over in the)27 W
/Times-Bold SF
15831 XM
(installclient.sh)SH
/Times-Roman SF
22248 XM
(script suitable)
27 W( for use with the Coda servers at Carnegie Mellon.  The contents of)26 W
8280 47822 MT
(this file are explained in)SH
/Times-Bold SF
18195 XM
(vstab\0505\051)SH
/Times-Roman SF
(.)SH
12 /Times-Bold AF
8280 51506 MT
(7.2.2. /etc/rc.local)SH
10 /Times-Roman AF
8280 52883 MT
(Changes to)143 W
/Times-Italic SF
13288 XM
(/etc/rc.local)SH
/Times-Roman SF
18486 XM
(are necessary)
143 W( to automatically start Venus at boot time.  Append the following lines to)144 W
/Times-Italic SF
8280 54260 MT
(/etc/rc.local)SH
/Times-Roman SF
13335 XM
(if you want Venus to run automatically.)SH
/Courier SF
10680 55666 MT
(if [ -f /usr/coda/etc/venus ]; then)SH
15480 56697 MT
(echo "Starting)
600 W( Coda Venus" > /dev/console)SH
15480 57728 MT
(/usr/coda/etc/venus &)SH
10680 58759 MT
(fi)SH
14 /Times-Bold AF
8280 62577 MT
(7.3. Where Data is Stored)SH
10 /Times-Italic AF
8280 64368 MT
(/usr/coda/bin)SH
/Times-Roman SF
18280 XM
(Symlink to Coda binaries not critical for Venus startup.)SH
/Times-Italic SF
8280 65945 MT
(/usr/coda/etc)SH
/Times-Roman SF
18280 XM
(Coda binaries critical for Venus startup.)SH
/Times-Italic SF
8280 67522 MT
(/usr/coda/venus.cache)SH
/Times-Roman SF
18280 XM
(Cached copies of Coda files.)SH
/Times-Italic SF
8280 69099 MT
(/usr/coda/spool)SH
/Times-Roman SF
18280 XM
(Save CMLs from aborted reintegrations.)SH
8280 75600 MT
(December 21, 1995)SH
54080 XM
(31)SH
ES
%%Page: 32 33
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
43392 XM
(Installing a Coda Client)SH
6120 75600 MT
(December 21, 1995)SH
51920 XM
(32)SH
ES
%%Page: 33 34
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
49274 XM
(Running Coda)SH
16 /Times-Bold AF
8280 8272 MT
(8. Running Coda)SH
14 SS 
8280 12090 MT
(8.1. Server)SH
10 /Times-Roman AF
8280 13467 MT
(Each process running on a server maintains a)
31 W( log file of its activities.  This file may be monitored by running)30 W
/Times-Bold SF
52745 XM
(tail -f)30 W
/Times-Roman SF
8280 14844 MT
(on the particular file.  For intance, an operator might want to)
21 W( run this command in a small window on the file server)22 W
8280 16221 MT
(console. The)
250 W( table below shows the absolute pathname of the log file for each server process.)SH
/Times-Bold SF
22680 18268 MT
(Server Process)SH
29880 XM
(Log File)SH
8 /Times-Roman AF
19080 19741 MT
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
10 SS 
22680 21696 MT
(File Server)SH
29880 XM
(/vice/srv/SrvLog)SH
22680 23035 MT
(Authentication)SH
29880 XM
(/vice/auth2/AuthLog)SH
22680 24374 MT
(Update)SH
29880 XM
(/vice/srv/UpdateLog)SH
/Times-Bold SF
25916 26637 MT
(Table 8-1:)SH
/Times-Roman SF
30777 XM
(Server Log Files)SH
8280 28703 MT
(The processes append new log entries to the end of the log file.  To control the growth of the)
16 W( log files over extended)15 W
8280 30080 MT
(periods of operation, the files should be removed periodically.)72 W
/Times-Italic SF
34386 XM
(SrvLog)SH
/Times-Roman SF
37598 XM
(may be removed by the)73 W
/Times-Bold SF
47600 XM
(swaplog)SH
/Times-Roman SF
51368 XM
(option of)73 W
8280 31457 MT
(the)SH
/Times-Bold SF
9825 XM
(volutil)SH
/Times-Roman SF
12871 XM
(command; this will move the current)72 W
/Times-Italic SF
28302 XM
(SrvLog)SH
/Times-Roman SF
31513 XM
(to)SH
/Times-Italic SF
32613 XM
(SrvLog-1)SH
/Times-Roman SF
36657 XM
(and begin a new log.  Swaplog also keep the)72 W
8280 32834 MT
(last 6 log files, by removing,)80 W
/Times-Italic SF
20482 XM
(SrvLog-7)SH
/Times-Roman SF
24534 XM
(and renaming the remaining log files.)
80 W( a)
412 W( swaplog is also performed during)81 W
8280 34211 MT
(fileserver startup.  The log files of the other processes should be removed only when their respective processes)
59 W( are)58 W
8280 35588 MT
(not running.)SH
12 /Times-Bold AF
8280 39272 MT
(8.1.1. Startup)SH
10 /Times-Roman AF
8280 40649 MT
(Starting the server's srv process is relatively straightforward.  You need)
151 W( only ensure that there is no file server)152 W
8280 42026 MT
(currently running on the node, and give the file server information about the RVM log and data segments.)SH
8280 44092 MT
(The pid of the last file process to run is contained in)138 W
/Times-Italic SF
30989 XM
(/vice/srv/pid)SH
/Times-Roman SF
(. This)
526 W( is)
138 W( used by the)137 W
/Times-Bold SF
45395 XM
(startserver)SH
/Times-Roman SF
(, one of our)137 W
8280 45469 MT
(example scripts in Appendix IV, to avoid accidentally starting a new server when one is already running.  If)
32 W( the old)33 W
8280 46846 MT
(server process is still running, and)
20 W( you wish to shut it down, follow the instructions in Section 8.1.2.  If)19 W
/Times-Italic SF
50136 XM
(/vice/srv/pid)SH
/Times-Roman SF
8280 48223 MT
(exists, but the server is not running, then either the machine crashed and the)
58 W( server process did not get a chance to)59 W
8280 49600 MT
(remove the file, or)
5 W( the server has entered a)4 W
/Times-Italic SF
25591 XM
(zombie)SH
/Times-Roman SF
28678 XM
(state. The)
258 W( server goes into a zombie state whenever it receives an)4 W
8280 50977 MT
(unexpected signal.  This allows us to debug it.  The end of the server log file)
68 W( will tell you if the server becomes a)69 W
8280 52354 MT
(zombie process.  See section 8.1.3 for more details on a server becomming a zombie.)SH
8280 54420 MT
(The server process)
32 W( requires three parameters that must be user-supplied:  the device on which the RVM log resides,)31 W
8280 55797 MT
(the device on which the RVM data)
12 W( segment resides, and the length of the RVM data segment.  These parameters are)13 W
8280 57174 MT
(the same ones that were set when RVM was initialized in section 6.5.  To start the server, type as root:)SH
10280 58694 MT
(% /vice/bin/srv -nodumpvm -rvm)SH
/Times-Italic SF
23946 XM
(<logdevice> <datadevice> <datalength>)SH
/Times-Roman SF
8280 60760 MT
(Appendix IV contains two example scripts,)63 W
/Times-Bold SF
26239 XM
(startserver)SH
/Times-Roman SF
31216 XM
(and)SH
/Times-Bold SF
32973 XM
(restartserver)SH
/Times-Roman SF
(, that simplify server startup.)
63 W( Be)
375 W( sure to)62 W
8280 62137 MT
(change the three RVM parameters to suit your system.  A common failure with these scripts is the presence of the)64 W
8280 63514 MT
(file)SH
/Times-Italic SF
9901 XM
(/vice/srv/pid)SH
/Times-Roman SF
(; the scripts we have included remove this file unless the server completely crashed.)
38 W( If)325 W
/Times-Bold SF
50416 XM
(startserver)SH
/Times-Roman SF
8280 64891 MT
(or)SH
/Times-Bold SF
9363 XM
(restartserver)SH
/Times-Roman SF
15165 XM
(complain that a server is already running,)SH
/Times-Italic SF
31995 XM
(pid)SH
/Times-Roman SF
33523 XM
(might need to be removed.)SH
8280 75600 MT
(December 21, 1995)SH
54080 XM
(33)SH
ES
%%Page: 34 35
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
47114 XM
(Running Coda)SH
12 /Times-Bold AF
6120 8004 MT
(8.1.2. Shutdown)SH
10 /Times-Roman AF
6120 9381 MT
(To shutdown the)
53 W( file server gracefully, use the volume utility client procedure,)54 W
/Times-Bold SF
38483 XM
(volutil)SH
/Times-Roman SF
(. Issue)
358 W( the command)54 W
/Times-Bold SF
50197 XM
(volutil)SH
6120 10758 MT
(shutdown)SH
/Times-Roman SF
10599 XM
(and then monitor the)
61 W( log file for the server process \050)60 W
/Times-Italic SF
(/vice/srv/SrvLog)SH
/Times-Roman SF
(\051 until it reflects that the server has)60 W
6120 12135 MT
(shutdown completely.  For example, here are the last few lines before file server shutdown.)SH
/Courier SF
8520 13541 MT
(VShutdown: Taking volume usr.grajen\0500xcc0006d1\051 offline...... Done)SH
8520 14572 MT
(VShutdown: Taking volume synrgen.rep\0500xcc00057c\051 offline...... Done)SH
8520 15603 MT
(VShutdown: Taking volume i386.omega\0500xcd0004fc\051 offline...... Done)SH
8520 16634 MT
(VShutdown: Taking volume trace.rep.0\0500xcc00057d\051 offline...... Done)SH
8520 17665 MT
(VShutdown: Taking volume usr.mmv.rep.0\0500xcc00057e\051 offline...... Done)SH
8520 18696 MT
(VShutdown: Taking volume trace.backup\0500xcc00057f\051 offline...... Done)SH
8520 19727 MT
(VShutdown: complete.)600 W
12 /Times-Bold AF
6120 23411 MT
(8.1.3. Monitoring and Debugging)SH
10 /Times-Roman AF
6120 24788 MT
(The)SH
/Times-Bold SF
7938 XM
(volutil)SH
/Times-Roman SF
10924 XM
(program talks to the volume utility)
13 W( subsystem of the file server.  The volume utilities not only allow you)14 W
6120 26165 MT
(to perform administrative functions \050like creating and purging volumes\051 but also help you to)
23 W( monitor the file system)22 W
6120 27542 MT
(dynamically by setting the debugging level and "peeking" at system information.)SH
6120 29608 MT
(The)SH
/Times-Bold SF
7930 XM
(volutil)SH
/Times-Roman SF
10908 XM
(program allows you to control the level of debugging information)
5 W( which is logged.  Level 0 is the lowest)6 W
6120 30985 MT
(level of debugging available \050)72 W
/Times-Italic SF
(i.e.)SH
/Times-Roman SF
19894 XM
(no extra information is printed\051 while the highest level of debugging available)
72 W( is)71 W
6120 32362 MT
(1000 \050)97 W
/Times-Italic SF
(i.e.)SH
/Times-Roman SF
10369 XM
(all debugging information is printed\051.  As with all other server output, debugging output will)
97 W( appear in)98 W
/Times-Italic SF
6120 33739 MT
(SrvLog)SH
/Times-Roman SF
(. Be)
282 W( careful to turn off debugging when its output is not in use since)
16 W( the log will grow rapidly and can easily)15 W
6120 35116 MT
(fill the partition with debugging information.)SH
6120 37182 MT
(As a debugging tool, we force)
32 W( the file program into a "zombie" state if it receives an unexpected signal.  \050When the)33 W
6120 38559 MT
(file process becomes a "zombie,")
13 W( it logs a message to the log file which includes its Unix pid number\051.  We then use)12 W
/Times-Bold SF
6120 39936 MT
(gdb)SH
/Times-Roman SF
8009 XM
(to attach to the zombie)
27 W( process.  Now you may use gdb as you normally would to examine the process stack as)28 W
8 SS 
18979 40968 MT
(1)SH
10 SS 
6120 41313 MT
(it existed at the time of the error)SH
19379 XM
(\051.)SH
14 /Times-Bold AF
6120 45131 MT
(8.2. Client)SH
12 SS 
6120 48815 MT
(8.2.1. Startup)SH
10 /Times-Roman AF
6120 50192 MT
(To begin running the Coda file system on a client machine, become root on that machine)
31 W( and execute the command)30 W
/Times-Bold SF
6120 51569 MT
(/usr/coda/etc/venus)SH
/Times-Roman SF
(. Venus)
496 W( first scans the cache for files)
123 W( and directories.  After the scan of the FSDB finishes,)124 W
8 SS 
47692 52601 MT
(2)SH
10 SS 
6120 52946 MT
(access to the "/coda" subtree is available.  If the command)94 W
/Times-Bold SF
30687 XM
(ls /coda)95 W
/Times-Roman SF
34322 XM
(lists the file)95 W
/Times-Italic SF
39524 XM
(NOTREALLYCODA)SH
/Times-Roman SF
48092 XM
(, Venus has)95 W
6120 54323 MT
(either not finished initialization or has exited.)SH
12 /Times-Bold AF
6120 58007 MT
(8.2.2. Shutdown)SH
10 /Times-Roman AF
6120 59384 MT
(To shutdown a Coda file)
77 W( system client, execute the command)76 W
/Times-Bold SF
31742 XM
(/usr/coda/etc/vutil -shutdown)76 W
/Times-Roman SF
44562 XM
(as)SH
/Times-Bold SF
45721 XM
(root)SH
/Times-Roman SF
47824 XM
(on the client)76 W
6120 60761 MT
(machine. This)
260 W( script kills the Venus running on the client machine and unmounts the Coda file system.)
5 W( Note)
262 W( that as)6 W
6120 62138 MT
(part of the shutdown, Venus tries to unmount)29 W
/Times-Italic SF
24712 XM
(/coda)SH
/Times-Roman SF
(. This)
308 W( will fail if any process is cd'ed into)29 W
/Times-Italic SF
44418 XM
(/coda)SH
/Times-Roman SF
46919 XM
(or any binaries)29 W
6120 63515 MT
(are running from)SH
/Times-Italic SF
13146 XM
(/coda)SH
/Times-Roman SF
(.)SH
10800 50 6120 65732 UL
6 SS 
6920 67071 MT
(1)SH
8 SS 
7220 67380 MT
(If the "zombied" process is running on an IBM RT, you must first execute the command)20 W
/Times-Bold SF
35978 XM
(setcontext OldContext)19 W
/Times-Roman SF
43834 XM
(in order to set the context to)19 W
6120 68304 MT
(the point of the error.  To)
34 W( return to the current context, use the)35 W
/Times-Bold SF
26679 XM
(restore)SH
/Times-Roman SF
29311 XM
(command. \050Note)
270 W( that before quitting from gdb, you MUST return to the)35 W
6120 69228 MT
(current context.)SH
6 SS 
6920 70767 MT
(2)SH
8 SS 
7220 71076 MT
(This assumes)
105 W( that in setting up the client workstation, you have created the directory)104 W
/Times-Italic SF
35927 XM
(/coda)SH
/Times-Roman SF
38008 XM
(and placed the file)104 W
/Times-Italic SF
44508 XM
(NOTREALLYCODA)SH
/Times-Roman SF
51350 XM
(in it.)104 W
6120 72000 MT
(Venus will mount the file system on top of this directory)SH
10 SS 
6120 75600 MT
(December 21, 1995)SH
51920 XM
(34)SH
ES
%%Page: 35 36
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
49274 XM
(Running Coda)SH
12 /Times-Bold AF
8280 8004 MT
(8.2.3. Debugging and Monitoring)SH
10 /Times-Roman AF
8280 9381 MT
(The Venus log file is found in)198 W
/Times-Italic SF
21915 XM
(/usr/coda/venus.cache/venus.log)SH
/Times-Roman SF
(. All)
646 W( monitoring and)
198 W( debugging information is)199 W
8280 10758 MT
(written to this file.)SH
8280 12824 MT
(Once Venus is running you may run the command)SH
10280 14344 MT
(%)SH
/Times-Bold SF
11363 XM
(/usr/coda/etc/vutil -d level)SH
/Times-Roman SF
8280 16410 MT
(to have Venus produce debugging output at)
44 W( the level requested.  If you want debugging output generated by Venus)43 W
8280 17787 MT
(during startup, you should use the)11 W
/Times-Italic SF
22151 XM
(-d)SH
/Times-Roman SF
23245 XM
(option to)
11 W( Venus.  The debugging information will be printed to Venus' console)12 W
8280 19164 MT
(file.)SH
8280 21230 MT
(The)SH
/Times-Bold SF
10171 XM
(vutil)SH
/Times-Roman SF
12452 XM
(program is a utility to dynamically control and monitor the)86 W
/Times-Bold SF
37089 XM
(venus)SH
/Times-Roman SF
39870 XM
(program. It)
422 W( has a number of)
86 W( options)85 W
8280 22607 MT
(other than the)
143 W( debugging option described above.  For more information, please refer to)144 W
/Times-Bold SF
45621 XM
(vutil)SH
/Times-Roman SF
('s manual page in)144 W
8280 23984 MT
(Appendix VI.)SH
12 /Times-Bold AF
8280 26948 MT
(8.2.3.1. Redirecting STDERR from Venus)SH
10 /Times-Roman AF
8280 28325 MT
(If you give)82 W
/Times-Bold SF
13164 XM
(venus)SH
/Times-Roman SF
15941 XM
(the parameter)82 W
/Times-Italic SF
21825 XM
(-console filename)82 W
/Times-Roman SF
(, stderr will print to the file)82 W
/Times-Italic SF
40618 XM
(filename)SH
/Times-Roman SF
44394 XM
(rather than to the)
82 W( console.)81 W
8280 29702 MT
(The default console file is)SH
/Times-Italic SF
18917 XM
(/usr/coda/etc/console)SH
/Times-Roman SF
(.)SH
8280 75600 MT
(December 21, 1995)SH
54080 XM
(35)SH
ES
%%Page: 36 37
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
47114 XM
(Running Coda)SH
6120 75600 MT
(December 21, 1995)SH
51920 XM
(36)SH
ES
%%Page: 37 38
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
41440 XM
(System Administration:  Volumes)SH
16 /Times-Bold AF
8280 8272 MT
(9. System Administration:  Volumes)SH
14 SS 
8280 12090 MT
(9.1. Description)SH
10 /Times-Roman AF
8280 13467 MT
(Although users view)
125 W( the Coda file system as a hierarchy of directories and files, system administrators view the)126 W
8280 14844 MT
(Coda file system as a hierarchy of volumes.  Each volume contains a subtree of related directories and)
17 W( files which is)16 W
8280 16221 MT
(a subtree of the entire file system.)
35 W( Volumes,)
322 W( then, parallel traditional Unix file systems.  Like a Unix file system, a)36 W
8280 17598 MT
(volume can be mounted.  Thus, the)
79 W( root of a volume can be named within another volume at a mount point.  The)78 W
8280 18975 MT
(Coda file)
113 W( system hierarchy is built in this manner and is then mounted by each client using a conventional Unix)114 W
8280 20352 MT
(mount point within the local file system.)
88 W( Since)
424 W( all internal mount points are invisible, the user sees only a single)87 W
8280 21729 MT
(mount point for the entire Coda file system.)SH
8280 23795 MT
(All system administration)
157 W( tasks are performed relative to a volume or a set of volumes.  So, adding new users)158 W
8280 25172 MT
(requires creating new volumes for their files and directories; quotas are enforced on)
169 W( volumes; and backups are)168 W
8280 26549 MT
(performed on a per-volume basis.  The volume abstraction greatly simplifies the administration of)
111 W( large systems.)112 W
/Times-Bold SF
8280 27926 MT
(NOTE: Quotas)
250 W( have not been implemented yet)SH
/Times-Roman SF
(.)SH
8280 29992 MT
(The Coda file system provides four different types of volumes.  The)
39 W( simplest of these is the)38 W
/Times-Italic SF
45766 XM
(non-replicated volume)38 W
/Times-Roman SF
(.)SH
8280 31369 MT
(Non-replicated volumes reside on a single server and are in the custody of the Coda file server)
41 W( they reside on.  The)42 W
8280 32746 MT
(Coda servers work with)
112 W( the venus processes on client workstations to provide a single, seamless view of the file)111 W
8280 34123 MT
(system. However,)
320 W( if a custodian crashes or is otherwise inaccessible, its non-replicated volumes are inaccessible as)35 W
8280 35500 MT
(well.)SH
8280 37566 MT
(To partially solve this availability problem, Coda provides)49 W
/Times-Italic SF
32310 XM
(replicated, read-only volumes)48 W
/Times-Roman SF
(. This)
346 W( type of volume has)48 W
8280 38943 MT
(exactly one read-write copy, but)
35 W( may have any number of read-only copies controlled by other servers.  Changes to)36 W
8280 40320 MT
(such a volume are made on the custodian's read-write copy and then distributed to)
19 W( all servers with read-only copies.)18 W
8280 41697 MT
(Read-only replication provides higher)
180 W( availability for volumes containing frequently-requested but infrequently-)181 W
8280 43074 MT
(updated objects, like system binaries.  In addition, read-only replication is used in performing backups on volumes.)SH
8280 45140 MT
(Unfortunately, read-only replicas cannot provide high availability for all types of volumes,)
16 W( e.g. user volumes.  Thus,)15 W
8280 46517 MT
(Coda also provides)194 W
/Times-Italic SF
16778 XM
(read-write, replicated volumes)194 W
/Times-Roman SF
(. Read-write,)
639 W( replicated volumes are logical volumes which)195 W
8280 47894 MT
(group together multiple read-write, non-replicated volumes.  Coda provides)
232 W( protocols which allow read-write,)231 W
8280 49271 MT
(replicated volumes to reside on a number of servers and to be accessed even when some servers are inaccessible.)93 W
8280 50648 MT
(Although read-write replication provides everything read-only replication provides, its)
402 W( protocols are more)401 W
8280 52025 MT
(expensive. Thus,)
280 W( read-only replication, rather than read-write replication, should be used for volumes)
15 W( which change)16 W
8280 53402 MT
(slowly but are accessed frequently.  Table 9-1 illustrates the differences between the volume types.)SH
9 /Times-Bold AF
11992 55263 MT
(Volume Type)SH
20992 XM
(Where Reads)SH
29867 XM
(Where Writes)SH
43455 XM
(Conflicts)SH
21505 56277 MT
(Performed)SH
30505 XM
(Performed)SH
43405 XM
(Possible?)SH
7 /Times-Roman AF
10080 57608 MT
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
9 SS 
10080 59403 MT
(Non-replicated)SH
20742 XM
(Only Custodian)SH
29742 XM
(Only Custodian)SH
44630 XM
(No)SH
10080 61431 MT
(Read-only Replicated)SH
20605 XM
(Any Server with)SH
29742 XM
(Only Custodian)SH
44630 XM
(No)SH
22205 62445 MT
(Replica)SH
10080 64473 MT
(Read-Write Replicated)SH
20155 XM
(Any VSG Member)SH
29155 XM
(Any VSG Member)SH
44480 XM
(Yes)SH
10080 66501 MT
(Backup)SH
20742 XM
(Only Custodian)SH
30930 XM
(Nowhere)SH
44630 XM
(No)SH
10 /Times-Bold AF
25111 68111 MT
(Table 9-1:)SH
/Times-Roman SF
29972 XM
(Coda Volume Types)SH
8280 75600 MT
(December 21, 1995)SH
54080 XM
(37)SH
ES
%%Page: 38 39
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
39280 XM
(System Administration:  Volumes)SH
14 /Times-Bold AF
6120 8138 MT
(9.2. Creating a Volume)SH
10 /Times-Roman AF
6120 9515 MT
(Typically, volumes consist of a single user's data objects or other logically connected groups of data objects.)
48 W( Four)344 W
6120 10892 MT
(factors should be used in dividing the file system tree into volumes.)SH
8120 13555 MT
(1.)SH
9120 XM
(The volume is the unit of quota enforcement and, potentially, accounting.)SH
8120 15313 MT
(2.)SH
9120 XM
(The rename command is)
277 W( prohibited across volume boundaries.  Thus, manipulation of the tree)278 W
9120 16418 MT
(structure at a granularity other than a whole volume \050e.g. moving the)
167 W( mount point\051 or less than a)166 W
9120 17523 MT
(volume \050e.g. moving directories or files within a volume\051 is)
24 W( expensive.  Moving a subtree of a volume)25 W
9120 18628 MT
(to another volume requires copying every byte of data in the subtree.)SH
8120 20386 MT
(3.)SH
9120 XM
(The size of the volume should be small enough that moving volumes)
113 W( between partitions is a viable)112 W
9120 21491 MT
(approach to balancing)
51 W( server disk utilization and server load.  Thus, volumes should be small relative)52 W
9120 22596 MT
(to the partition size.)SH
8120 24354 MT
(4.)SH
9120 XM
(Finally, the size of a volume must not exceed the capability of the backup media.)SH
6120 26420 MT
(A volume naming)
45 W( convention should also be used by those administrators who create volumes.  Volume names are)44 W
6120 27797 MT
(restricted to 32 characters and should be chosen so that given a volume name, a system administrator \050who knows)68 W
6120 29174 MT
(the naming conventions\051 can determine its correct location in the file system hierarchy.)
22 W( The)
293 W( convention used by the)21 W
6120 30551 MT
(Coda project is to name volumes by their function and location.  Thus, a replicated volume named "u.hbovik" is)112 W
6120 31928 MT
(mounted in)21 W
/Times-Italic SF
10940 XM
(/coda/usr/hbovik)SH
/Times-Roman SF
17933 XM
(and contains hbovik's data.  A project volume is prefixed by "p." and a system)
21 W( volume)20 W
6120 33305 MT
(is prefixed by "s.")
100 W( Similarly,)
451 W( volumes containing machine specific object files are prefixed by the machine type.)101 W
6120 34682 MT
(For instance, "p.c.alpha.pmax.bin" contains project coda binaries for our current alpha)
111 W( release and is mounted on)110 W
/Times-Italic SF
6120 36059 MT
(/coda/project/coda/alpha/pmax_mach/bin)SH
/Times-Roman SF
(.)SH
6120 38125 MT
(Use the commands)114 W
/Times-Bold SF
14322 XM
(createvol\0508\051)SH
/Times-Roman SF
19739 XM
(and)SH
/Times-Bold SF
21547 XM
(createvol_rep\0508\051)SH
/Times-Roman SF
28908 XM
(to create non-replicated and read-write)
114 W( replicated volumes)115 W
6120 39502 MT
(respectively. \050Read-only)
278 W( replication is discussed in Section 9.6 below.\051  These commands are actually scripts which)14 W
6120 40879 MT
(ultimately invoke the)31 W
/Times-Bold SF
14963 XM
(volutil\0508\051)SH
/Times-Roman SF
19133 XM
(command with the create option at the appropriate server.  The volume will)
31 W( contain)32 W
6120 42256 MT
(an access list initialized to)57 W
/Times-Bold SF
17154 XM
(System:AnyUser rlidwka)57 W
/Times-Roman SF
(. Creating)
364 W( the volume does not mount the volume within the)57 W
6120 43633 MT
(file system hierarchy.  Mounting the volume as well as changing the access list or the quota must be done using)
33 W( the)34 W
/Times-Bold SF
6120 45010 MT
(cfs\0501\051)SH
/Times-Roman SF
8750 XM
(command from a client.)
48 W( A)
345 W( new volume may not be visible at client workstations for some time \050see Section)47 W
6120 46387 MT
(9.7 below\051.)SH
6120 48453 MT
(A few concrete examples should clarify the use of some of these commands.  On the SCM, the command)SH
8120 49973 MT
(%)SH
/Times-Bold SF
9203 XM
(createvol u.hbovik mahler /vicepa)SH
/Times-Roman SF
6120 52039 MT
(will create a non-replicated)
299 W( volume named "u.hbovik" on server "mahler"'s /vicepa partition. Similarly, the)300 W
6120 53416 MT
(command)SH
8120 54936 MT
(%)SH
/Times-Bold SF
9203 XM
(createvol_rep u.hbovik E0000107 /vicepa)SH
/Times-Roman SF
6120 57002 MT
(will create a replicated volume named "user.hbovik" on each server in the Volume Server)
71 W( Group \050VSG\051 identified)70 W
6120 58379 MT
(by "E0000107".  The file)16 W
/Times-Italic SF
16515 XM
(/vice/db/VSGDB)SH
/Times-Roman SF
23391 XM
(contains the mapping between VSGs and their identifications. The names)16 W
6120 59756 MT
(of the replicas will be "user.hbovik.n", where n is a number between 0 and |VSG| - 1.)SH
14 /Times-Bold AF
6120 63574 MT
(9.3. Mounting a Volume)SH
10 /Times-Roman AF
6120 64951 MT
(In order to use a volume which you)
166 W( have created and added to the appropriate databases, you must mount the)165 W
6120 66328 MT
(volume. Although)
322 W( Unix)
36 W( file systems must be mounted upon reboot in Unix, Coda volumes are mounted only once.)37 W
6120 67705 MT
(To mount a Coda volume, you must be using a Coda client and be authenticated as a user \050use the)57 W
/Times-Bold SF
46615 XM
(clog)SH
/Times-Roman SF
48643 XM
(command\051)SH
6120 69082 MT
(who has write access to the directory in which the mount point will be created.)SH
6120 71148 MT
(Mount the volumes using the command)SH
6120 75600 MT
(December 21, 1995)SH
51920 XM
(38)SH
ES
%%Page: 39 40
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
41440 XM
(System Administration:  Volumes)SH
10280 7886 MT
(%)SH
/Times-Bold SF
11363 XM
(cfs mkmount <filename> volname)SH
/Times-Roman SF
8280 9952 MT
(Note that cfs creates <filename> automatically.  For example,)SH
10280 11472 MT
(%)SH
/Times-Bold SF
11363 XM
(cfs mkmount /coda/usr/hbovik u.hbovik)SH
/Times-Roman SF
8280 13538 MT
(will create)181 W
/Times-Italic SF
13085 XM
(/coda/usr/hbovik)SH
/Times-Roman SF
20238 XM
(and then mount the)181 W
/Times-Bold SF
28906 XM
(u.hbovik)SH
/Times-Roman SF
33089 XM
(volume created in the example in)
181 W( Section 9.2.  The)182 W
8280 14915 MT
(volume is now visible to all)
138 W( user's of the Coda file system.  When mounting a volume, avoid creating multiple)137 W
8280 16292 MT
(mount points for it.  Coda cannot check for this.  More)
26 W( information about the)27 W
/Times-Bold SF
39699 XM
(cfs)SH
/Times-Roman SF
41142 XM
(command can be found in Chapter)27 W
8280 17669 MT
(1 as well as in Appendix VI.)SH
14 /Times-Bold AF
8280 21487 MT
(9.4. Deleting a Volume)SH
10 /Times-Roman AF
8280 22864 MT
(When a volume is)
128 W( no longer needed, it may be purged by running the)127 W
/Times-Bold SF
38029 XM
(purgevol)SH
/Times-Roman SF
42184 XM
(or)SH
/Times-Bold SF
43394 XM
(purgevol_rep)SH
/Times-Roman SF
49493 XM
(scripts on the)127 W
8280 24241 MT
(SCM. Before)
360 W( removing a volume, you)
55 W( should probably create a backup for off-line storage \050see Section 9.6, up to)56 W
8280 25618 MT
(the restore)
96 W( step\051.  The mount point of the volume should be removed with the)95 W
/Times-Bold SF
40925 XM
(cfs\0501\051)SH
/Times-Roman SF
43602 XM
(command \050see the rmmount)95 W
8280 26995 MT
(option\051 before purging the volume \050if possible\051.  Note that purging the volume will)
204 W( not purge related backup)205 W
8280 28372 MT
(volumes. Backup)
250 W( and ReadOnly volumes should be purged with the)SH
/Times-Bold SF
36000 XM
(purgevol)SH
/Times-Roman SF
40028 XM
(script.)SH
14 /Times-Bold AF
8280 32190 MT
(9.5. Restoring a Volume)SH
10 /Times-Roman AF
8280 33567 MT
(For complete details)
177 W( on the backup/restore process, see Chapter 11. In short, one first needs to get the correct)176 W
8280 34944 MT
(dumpfile, possibly merging incremental dumps to an older full dump to get the desired state to be)
94 W( restored. Once)95 W
8280 36321 MT
(this file is obtained, use the)SH
/Times-Bold SF
19474 XM
(volutil\0508\051)SH
/Times-Roman SF
23613 XM
(restore facility.)SH
10280 37841 MT
(%)SH
/Times-Bold SF
11363 XM
(volutil restore <filename> <partition> [<volname>] [<volid>])SH
/Times-Roman SF
8280 39907 MT
(The <partition> should be one of the)24 W
/Times-Italic SF
23380 XM
(/vicep?)SH
/Times-Roman SF
26542 XM
(partitions on the server.  You may optionally specify the volumeid)
24 W( and)23 W
8280 41284 MT
(the volume name for the restored volume. This)
127 W( is useful when creating read-only replicated volumes.  Note that)128 W
8280 42661 MT
(currently dump files are not independent of byte ordering -- so volumes cannot)
43 W( be dumped across architectures that)42 W
8280 44038 MT
(differ in this respect.)SH
14 /Times-Bold AF
8280 47856 MT
(9.6. Read-only Replication of a Volume)SH
10 /Times-Roman AF
8280 49233 MT
(Read-only replication of a volume requires more)
35 W( effort on the part of the system administrator.  However, it greatly)36 W
8280 50610 MT
(increases the)
42 W( availability of volumes which cannot be read-write replicated.  The most important example of such a)41 W
8280 51987 MT
(volume is the root of the Coda file system.  Conflicting updates cannot be allowed to occur at the root)
25 W( volume since)26 W
8280 53364 MT
(this would make the entire Coda file system inaccessible.  However, if the root)
204 W( volume is not replicated, the)203 W
8280 54741 MT
(availability of the entire Coda file system depends upon the availability of the server acting)
29 W( as the custodian for this)30 W
8280 56118 MT
(one volume.  For these reasons, we highly recommend making the root volume of the Coda file)
85 W( system read-only)84 W
8280 57495 MT
(replicated. We)
700 W( provide an extended example here to show)
225 W( you exactly how to go about the replication and)226 W
8280 58872 MT
(distribution process. Note that the example shows how to make the root)
75 W( read-only replicated. Details pertaining to)74 W
8280 60249 MT
(the coda root volume can be ignored when)
50 W( making other read-only replicated volumes \050such as subtrees containing)51 W
8280 61626 MT
(standard binaries\051.)SH
8280 63692 MT
(We assume that you have a non-replicated)
71 W( root volume, called)70 W
/Times-Bold SF
34175 XM
(coda.root)SH
/Times-Roman SF
(. If)
390 W( you are installing a new system, you)70 W
8280 65069 MT
(can access this volume as /coda by using a Coda client.  This volume should look exactly how you want)
186 W( the)187 W
8280 66446 MT
(read-only replica to look.  If it doesn't, make any changes now.  Also note that any volumes)
28 W( that you want mounted)27 W
8280 67823 MT
(within the read-only replicas should be mounted before continuing.  Our root volume has three read-write)
21 W( replicated)22 W
8280 69200 MT
(volumes mounted.  The)56 W
/Times-Italic SF
18198 XM
(usr)SH
/Times-Roman SF
19782 XM
(volume contains the home directories)
56 W( of our users, the)55 W
/Times-Italic SF
42222 XM
(project)SH
/Times-Roman SF
45360 XM
(volume contains project)55 W
8280 70577 MT
(directories and)210 W
/Times-Italic SF
14865 XM
(tmp)SH
/Times-Roman SF
16825 XM
(contains temporary files.  In addition, we have one subdirectory)
210 W( called)211 W
/Times-Italic SF
47548 XM
(nonrep)SH
/Times-Roman SF
50842 XM
(which has)211 W
8280 71954 MT
(non-replicated volumes \050one per server\051)
171 W( mounted within it.  The purpose of these non-replicated volumes is to)170 W
8280 75600 MT
(December 21, 1995)SH
54080 XM
(39)SH
ES
%%Page: 40 41
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
39280 XM
(System Administration:  Volumes)SH
6120 7886 MT
(provide users)
27 W( with a location to perform repairs of conflicting objects.  \050Although the need for such a directory may)28 W
6120 9263 MT
(not be clear at this point, we highly recommend providing such a directory.\051)SH
6120 11329 MT
(If you already have a read-only replicated root volume but want to update it,)
164 W( you should mount the read-write)163 W
6120 12706 MT
(version of the root volume elsewhere and make your changes to this volume.)
70 W( Once)
392 W( you have made your changes,)71 W
6120 14083 MT
(you will need to purge the old read-only replicas of your root volume using)
67 W( the)66 W
/Times-Bold SF
38980 XM
(volutil\0508\051)SH
/Times-Roman SF
43185 XM
(command. Be)
382 W( sure that)66 W
6120 15460 MT
(you purge the replica)
76 W( on each server.  Then, you will need to edit the VolumeList file in)77 W
/Times-Italic SF
42886 XM
(/vice/vol)SH
/Times-Roman SF
46601 XM
(and remove the)77 W
6120 16837 MT
(entry for the read-only replicated root volume.  \050The name of the read-only)
438 W( replica will probably be)437 W
6120 18214 MT
(coda.root.readonly.\051)SH
6120 20280 MT
(On the SCM, you need to clone the read-write copy of the root volume.  You can use the command)SH
8120 21800 MT
(%)SH
/Times-Bold SF
9203 XM
(volutil clone <VolumeId>)SH
/Times-Roman SF
6120 23866 MT
(This command will create a read-only volume with the name)37 W
/Times-Bold SF
31097 XM
(coda.root.readonly)SH
/Times-Roman SF
39439 XM
(\050Assuming that your root volume)37 W
6120 25243 MT
(is called)SH
/Times-Bold SF
9675 XM
(coda.root)SH
/Times-Roman SF
(\051. Next,)
250 W( you will need to dump this cloned volume to a file with the command)SH
8120 26763 MT
(%)SH
/Times-Bold SF
9203 XM
(volutil dump <VolumeId> <filename>)SH
/Times-Roman SF
6120 28829 MT
(Now, copy this file to each of the servers which will have)
109 W( read-only replicas of the root volume and execute the)108 W
6120 30206 MT
(command)SH
8120 31726 MT
(%)SH
/Times-Bold SF
9203 XM
(volutil restore <filename> <partition> [<volid> [<volname>]])SH
/Times-Roman SF
6120 33792 MT
(Note that the root volume currently must reside on)3 W
/Times-Italic SF
26617 XM
(/vicepa)SH
/Times-Roman SF
(. Read-only)
256 W( replicated volumes must share the)
3 W( same volid)4 W
6120 35169 MT
(and name,)
62 W( so take care to specify these correctly when restoring to more than one server. The final step is to build)61 W
6120 36546 MT
(the VLDB by running the command)SH
8120 38066 MT
(%)SH
/Times-Bold SF
9203 XM
(bldvldb.sh)SH
/Times-Roman SF
6120 40132 MT
(on the SCM and to make sure that the file)26 W
/Times-Italic SF
23323 XM
(/vice/ROOTVOLUME)SH
/Times-Roman SF
32431 XM
(contains the name)
26 W( or volume id of the root volume)27 W
6120 41509 MT
(\050coda.root.readonly\051. \050Also,)
250 W( it may be necessary to restart the venus on the clients.\051)SH
14 /Times-Bold AF
6120 45327 MT
(9.7. Building the VLDB)SH
10 /Times-Roman AF
6120 46704 MT
(The volume location data base, VLDB, is used to provide)
2 W( volume addressing information to workstations.  Copies of)1 W
6120 48081 MT
(the VLDB reside on the servers and are updated periodically.  The VLDB lists)
10 W( the latest known location or locations)11 W
6120 49458 MT
(of all on-line volumes in the system.  A human readable version of the VRDB is maintained on)
38 W( the SCM in the file)37 W
/Times-Italic SF
6120 50835 MT
(/vice/vol/VRList)SH
/Times-Roman SF
(.)SH
6120 52901 MT
(The VLDB is maintained on the)
73 W( SCM. When you wishe to update it, run the)74 W
/Times-Bold SF
37973 XM
(/vice/bin/bldvldb.sh\0508\051)SH
/Times-Roman SF
47828 XM
(script on the)74 W
6120 54278 MT
(SCM. The)
302 W( script gathers a copy of the)25 W
/Times-Italic SF
22067 XM
(/vice/vol/VolumeList)SH
/Times-Roman SF
30564 XM
(file from all the servers, merges it into a single list, and)25 W
6120 55655 MT
(builds a new VLDB.)
125 W( The UpdateMon program then propagates the new VLDB to all the servers.  Note that the)126 W
/Times-Bold SF
6120 57032 MT
(createvol)SH
/Times-Roman SF
10257 XM
(and)SH
/Times-Bold SF
11951 XM
(purgevol)SH
/Times-Roman SF
15979 XM
(scripts automatically invoke)SH
/Times-Bold SF
27506 XM
(bldvldb.sh)SH
/Times-Roman SF
(.)SH
14 /Times-Bold AF
6120 60850 MT
(9.8. Building the VRDB)SH
10 /Times-Roman AF
6120 62227 MT
(The volume replication data base, the VRDB, is used to provide information about replicated volumes to client)151 W
6120 63604 MT
(workstations. Copies)
250 W( of the VRDB reside on all servers and are updated periodically.  The VRDB maps)
SH( each logical)1 W
6120 64981 MT
(volume to its corresponding set of physical volumes.)SH
6120 67047 MT
(A human readable version of the VRDB is maintained on)
130 W( the SCM in the file)129 W
/Times-Italic SF
39200 XM
(/vice/vol/VRList)SH
/Times-Roman SF
(. The)508 W
/Times-Bold SF
48531 XM
(makevrdb)SH
/Times-Roman SF
6120 68424 MT
(option to the)153 W
/Times-Bold SF
11885 XM
(volutil\0508\051)SH
/Times-Roman SF
16177 XM
(command will create a new VRDB)
153 W( which will automatically be distributed to the other)154 W
6120 69801 MT
(servers.)SH
6120 75600 MT
(December 21, 1995)SH
51920 XM
(40)SH
ES
%%Page: 41 42
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
41440 XM
(System Administration:  Volumes)SH
14 /Times-Bold AF
8280 8138 MT
(9.9. Building the VSGDB)SH
10 /Times-Roman AF
8280 9515 MT
(The Volume)
19 W( Storage Group Data Base, VSGDB, is currently maintained by hand.  Each valid volume storage group)18 W
8280 10892 MT
(has an entry in this data base containing an identification number and the names of the servers in the group.)SH
14 /Times-Bold AF
8280 14710 MT
(9.10. Ensuring Volume Consistency after Server Crashes)SH
10 /Times-Roman AF
8280 16087 MT
(Coda servers ensure)
140 W( file system consistency after a crash by running)141 W
/Times-Bold SF
37406 XM
(fsck\0508)SH
/Times-Roman SF
(\051, recovering RVM, and running the)141 W
8280 17464 MT
(Coda salvager.  The)211 W
/Times-Bold SF
17372 XM
(fsck)SH
/Times-Roman SF
19555 XM
(used here a CMU has)
211 W( been modified so that it does not require every inode to be)210 W
8 SS 
16916 18496 MT
(3)SH
10 SS 
8280 18841 MT
(referenced by a name)19 W
17316 XM
(. Coda)
288 W( accesses inode directly.  After the server machine is booted,)
19 W( the)20 W
/Times-Bold SF
46383 XM
(srv)SH
/Times-Roman SF
47986 XM
(process starts and)20 W
8280 20218 MT
(RVM recovers the)
189 W( server's committed state.  The Coda salvager then reconciles the results from)188 W
/Times-Bold SF
49816 XM
(fsck)SH
/Times-Roman SF
51976 XM
(and the)188 W
8280 21595 MT
(salvager.)SH
14 /Times-Bold AF
8280 25413 MT
(9.11. Getting Volume Information)SH
10 /Times-Roman AF
8280 26790 MT
(The)SH
/Times-Bold SF
10120 XM
(cfs)SH
/Times-Roman SF
11571 XM
(provides information on volumes.)35 W
/Times-Bold SF
25801 XM
(cfs)SH
/Times-Roman SF
27252 XM
(can only be used)
35 W( on a machine which has a running)36 W
/Times-Italic SF
48502 XM
(venus)SH
/Times-Roman SF
51065 XM
(\050such as a)36 W
8280 28167 MT
(client workstation\051.)SH
/Times-Bold SF
16557 XM
(cfs)SH
/Times-Roman SF
17973 XM
(is described in Chapter 1 as well as in the manual page contained in Appendix VI.)SH
10800 50 8280 70352 UL
6 SS 
9080 71691 MT
(3)SH
8 /Times-Bold AF
9380 72000 MT
(Warning)SH
/Times-Roman SF
(: the vanilla)SH
/Times-Bold SF
16422 XM
(fsck)SH
/Times-Roman SF
17999 XM
(must not be used on a Coda file system partition as the Coda files will be thrown away.)SH
10 SS 
8280 75600 MT
(December 21, 1995)SH
54080 XM
(41)SH
ES
%%Page: 42 43
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
39280 XM
(System Administration:  Volumes)SH
6120 75600 MT
(December 21, 1995)SH
51920 XM
(42)SH
ES
%%Page: 43 44
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
42774 XM
(System Administration:  Users)SH
16 /Times-Bold AF
8280 8272 MT
(10. System Administration:  Users)SH
14 SS 
8280 12090 MT
(10.1. Adding users)SH
10 /Times-Roman AF
8280 13467 MT
(There are several steps in adding a new user to the Coda)
8 W( file system. First, create a Unix account for the new user on)7 W
8280 14844 MT
(some or all of the Coda clients.  Second, add the user to the Coda authentication database and)
190 W( the protection)191 W
8280 16221 MT
(database \050described below\051. Third, create a volume for the user and mount it at the appropriate place)
94 W( in the Coda)93 W
8280 17598 MT
(name space \050See section 9.2\051.)SH
12 /Times-Bold AF
8280 21282 MT
(10.1.1. Constructing new protection database files)SH
8 /Times-Roman AF
50249 22314 MT
(4)SH
10 SS 
8280 22659 MT
(Add a line for each new)
80 W( user to the)79 W
/Times-Italic SF
23242 XM
(user.coda)SH
/Times-Roman SF
27487 XM
(file using the userId from the new user's Unix account.)79 W
51307 XM
(You may)79 W
8280 24036 MT
(copy the entry in)66 W
/Times-Italic SF
15543 XM
(/etc/passwds)SH
/Times-Roman SF
20915 XM
(for this user if you wish.  Note that only the)
66 W( login name \050the first field\051 and the uid)67 W
8280 25413 MT
(\050the third field\051 are relevant and that you may delete the other fields as long as you leave all the ")SH
/Times-Bold SF
(:)SH
/Times-Roman SF
(" characters intact.)SH
8280 27479 MT
(Now, add the user's name to)
166 W( the appropriate group in the file)165 W
/Times-Italic SF
34899 XM
(groups.coda)SH
/Times-Roman SF
(. Note)
580 W( that Coda groups are totally)165 W
8280 28856 MT
(separate from AFS groups and CS unix groups.  Adding a user to group)204 W
/Times-Bold SF
40050 XM
(system:administrators)SH
/Times-Roman SF
50059 XM
(is about the)205 W
8280 30233 MT
(equivalent of giving that user the)35 W
/Times-Bold SF
21933 XM
(root)SH
/Times-Roman SF
23995 XM
(password. Only)
320 W( hard core Coda developers should be in this group.  Add all)34 W
8280 31610 MT
(Coda developers \050hard and soft core\051 to the)SH
/Times-Bold SF
25831 XM
(system:coda)SH
/Times-Roman SF
31302 XM
(group. Add)
250 W( casual Coda users to the)SH
/Times-Bold SF
46272 XM
(system:guests)SH
/Times-Roman SF
52354 XM
(group.)SH
8280 33676 MT
(Execute)SH
10280 35196 MT
(%)SH
/Times-Bold SF
11363 XM
(/usr/coda/bin/pwd2pdb -p user.coda -g groups.coda > vice.pdb)SH
/Times-Roman SF
8280 37262 MT
(to generate a Coda protection database.)SH
8280 39328 MT
(Finally, execute)SH
10280 40848 MT
(%)SH
/Times-Bold SF
11363 XM
(/usr/coda/bin/pcfgen vice)SH
/Times-Roman SF
8280 42368 MT
(to generate thefile)SH
/Times-Italic SF
15750 XM
(vice.pcf)SH
/Times-Roman SF
(.)SH
12 /Times-Bold AF
8280 46052 MT
(10.1.2. Installing the protection database files)SH
10 /Times-Roman AF
8280 47429 MT
(Now that you have generated the new protection database files, you must install these files.  Follow these steps:)SH
10280 48768 MT
(1.)SH
11280 XM
(Login into the SCM.)SH
10280 50526 MT
(2.)SH
/Times-Bold SF
11280 XM
(cd /vice/db)SH
/Times-Roman SF
10280 52284 MT
(3.)SH
/Times-Bold SF
11280 XM
(/vice/bin/mvdb <srcdir> vice.pdb vice.pcf)SH
/Times-Roman SF
11280 53804 MT
(where <srcdir> is the name of the directory containing the new vice.pdb and vice.pcf.)SH
12 /Times-Bold AF
8280 57488 MT
(10.1.3. Modifying the authentication database)SH
10 /Times-Roman AF
8280 58865 MT
(User accounts are added to the authentication database by the)164 W
/Times-Bold SF
34748 XM
(/usr/coda/bin/au)SH
/Times-Roman SF
42110 XM
(program. The)165 W
/Times-Bold SF
48133 XM
(/usr/coda/bin/au)SH
/Times-Roman SF
8280 60242 MT
(program can be used to add, delete,)
55 W( and modify user accounts, change passwords, or get tokens. Below we give an)54 W
8280 61619 MT
(example of how to add a new user.)SH
8280 63685 MT
(On a Coda client workstation, run)SH
10280 65205 MT
(%)SH
/Times-Bold SF
11363 XM
(/usr/coda/bin/au -h <SCM> nu)SH
/Times-Roman SF
8280 67271 MT
(where <SCM> is the name of the SCM.  In response to the prompts, provide your Coda userId and)
81 W( password and)82 W
10800 50 8280 69428 UL
6 SS 
9080 70767 MT
(4)SH
8 SS 
9380 71076 MT
(If you are at Carnegie Mellon and the user you intend to add does not have a CMU-CS)
99 W( account, STOP!  The user)100 W
/Times-Bold SF
48092 XM
(must)SH
/Times-Roman SF
50080 XM
(get a CMU-CS)100 W
8280 72000 MT
(account before you may continue.  To determine the CMU-CS UID,)SH
/Times-Bold SF
30293 XM
(grep)SH
/Times-Roman SF
32048 XM
(for the login name in)SH
/Times-Italic SF
38955 XM
(/etc/passwds)SH
/Times-Roman SF
(.)SH
10 SS 
8280 75600 MT
(December 21, 1995)SH
54080 XM
(43)SH
ES
%%Page: 44 45
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
40614 XM
(System Administration:  Users)SH
6120 7886 MT
(then the new user's name and temporary password.  \050Give)
3 W( the new user's full name to the "Other info" prompt.\051 You)2 W
6120 9263 MT
(must be a member of the system:administrators group in order to)
83 W( successfully modify the authentication database.)84 W
6120 10640 MT
(Figure 10.1.3 shows adding)
12 W( the user "guest" to the authentication database.  Note that the new password will echo to)11 W
6120 12017 MT
(the screen.)SH
8 SS 
13320 13671 MT
(%)SH
/Times-Bold SF
14186 XM
(/usr/coda/bin/au -h scarlatti nu)SH
/Times-Roman SF
13320 14595 MT
(Your Vice name:)SH
/Times-Bold SF
19028 XM
(raiff)SH
/Times-Roman SF
13320 15519 MT
(Your password:)SH
13320 16443 MT
(RPC2_Bind\050\051 --> RPC2_SUCCESS)SH
13320 17367 MT
(Vice user:)SH
/Times-Bold SF
16784 XM
(guest)SH
/Times-Roman SF
13320 18291 MT
(New password:)SH
/Times-Bold SF
18474 XM
(guestpwd)SH
/Times-Roman SF
13320 19215 MT
(New info:)SH
/Times-Bold SF
16741 XM
(Guest User)SH
10 SS 
17425 20825 MT
(Figure 10-1:)SH
/Times-Roman SF
23174 XM
(Adding a User to the Authentication Database)SH
6120 22891 MT
(Updates made via)70 W
/Times-Bold SF
13745 XM
(au)SH
/Times-Roman SF
15121 XM
(will be automatically distributed to the other servers by the Update daemon.)
70 W( Now,)
391 W( the)71 W
/Times-Bold SF
50975 XM
(auth)SH
/Times-Roman SF
6120 24268 MT
(server knows about the new users.  New users may change their temporary passwords using the)SH
/Times-Bold SF
44584 XM
(cpasswd)SH
/Times-Roman SF
48390 XM
(command.)SH
14 /Times-Bold AF
6120 28086 MT
(10.2. Monitoring Auth Server Activity)SH
10 /Times-Roman AF
6120 29463 MT
(The file)63 W
/Times-Italic SF
9634 XM
(/vice/auth2/AuthLog)SH
/Times-Roman SF
18114 XM
(has a log of the auth server activity and can be used to monitor)
63 W( failed login attempts.)62 W
6120 30840 MT
(You can also monitor password changes in the file)SH
/Times-Italic SF
26589 XM
(/vice/db/auth2.pw)SH
/Times-Roman SF
(.)SH
6120 75600 MT
(December 21, 1995)SH
51920 XM
(44)SH
ES
%%Page: 45 46
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
41996 XM
(System Administration:  Backup)SH
16 /Times-Bold AF
8280 8272 MT
(11. System Administration:  Backup)SH
14 SS 
8280 12090 MT
(11.1. Design of the Backup Subsystem)SH
10 /Times-Roman AF
8280 13467 MT
(As use of the Coda file system increased, the need for larger storage capacity grew and the need for reliable)
92 W( data)93 W
8280 14844 MT
(storage also became apparent.  Because the volume of data in Coda and the time to access it made backing up all)
28 W( of)27 W
8280 16221 MT
(the data in one operation infeasible, we designed a volume by)
58 W( volume backup mechanism.  This fits in nicely with)59 W
8280 17598 MT
(the AFS concept of a volume being the unit of management and administration within the file system.)SH
8280 19664 MT
(Backing up a volume occurs in)
44 W( three phases:)43 W
/Times-Italic SF
26737 XM
(cloning)SH
/Times-Roman SF
(,)SH
/Times-Italic SF
30280 XM
(dumping)SH
/Times-Roman SF
(, and)43 W
/Times-Italic SF
36060 XM
(saving)SH
/Times-Roman SF
(. The)
336 W( cloning phase consists of freezing)43 W
8280 21041 MT
(the \050replicated\051 volume, creating a readonly clone of)
117 W( each of the replicas, and then unfreezing the volume.  This)118 W
8280 22418 MT
(allows mutating operations on the replicated volume while maintaining a snapshot to backup.  The)
66 W( dumping phase)65 W
8280 23795 MT
(creates a disk image of a readonly clone, which can later be restored via the)52 W
/Times-Bold SF
39551 XM
(volutil)SH
/Times-Roman SF
42576 XM
(facility. A)
354 W( dump can either be)52 W
8280 25172 MT
(full, in which all files are dumped; or incremental, in which only those files)
18 W( or directories which have changed since)17 W
8280 26549 MT
(the last successful backup are included in the dump.  The)
59 W( last phase consists of writing all the dump files from the)60 W
8280 27926 MT
(backed up volumes to archival media such as tape.)SH
8280 29992 MT
(The idea behind)
152 W( incremental dumps is to reduce the bandwidth requirements of the backup mechanism by only)151 W
8280 31369 MT
(making full dumps)
101 W( periodically \050like once a week\051 and making incrementals on the other days.  Thus the longest)102 W
8280 32746 MT
(period of data loss should be one day.  However,)
84 W( in the current implementation, there is no sure way of detecting)83 W
8280 34123 MT
(change between versions of files in non-replicated volumes.  Since there is little)
85 W( need for non-replicated volumes,)86 W
8280 35500 MT
(we only support full dumps on non-replicated volumes.)SH
8280 37566 MT
(Several programs exist to help in the creation, analysis, and restoration of)
167 W( dumps.  The first of these,)166 W
/Times-Bold SF
51662 XM
(backup)SH
/Times-Roman SF
(,)SH
8280 38943 MT
(performs the clone and dump phases.  It takes as input the name of a dumplist file)
13 W( \050see dumplist\0505\051\051.  Optionally one)14 W
8280 40320 MT
(can also specify a directory in which)SH
/Times-Bold SF
23193 XM
(backup)SH
/Times-Roman SF
26611 XM
(will put information generated during the backup.)SH
8280 42386 MT
(Since the amount of data)
297 W( which is being handled could be huge \050many GB\051, the dumplist file allows the)296 W
8280 43763 MT
(administrator to specify directories on which)
55 W( to scatter all the dump files.  If any such directories are specified, the)56 W
8280 45140 MT
(dump subtree will contain symbolic links to the actual)
154 W( dump files, which will be placed into one of the scatter)153 W
8280 46517 MT
(directories, choosing the one on the partition)
6 W( that is emptiest at the time of the dump.  Upon completion)7 W
/Times-Bold SF
50099 XM
(backup)SH
/Times-Roman SF
53524 XM
(will)SH
8280 47894 MT
(print which volumes were successfully backed up, the volumes on which backup)
82 W( failed, and those volumes which)81 W
8280 49271 MT
(were not specified for backup.)SH
8280 51337 MT
(The)SH
/Times-Bold SF
10145 XM
(merge)SH
/Times-Roman SF
13120 XM
(program allows a system administrator to update the state seen in a full dump by the partial state in an)61 W
8280 52714 MT
(incremental dump.  This is useful when a user wishes to restore to a state that was captured by)
124 W( a full and some)123 W
8280 54091 MT
(number of)
7 W( incremental dumps.  \050For instance, in the middle of the week\051 The)8 W
/Times-Bold SF
39497 XM
(merge)SH
/Times-Roman SF
42420 XM
(program applies an incremental)8 W
8280 55468 MT
(to a full dump, producing a new full dump file.)SH
8280 57534 MT
(An incremental is a partial snapshot)2 W
/Times-Italic SF
22901 XM
(with respect to)2 W
/Times-Roman SF
29046 XM
(the previous dump.  The Coda backup facility maintains an order)1 W
8280 58911 MT
(on dumps for a volume.  The merge program will)
59 W( only allow an incremental to be applied to its predecessor in the)60 W
8280 60288 MT
(order. This)
250 W( predecessor may be a full dump or the output of the)SH
/Times-Bold SF
34081 XM
(merge)SH
/Times-Roman SF
36996 XM
(program.)SH
8280 62354 MT
(Once the administrator has created or retrieved the full dump)
49 W( which contains the desired state of a volume, she can)48 W
8280 63731 MT
(create a read-only)
144 W( copy of that state by using the)145 W
/Times-Bold SF
29390 XM
(volutil restore)145 W
/Times-Roman SF
35901 XM
(facility. This)540 W
/Times-Bold SF
41947 XM
(volutil)SH
/Times-Roman SF
45065 XM
(command creates a new)145 W
8280 65108 MT
(read-only volume on a server.  The)
130 W( new volume can be mounted as any other Coda volume.  Regular Unix file)129 W
8280 66485 MT
(operations can then be)
38 W( used to extract the desired old data.  The obvious exception is that mutating options will fail)39 W
8280 67862 MT
(on files in a readonly volume.)SH
8280 75600 MT
(December 21, 1995)SH
54080 XM
(45)SH
ES
%%Page: 46 47
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
39836 XM
(System Administration:  Backup)SH
14 /Times-Bold AF
6120 8138 MT
(11.2. Incremental Dumps)SH
10 /Times-Roman AF
6120 9515 MT
(In every dump \050full or incremental\051 produces a file containing the version vectors and)9 W
/Times-Italic SF
40794 XM
(StoreIds)SH
/Times-Roman SF
44386 XM
(of every vnode in the)9 W
6120 10892 MT
(volume. These)
310 W( files have names of the form)31 W
/Courier SF
24449 XM
(/vice/backup/<groupid>.<volid>.newlist)SH
/Times-Roman SF
47530 XM
(for replicated)31 W
6120 12269 MT
(volumes and)6 W
/Courier SF
11465 XM
(/vice/backup/<volid>.newlist)SH
/Times-Roman SF
28521 XM
(for non-replicated volumes.)
6 W( When)
261 W( the backup coordinator is)5 W
6120 13646 MT
(convinced that the backup of a volume has completed, the)
77 W( *.newlist file is renamed to be *.ancient via the)78 W
/Times-Bold SF
50197 XM
(volutil)SH
6120 15023 MT
(ancient)SH
/Times-Roman SF
9481 XM
(call. These)
250 W( files are stored in a human-readable format for convenience.)SH
6120 17089 MT
(When creating an)
23 W( incremental dump, the server looks for the .ancient file corresponding to the volume.  If it doesn't)22 W
6120 18466 MT
(exist, a full dump is created.  If it does exist, it is used)
189 W( to determine which files have changed since the last)190 W
6120 19843 MT
(successful backup.  The server iterates through the vnode lists for the volume and the version vector lists)
66 W( from the)65 W
/Times-Italic SF
6120 21220 MT
(*.ancient)SH
/Times-Roman SF
10130 XM
(file comparing the version vectors and storeIds.  A)
66 W( discrepancy between the two implies that the file has)67 W
6120 22597 MT
(changed and should be included in the)
205 W( incremental dump.  Since version vectors are not maintained for non-)204 W
6120 23974 MT
(replicated volumes, incremental dumps are not supported by the coda backup facility.)SH
6120 26040 MT
(By comparing the sequence numbers in the vnodes lists, it can also)
108 W( be determined if a file or directory had been)109 W
6120 27417 MT
(deleted \050since the)
65 W( vnode is no longer in use\051.  Vnodes that are freed and then reallocated between dumps look like)64 W
6120 28794 MT
(vnodes which have been modified, and so are safely included in the incremental dump.)SH
6120 30860 MT
(It is also important to)
41 W( maintain an ordering on the incremental dumps.  To correctly restore to a particular day each)42 W
6120 32237 MT
(incremental dump must be)
71 W( applied to the appropriate full dump.  To ensure that this happens, each dump is labled)70 W
6120 33614 MT
(with a uniquifier, and each incremental is labeled with the uniquifier of the dump with respect to)
54 W( which it is taken.)55 W
6120 34991 MT
(During merge, the full dump's uniquifier is compared with the uniquifier of the dump)
5 W( used to create the incremental.)4 W
6120 36368 MT
(If they do not match, the incremental should not be applied to the full dump.)SH
14 /Times-Bold AF
6120 40186 MT
(11.3. Tape files)SH
10 /Times-Roman AF
6120 41563 MT
(Once the dump files have been created, they must be written to)
3 W( tape.  This is due to the fact that disk space is usually)4 W
6120 42940 MT
(a limited commodity.  The basic mechanism for the writing is the unix)SH
/Times-Bold SF
34563 XM
(tar\0501)SH
/Times-Roman SF
(\051 facility.)SH
6120 45006 MT
(Each tape contains a series of tar)
36 W( files, the first and last of which are labels.  The start and end labels are indentical,)35 W
6120 46383 MT
(and contain version)
13 W( information, the date the backup was taken, and an index which maps individual dump files into)14 W
6120 47760 MT
(offsets into)
47 W( the tape.  Thus the Coda backup tapes are self identifying for easy sanity checks.  The label is a tar file)46 W
6120 49137 MT
(which only contains a simple unix file called)SH
/Times-Italic SF
24285 XM
(TAPELABEL)SH
/Times-Roman SF
(.)SH
6120 51203 MT
(The dump files are first sequenced by size.  They are then broken)
1 W( down into groups, where the total size of the group)2 W
6120 52580 MT
(must be larger than a certain size, currently .5 Megabytes.  Each group is stored in)
128 W( a single tar file on the tape.)127 W
6120 53957 MT
(These data tar files are the 2nd through n-1st records on)
8 W( the tape, the first and nth being a tar files containing just the)9 W
6120 55334 MT
(tape label.)SH
6120 57400 MT
(This structure was chosen for several reasons.  The first is that it)
32 W( is easy to implement.  Tar has been used for many)31 W
6120 58777 MT
(years, and has been proven to be)
103 W( reliable.  The second is easy access of information on the tape.  Using a single)104 W
6120 60154 MT
(monolithic tar file would often require hours of waiting to retrieve a single dump)
52 W( file.  This way you can skip over)51 W
6120 61531 MT
(most of the data using)125 W
/Times-Bold SF
15828 XM
(mt\0501)SH
/Times-Roman SF
(\051 and its fast-forward facility.  Finally, it provides a simple and)
125 W( effective end-to-end)126 W
6120 62908 MT
(check to validate that all the information has made it to tape.)SH
6120 64974 MT
(At CMU, we have created a)
131 W( convention for capturing sufficient information for reliability, while trying to avoid)130 W
6120 66351 MT
(excess use of tapes.  Full backups are taken once)
35 W( a week.  However, since our staging disks are not large enough to)36 W
6120 67728 MT
(hold full dumps for all the replicas of all the volumes, we stagger the full backups across the week.)SH
6120 69794 MT
(There are three kinds of requests for restorations:)
52 W( users who have mistakenly trashed a file, users who lost data but)51 W
6120 71171 MT
(didn't know it, or bugs which require us to roll back to a substantially earlier state.  The first class of restores can be)17 W
6120 75600 MT
(December 21, 1995)SH
51920 XM
(46)SH
ES
%%Page: 47 48
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
41996 XM
(System Administration:  Backup)SH
8280 7886 MT
(typically handled by yesterday's state, which we keep on-line in the form of read-only)
39 W( backup clones.  Thus almost)38 W
8280 9263 MT
(all forms of requests)
91 W( never reach the system administrator at all.  To give users easy access to the previous day's)92 W
8280 10640 MT
(backup, create a directory, OldFiles, in their coda directory, and mount each of)
239 W( the backups in the OldFiles)238 W
8280 12017 MT
(directory.)SH
8280 14083 MT
(If the user didn't catch the loss of data immediately, it's reasonable to expect that they)
70 W( will catch it before a week)71 W
8280 15460 MT
(has passed.  We keep all incrementals and fulls to guarantee we can restore state from)
3 W( any day in the last week.  This)2 W
8280 16837 MT
(requires 14 tapes, or two weekly sets.)
120 W( One)
491 W( week's worth is not sufficient, because state from later incrementals)121 W
8280 18214 MT
(relies on earlier incrementals in order to be restored.  Thus as soon as the first incremental tape is)
42 W( over-written \050say)41 W
8280 19591 MT
(Monday's\051, the state from the remainder of the last week is lost \050last Tuesday's, Wednesday's, etc\051.)SH
8280 21657 MT
(The third class of data loss is either due)
30 W( to infrequently used files or to catastrophy.  \050We've actually been forced to)31 W
8280 23034 MT
(rely on the backup system to restore)3 W
/Times-Italic SF
22993 XM
(all)SH
/Times-Roman SF
24302 XM
(Coda state due to major bugs)
3 W( in the servers\051.  Since it's unreasonable to keep)2 W
8280 24411 MT
(all the tapes around, we only)
66 W( save tapes containing full dumps.  Weekly tapes are saved for a month, and monthly)67 W
8280 25788 MT
(tapes are saved for eternity.)SH
14 /Times-Bold AF
8280 29606 MT
(11.4. Restoring a backup clone)SH
10 /Times-Roman AF
8280 30983 MT
(A basic assumption of performing backups is that eventually someone will need to restore old state of a volume.)
14 W( To)276 W
8280 32360 MT
(do this they should contact the system administrator, specifying the volume)
220 W( \050groupid and repid for replicated)221 W
8280 33737 MT
(volumes or just the volid for non-replicated volumes\051 and the date of the state they wish to restore.)SH
8280 35803 MT
(The system administrator must then determine which dump files)
87 W( contain the state.  There could be more than one)86 W
8280 37180 MT
(involved since the state may have been captured by a full and some)
114 W( incremental dumps.  Once the administrator)115 W
8280 38557 MT
(knows the)
137 W( dates of the backups involved, she must get the appropriate tapes and extract the dump files \050via the)136 W
/Times-Bold SF
8280 39934 MT
(extract.sh)SH
/Times-Roman SF
12723 XM
(script\051.)SH
8280 42000 MT
(The administrator then creates the)
78 W( full state to be restored by iteratively applying the incrementals to the full state)79 W
8280 43377 MT
(via the)83 W
/Times-Bold SF
11390 XM
(merge)SH
/Times-Roman SF
14388 XM
(program. Once)
416 W( the state)
83 W( for the date in question has been restored, a read-only clone is created by)82 W
8280 44754 MT
(choosing a server to hold the clone,)
146 W( and invoking the)147 W
/Times-Bold SF
31158 XM
(volutil restore)147 W
/Times-Roman SF
37673 XM
(operation, directing the call to the chosen)147 W
8280 46131 MT
(server. Once)
284 W( the clone has been restored, the administrator should build a new VLDB, and)
17 W( mount the volume in the)16 W
8280 47508 MT
(Coda name space so the user can access it.  When the user has finished)
6 W( with it, she should notify the administrator in)7 W
8280 48885 MT
(order for the clone to be purged.)SH
14 /Times-Bold AF
8280 52703 MT
(11.5. Backup Scripts)SH
10 /Times-Roman AF
8280 54080 MT
(Although the)5 W
/Times-Bold SF
13790 XM
(backup)SH
/Times-Roman SF
17213 XM
(program handles all the tricky details involved in Coda backup,)
5 W( there still remains some issues)4 W
8280 55457 MT
(to be handled, most notably)
100 W( the saving of the dump files to tape.  This is done by a series of scripts,)101 W
/Times-Bold SF
50467 XM
(backup.sh)SH
/Times-Roman SF
(,)SH
/Times-Bold SF
8280 56834 MT
(writetotape.sh)SH
/Times-Roman SF
(, and)SH
/Times-Bold SF
16556 XM
(checktape.sh)SH
/Times-Roman SF
(. The)
250 W( job of extracting dump files from tape is handled by)SH
/Times-Bold SF
45636 XM
(extract.sh)SH
/Times-Roman SF
(.)SH
/Times-Bold SF
8280 58900 MT
(backup.sh)SH
/Times-Roman SF
12932 XM
(takes the)
39 W( name of the directory in which to run backups.  It creates a subdirectory who's name indicates)38 W
8280 60277 MT
(the date that backup was run.  It then)
39 W( runs the)40 W
/Times-Bold SF
27153 XM
(backup)SH
/Times-Roman SF
30611 XM
(program, using the dumplist file in the directory specified in)40 W
8280 61654 MT
(the arguments,)
69 W( saving the output of)68 W
/Times-Bold SF
23049 XM
(backup)SH
/Times-Roman SF
26535 XM
(in a logfile in the newly created subdirectory.  It copies in the current)68 W
8280 63031 MT
(Coda databases \050so they will be saved)
166 W( to tape along with the dump files.\051  It then invokes)167 W
/Times-Bold SF
47137 XM
(writetotape.sh)SH
/Times-Roman SF
53636 XM
(and)SH
/Times-Bold SF
8280 64408 MT
(checktape.sh)SH
/Times-Roman SF
14002 XM
(to write and verify that the files have been safely recoreded.)SH
/Times-Bold SF
8280 66474 MT
(writetotape.sh)SH
/Times-Roman SF
14661 XM
(performs the work of saving the files on tape.  It takes the directory in which)
49 W( the backup was taken)48 W
8280 67851 MT
(\050the subdirectory generated by)14 W
/Times-Bold SF
20777 XM
(backup.sh)SH
/Times-Roman SF
(\051, and the)
14 W( device name of the tape drive.  It first checks to see that the tape)15 W
8280 69228 MT
(to be used is either empty or has the correct label.  For Coda at CMU this means checking that the tape was last used)7 W
8280 70605 MT
(on the same day of the week.)
50 W( It)
351 W( then gathers the dump files and databases into groups and generates the tape label)51 W
8280 71982 MT
(for this backup.  Finally it writes the tape label and all the groups to)
27 W( the tape via the)26 W
/Times-Bold SF
42451 XM
(tar\0501)SH
/Times-Roman SF
(\051 facility, marking the end)26 W
8280 75600 MT
(December 21, 1995)SH
54080 XM
(47)SH
ES
%%Page: 48 49
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
39836 XM
(System Administration:  Backup)SH
6120 7886 MT
(of the tape with another copy of the tape label.)SH
/Times-Bold SF
6120 9952 MT
(checktape.sh)SH
/Times-Roman SF
11921 XM
(verifies that)79 W
/Times-Bold SF
17078 XM
(writetotape.sh)SH
/Times-Roman SF
23489 XM
(did its job correctly.  Like)80 W
/Times-Bold SF
34607 XM
(writetotape.sh)SH
/Times-Roman SF
(, it takes the backup directory)80 W
6120 11329 MT
(and the name of the tape drive)
46 W( as input.  It first reads off the tape label, comparing it with one stored in the backup)45 W
6120 12706 MT
(directory. It)
294 W( then scans all the data tar files, comparing their actual)
22 W( contents with what it expected, and finally reads)23 W
6120 14083 MT
(the tape label at the end, comparing it with the saved value.)SH
/Times-Bold SF
6120 16149 MT
(extract.sh)SH
/Times-Roman SF
10585 XM
(is used to extract a dump file from a Coda backup tape.  It takes the name of the tape device, the date the)21 W
6120 17526 MT
(backup was taken, and the identifier)
198 W( of the volume to be restored.  The date should be specified in the form)199 W
6120 18903 MT
(DDMMMYYYY, as in 10Feb1992.  Volume identifiers are "groupid.repid" for replicated volumes and "volid" for)70 W
6120 20280 MT
(non-replicated volumes.)57 W
/Times-Bold SF
16456 XM
(extract.sh)SH
/Times-Roman SF
20956 XM
(will locate the correct group)
57 W( by reading the tape label, fast-forward the tape to)58 W
6120 21657 MT
(the correct tape file, and extract the dump file for the volume.)SH
14 /Times-Bold AF
6120 25475 MT
(11.6. Installing a Coda Backup Coordinator Machine)SH
10 /Times-Roman AF
6120 26852 MT
(The Coda Backup coordinator should be a trusted machine.  It should get all the files that exist in the)57 W
/Times-Italic SF
47838 XM
(/vice)SH
/Times-Roman SF
50032 XM
(subtree)SH
6120 28229 MT
(on the servers, although it is not necessary to run a fileserver on the backup coordinator.)SH
6120 30295 MT
(Create a)160 W
/Times-Italic SF
9994 XM
(/vice/db/dumplist)SH
/Times-Roman SF
17293 XM
(file on the SCM.  The dumplist contains a list)
160 W( of the directories in which dumpfiles)161 W
6120 31672 MT
(should be placed when they are created during the dump process.  It also contains a list of the volumes)
23 W( to be backed)22 W
6120 33049 MT
(up, the schedule for the backup, and a comment.  Here is an example file:)SH
/Courier SF
8520 34455 MT
(Partitions)SH
8520 35486 MT
(/vicepa/backup)SH
8520 36517 MT
(/usr/codabackup/backup)SH
8520 37548 MT
(Volumes)SH
8520 38579 MT
(7f000001 FIIIIII)
4200 W( coda_root.i386_mach.rep)4800 W
8520 39610 MT
(7f000002 FIIIIII)
4200 W( coda_root.nonrep.rep)4800 W
/Times-Roman SF
6120 41676 MT
(The "Partitions" and)
195 W( "Volumes" keywords are necessary, and should be on their own lines.  The "FIIIII" is a)196 W
6120 43053 MT
(schedule of full and incremental dumps.  See)SH
/Times-Bold SF
24367 XM
(dumplist)SH
/Times-Roman SF
(\0505\051 for mor details.)SH
6120 75600 MT
(December 21, 1995)SH
51920 XM
(48)SH
ES
%%Page: 49 50
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
37444 XM
(Reinitializing Coda Servers After a Disaster)SH
16 /Times-Bold AF
8280 8272 MT
(12. Reinitializing Coda Servers After a Disaster)SH
10 /Times-Roman AF
8280 9649 MT
(As Coda is still an)
39 W( experimental system, the state of a Coda File System may sometimes get to the point where you)38 W
8280 11026 MT
(will want to reinitialize all of the servers.)3 W
/Times-Italic SF
25249 XM
(Note that this is a fairly drastic step and should)
3 W( be treated as a last resort)4 W
/Times-Roman SF
(.)SH
8280 12403 MT
(It will typically take an entire)
31 W( day or more to perform and the system will be unavailable during that time.)30 W
/Times-Italic SF
51743 XM
(You will)30 W
/Times-Bold SF
8280 13780 MT
(not)SH
/Times-Italic SF
9919 XM
(be able to reintigrate after a reinitialization)SH
/Times-Roman SF
(.)SH
8280 15846 MT
(This chapter explains the steps necessary to reinitialize your system and restore your data on "clean" servers.)
69 W( The)390 W
8280 17223 MT
(basic steps are as follows:)SH
10280 18562 MT
(1.)SH
11280 XM
(Obtain backup dump files for all of the volumes in the system.)SH
10280 20320 MT
(2.)SH
11280 XM
(Reinitialize RVM on the servers.)SH
10280 22078 MT
(3.)SH
11280 XM
(Recreate the volumes that existed before the reinitialization.)SH
10280 23836 MT
(4.)SH
11280 XM
(Restore and mount the backup clones created in step 1.)SH
10280 25594 MT
(5.)SH
11280 XM
(Mount the volumes created in step 3.)SH
10280 27352 MT
(6.)SH
11280 XM
(Copy the data from the restored volumes to the newly created volumes.)SH
10280 29110 MT
(7.)SH
11280 XM
(Unmount the new volumes and backup clones.)SH
10280 30868 MT
(8.)SH
11280 XM
(Flush client caches.)SH
10280 32626 MT
(9.)SH
11280 XM
(Test the system.)SH
14 /Times-Bold AF
8280 36444 MT
(12.1. Obtaining Backup Dump Files)SH
10 /Times-Roman AF
8280 37821 MT
(If the system is in a state that)
52 W( backups can be successfully run, we suggest running the)51 W
/Times-Bold SF
43871 XM
(backup.sh)SH
/Times-Roman SF
48535 XM
(script to capture)51 W
8280 39198 MT
(the most recent state.  You may, however, use the tapes from your last successfule backup and)
66 W( skip this step.  See)67 W
8280 40575 MT
(Chapter 11 and)37 W
/Times-Bold SF
14751 XM
(backup\0508\051)SH
/Times-Roman SF
19372 XM
(for more details on creating backups.  You will need to create new)36 W
/Times-Italic SF
46667 XM
(dumplist)SH
/Times-Roman SF
50398 XM
(files for the)36 W
8280 41952 MT
(backups. If)
350 W( you include the volumes that you do not normally back up in the newly created)
50 W( dumplists, you will be)51 W
8280 43329 MT
(able to)
26 W( restore those volumes rather than re-create their contents.  See)25 W
/Times-Bold SF
36657 XM
(dumplist\0505\051)SH
/Times-Roman SF
41877 XM
(for details on the format of these)25 W
8280 44706 MT
(files. To)
250 W( create the dumplists, use the following steps:)SH
10280 46045 MT
(1.)SH
11280 XM
(Use)SH
/Times-Italic SF
13149 XM
(/vice/vol/VolumeList)SH
/Times-Roman SF
21685 XM
(and)SH
/Times-Italic SF
23443 XM
(/vice/vol/VRList)SH
/Times-Roman SF
30146 XM
(to create a list of all of the volumes on)
64 W( the servers you)65 W
11280 47150 MT
(want to reinitialize.)SH
10280 48908 MT
(2.)SH
11280 XM
(Sort the volumes by)
18 W( size.  Use the)17 W
/Times-Bold SF
25279 XM
(cfs lv)17 W
/Times-Roman SF
27757 XM
(command to get an estimate on the size that each volume will)17 W
11280 50013 MT
(take. Remember)
250 W( that if a volume is replicated, each replica will need space on the tape.)SH
10280 51771 MT
(3.)SH
11280 XM
(Divide the volumes into groups that will fit onto a single backup tape \050at CMU this is about 1.5 GB\051)SH
10280 53529 MT
(4.)SH
11280 XM
(Run)SH
/Times-Bold SF
13197 XM
(backup)SH
/Times-Roman SF
16615 XM
(on the dumplist files.)SH
14 /Times-Bold AF
8280 57347 MT
(12.2. Reinitializing RVM on the Servers)SH
10 /Times-Roman AF
8280 58724 MT
(Use)SH
/Times-Bold SF
10187 XM
(rvmutl)SH
/Times-Roman SF
13483 XM
(and)SH
/Times-Bold SF
15279 XM
(rdsinit)SH
/Times-Roman SF
18465 XM
(to initialize)
102 W( RVM.  Unless you are reinitializing in order to change the size of the RVM)103 W
8280 60101 MT
(heap, be sure to use the same sizes that you used previously.  See section 6.5 for the details of initializing RVM.)SH
14 /Times-Bold AF
8280 63919 MT
(12.3. Recreate the Backed Up Volumes)SH
10 /Times-Roman AF
8280 65296 MT
(Use)SH
/Times-Bold SF
10085 XM
(createvol\0508\051)SH
/Times-Roman SF
15388 XM
(and)SH
/Times-Bold SF
17082 XM
(createvol_rep\0508\051)SH
/Times-Roman SF
24329 XM
(to create all of the volumes that you backed up in section 12.1.)SH
8280 75600 MT
(December 21, 1995)SH
54080 XM
(49)SH
ES
%%Page: 50 51
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
35284 XM
(Reinitializing Coda Servers After a Disaster)SH
14 /Times-Bold AF
6120 8138 MT
(12.4. Restore the Backup Clones)SH
10 /Times-Roman AF
6120 9515 MT
(First, restore the read only)
104 W( coda of the)103 W
/Times-Italic SF
22417 XM
(coda_root)SH
/Times-Roman SF
26881 XM
(volume. This)
456 W( should have been backup up in section 12.1.  In)103 W
6120 10892 MT
(section 12.3, you should have created your)196 W
/Times-Italic SF
24850 XM
(coda_root.tmp)SH
/Times-Roman SF
31157 XM
(volume. This)
642 W( will automatically)
196 W( be mounted when)197 W
/Times-Italic SF
6120 12269 MT
(coda_root)SH
/Times-Roman SF
10562 XM
(is restored.  Next create a directory)81 W
/Times-Italic SF
25402 XM
(/coda/tmp/restore)SH
/Times-Roman SF
32844 XM
(and use the)80 W
/Times-Bold SF
37833 XM
(volutil restore)80 W
/Times-Roman SF
44214 XM
(to restore each of the)80 W
6120 13646 MT
(backup clones to)SH
/Times-Italic SF
13091 XM
(/coda/tmp/restore)SH
/Times-Roman SF
(. See)
250 W( the)SH
/Times-Bold SF
24118 XM
(volutil\0508\051)SH
/Times-Roman SF
28257 XM
(man page for more details on restoring the volumes.)SH
14 /Times-Bold AF
6120 17464 MT
(12.5. Mount the Recreated Volumes)SH
10 /Times-Roman AF
6120 18841 MT
(Create a directory)SH
/Times-Italic SF
13534 XM
(/coda/tmp/inited)SH
/Times-Roman SF
20340 XM
(and mount all of the volumes created in 12.3 in this directory.)SH
14 /Times-Bold AF
6120 22659 MT
(12.6. Populate the New Volumes)SH
10 /Times-Roman AF
6120 24036 MT
(Run the script)SH
/Times-Bold SF
11981 XM
(restorevolumes\0508\051)SH
/Times-Roman SF
19895 XM
(to restore all of the volumes that were backed up in section 12.1.)SH
14 /Times-Bold AF
6120 27854 MT
(12.7. Unmount the Volumes)SH
10 /Times-Roman AF
6120 29231 MT
(Use)SH
/Times-Bold SF
8018 XM
(cfs rmmount)93 W
/Times-Roman SF
13925 XM
(to unmount all of)
93 W( the volumes in)94 W
/Times-Italic SF
27886 XM
(/coda/tmp/restored)SH
/Times-Roman SF
35841 XM
(and)SH
/Times-Italic SF
37629 XM
(/coda/tmp/inited)SH
/Times-Roman SF
(. Then)
438 W( remove these)94 W
6120 30608 MT
(directories. See)
250 W( the man page)SH
/Times-Bold SF
18367 XM
(cfs\0508\051)SH
/Times-Roman SF
20949 XM
(for more details on unmounting volumes.)SH
14 /Times-Bold AF
6120 34426 MT
(12.8. Flush Client Caches)SH
10 /Times-Roman AF
6120 35803 MT
(You need to flush the client caches as they will not have the correct volume information anymore.  Use the)SH
/Times-Bold SF
6120 37180 MT
(cfs flushcache)SH
/Times-Roman SF
12286 XM
(command to do this.)SH
14 /Times-Bold AF
6120 40998 MT
(12.9. Test the system)SH
10 /Times-Roman AF
6120 42375 MT
(After you've flushed the client caches the system is ready to run.  Do some testing to)
17 W( make sure Coda is functioning)18 W
6120 43752 MT
(correctly and allow the users back into the system.)SH
6120 75600 MT
(December 21, 1995)SH
51920 XM
(50)SH
ES
%%Page: 51 52
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
44498 XM
(Coda Source Coda Layout)SH
16 /Times-Bold AF
8280 8272 MT
(13. Coda Source Coda Layout)SH
10 /Times-Roman AF
8280 9649 MT
(This chapter)
63 W( is a guide to using and modifying Coda source code at CMU-SCS.  It is mainly intended to help new)62 W
8280 11026 MT
(members of the project)
48 W( come up to speed.  But it may also help sites outside CMU that receive a Coda distribution)49 W
8280 12403 MT
(to devise procedures appropriate to their environments.)SH
14 /Times-Bold AF
8280 16221 MT
(13.1. The Big Picture)SH
10 /Times-Roman AF
8280 17598 MT
(All files relating to Coda, with the sole exception of RCS files \050see Section 13.8\051, are stored)
531 W( in)530 W
/Courier SF
8280 18975 MT
(/coda/project/coda.)SH
/Times-Roman SF
20230 XM
(Let's call this)26 W
/Courier SF
26002 XM
($CODA.)SH
/Times-Roman SF
30154 XM
(The directories under)26 W
/Courier SF
39035 XM
($CODA)SH
/Times-Roman SF
42311 XM
(correspond to different)26 W
/Times-Italic SF
51803 XM
(releases)SH
/Times-Roman SF
8280 20352 MT
(of Coda, such as)76 W
/Courier SF
15444 XM
(alpha,)
326 MX(beta,)SH
/Times-Roman SF
22696 XM
(and so on.  A release is)
76 W( a complete set of)75 W
/Times-Italic SF
40079 XM
(mutually consistent)75 W
/Times-Roman SF
48229 XM
(sources, libraries)75 W
8280 21729 MT
(and binaries.  "Mutually consistent" means, for example,)
90 W( that the Venus and server from a release will work with)91 W
8280 23106 MT
(each other.  It also means that you can)
137 W( freely use the libraries and include files to compile new binaries in that)136 W
8280 24483 MT
(release. There)
250 W( are no guarantees of any kind across releases.)SH
20798 50 11806 24683 UL
8280 26549 MT
(Before a new instance of a release is made, careful thought must be given as)
10 W( to how current users of that release will)11 W
8280 27926 MT
(be affected.)
140 W( Will)
529 W( all such users have to be upgraded in one fell swoop?  Or can they switch over at their own)139 W
8280 29303 MT
(leisure? As)
300 W( the deployed Coda system grows, upgrading everyone in one fell swoop gets harder.  After)
25 W( all, some of)26 W
8280 30680 MT
(the users may be in hiding with their disconnected laptops!)SH
8280 32746 MT
(By convention, the)17 W
/Courier SF
16163 XM
(omega)SH
/Times-Roman SF
19429 XM
(release corresponds to the version of Coda in production use.  Most users' Venii, as well)16 W
8280 34123 MT
(as the servers on production machines, are from this release.  Hence the value of)34 W
/Courier SF
41199 XM
(/usr/coda/SYMLINK)SH
/Times-Roman SF
51684 XM
(on those)35 W
8280 35500 MT
(users' workstations is)SH
/Courier SF
17196 XM
($CODA/omega)SH
/Times-Roman SF
(.)SH
12 /Times-Bold AF
8280 39184 MT
(13.1.1. How versions evolve)SH
10 /Times-Roman AF
8280 40561 MT
(The)SH
/Courier SF
10179 XM
(alpha)SH
/Times-Roman SF
13523 XM
(release of software corresponds)
94 W( to a lightly tested version of the system.  Individual developers have)93 W
8280 41938 MT
(done a significant amount of testing of)134 W
/Courier SF
24911 XM
(alpha)SH
/Times-Roman SF
28295 XM
(software, but)
134 W( it hasn't yet been stressed heavily, nor has it been)135 W
8280 43315 MT
(tested in real use.  Hence)3 W
/Courier SF
18545 XM
(alpha)SH
/Times-Roman SF
21798 XM
(server code should not be run on)
3 W( servers that hold real user data.  They should only)2 W
8280 44692 MT
(be run on the)80 W
/Courier SF
14099 XM
(alpha)SH
/Times-Roman SF
17429 XM
(servers \050also known as "test" servers\051.  Similarly for other)80 W
/Courier SF
41624 XM
(alpha)SH
/Times-Roman SF
44954 XM
(software. When)
412 W( you are)81 W
8280 46069 MT
(doing code development, you usually pick)
44 W( up include files and libraries from the)43 W
/Courier SF
41340 XM
(alpha)SH
/Times-Roman SF
44633 XM
(release. Thus,)
336 W( the private)43 W
8280 47446 MT
(versions of software you build is, at best, of)SH
/Courier SF
26028 XM
(alpha)SH
/Times-Roman SF
29278 XM
(quality.)SH
8280 49512 MT
(The)SH
/Courier SF
10112 XM
(beta)SH
/Times-Roman SF
12789 XM
(release corresponds to a version of the system that is expected)
27 W( to be released soon for production use.  A)28 W
8280 50889 MT
(small number of users, typically members of the Coda)
9 W( project, depend upon this release.  Actual use by such users is)8 W
8280 52266 MT
(part of the testing of the)263 W
/Courier SF
19690 XM
(beta)SH
/Times-Roman SF
22603 XM
(release. Eventually,)
776 W( when we)
263 W( have enough confidence in the stability and)264 W
8280 53643 MT
(correctness of the)SH
/Courier SF
15583 XM
(beta)SH
/Times-Roman SF
18233 XM
(release, we promote it)SH
/Courier SF
27314 XM
(omega.)SH
8280 55709 MT
(beta)SH
/Times-Roman SF
10987 XM
(is really a symlink to a volume mount point)57 W
/Courier SF
29195 XM
(beta-<unique>)SH
/Times-Roman SF
(, where)57 W
/Courier SF
40302 XM
(<unique>)SH
/Times-Roman SF
45409 XM
(is an identifier made up)57 W
8280 57086 MT
(by the)235 W
/Courier SF
11472 XM
(makebeta)SH
/Times-Roman SF
16758 XM
(script described below.  Upgrading the)236 W
/Courier SF
33921 XM
(beta)SH
/Times-Roman SF
36807 XM
(release consists of creating a new volume,)236 W
8280 58463 MT
(mounting it at)7 W
/Courier SF
14163 XM
(beta-<unique>)SH
/Times-Roman SF
(, populating it using the steps described in Section 13.6.1, and finally changing the)7 W
/Courier SF
8280 59840 MT
(beta)SH
/Times-Roman SF
10954 XM
(symlink to point to)24 W
/Courier SF
18885 XM
(beta-<unique>)SH
/Times-Roman SF
(. The)
298 W( old)24 W
/Courier SF
30864 XM
(beta)SH
/Times-Roman SF
33538 XM
(volume is preserved for a while, until is clear that the)24 W
8280 61217 MT
(new release hasn't triggered any serious problems.)
58 W( It)
365 W( can then be purged to reclaim space, or recycled for a future)57 W
8280 62594 MT
(beta release.)SH
/Courier SF
8280 64660 MT
(omega)SH
/Times-Roman SF
11663 XM
(is also a)
133 W( symlink to a volume mount point)134 W
/Courier SF
29896 XM
(beta-<unique>)SH
/Times-Roman SF
(. After)
518 W( a)134 W
/Courier SF
42036 XM
(beta)SH
/Times-Roman SF
44820 XM
(release has been running)134 W
8280 66037 MT
(robustly for a while, it is upgraded to)284 W
/Courier SF
25634 XM
(omega)SH
/Times-Roman SF
29168 XM
(by merely)
284 W( changing the value of the)283 W
/Courier SF
45786 XM
(omega)SH
/Times-Roman SF
49319 XM
(symlink. No)816 W
8280 67414 MT
(recompilation is involved.)SH
8280 69480 MT
(When a)545 W
/Courier SF
12703 XM
(beta-<unique>)SH
/Times-Roman SF
21299 XM
(release is created, the)546 W
/Courier SF
32285 XM
(makebeta)SH
/Times-Roman SF
37881 XM
(script creates an RCS branch named)546 W
/Courier SF
8280 70857 MT
(beta-<unique>)SH
/Times-Roman SF
16398 XM
(for every file in the release.  Normally no)
68 W( development or changes are done along this branch.)67 W
8280 75600 MT
(December 21, 1995)SH
54080 XM
(51)SH
ES
%%Page: 52 53
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
42338 XM
(Coda Source Coda Layout)SH
6120 7886 MT
(However, it provides a way to introduce an emergency fix in a)SH
/Courier SF
31364 XM
(beta)SH
/Times-Roman SF
34014 XM
(or)SH
/Courier SF
35097 XM
(omega)SH
/Times-Roman SF
38347 XM
(release if the need ever arises.)SH
12 /Times-Bold AF
6120 11570 MT
(13.1.2. How code is developed)SH
10 /Times-Roman AF
6120 12947 MT
(Let's illustrate this with a specific example. Suppose I want to upgrade the module)30 W
/Courier SF
39897 XM
(rpc2)SH
/Times-Roman SF
42577 XM
(and build a new Venus to)30 W
6120 14324 MT
(use the upgrade.  I begin by creating two private directories, say)371 W
/Courier SF
36455 XM
(/coda/usr/satya/src/rpc2)SH
/Times-Roman SF
51476 XM
(and)SH
/Courier SF
6120 15701 MT
(/coda/usr/satya/src/venus)SH
/Times-Roman SF
(, and populating them with source files)
87 W( from the)88 W
/Courier SF
41404 XM
(alpha)SH
/Times-Roman SF
44742 XM
(release of these two)88 W
6120 17078 MT
(modules. Section)
412 W( 13.8 tells)
81 W( you how this step actually gets done.  Now I proceed to modify files in)80 W
/Courier SF
47638 XM
(rpc2)SH
/Times-Roman SF
50368 XM
(and to)80 W
6120 18455 MT
(compile and test the module using standalone test programs.  Then I modify)
44 W( files in)45 W
/Courier SF
40447 XM
(venus)SH
/Times-Roman SF
43742 XM
(to use the upgrade and)45 W
6120 19832 MT
(then build a Venus.  When building Venus, I must make)
64 W( sure that the version of)63 W
/Courier SF
39301 XM
(rpc2)SH
/Times-Roman SF
42014 XM
(used is the one I just built.)63 W
6120 21209 MT
(Section 13.5 tells you how to do this.  Now I)
57 W( have a Venus that I can test.  As bugs are found in the new Venus, I)58 W
6120 22586 MT
(iterate the)
127 W( above procedure.  When I am confident that my changes to)126 W
/Courier SF
35863 XM
(rpc2)SH
/Times-Roman SF
38639 XM
(and)SH
/Courier SF
40459 XM
(venus)SH
/Times-Roman SF
43835 XM
(are right, I update the)126 W
/Courier SF
6120 23963 MT
(alpha)SH
/Times-Roman SF
9370 XM
(release of these two modules.)SH
6120 26029 MT
(The process of updating the)13 W
/Courier SF
17545 XM
(alpha)SH
/Times-Roman SF
20809 XM
(release is known as)14 W
/Times-Italic SF
28863 XM
(installation.)SH
/Times-Roman SF
34198 XM
(Installation is the point at which work done by)14 W
6120 27406 MT
(a Coda project member becomes visible to others)
65 W( in the project.  Prior to this point, all work is done in that user's)64 W
6120 28783 MT
(own private directory.  Installation always occurs at the granularity of entire)99 W
/Times-Italic SF
37996 XM
(modules.)SH
/Times-Roman SF
42277 XM
(In other words, one never)99 W
6120 30160 MT
(installs an individual library, include file, etc.  Rather the entire source code for a module and all relevant)
142 W( files)141 W
6120 31537 MT
(compiled from it are installed together.  Modified files are automatically checked into)
12 W( RCS as part of the installation)13 W
6120 32914 MT
(procedure. At)
308 W( some future time, these changes along with many others that were)
29 W( installed will make it into a)28 W
/Courier SF
50520 XM
(beta)SH
/Times-Roman SF
6120 34291 MT
(release. Section)
250 W( 13.6 shows you how this is done.  After some use as)SH
/Courier SF
34061 XM
(beta)SH
/Times-Roman SF
(, it will be promoted to)SH
/Courier SF
45878 XM
(omega)SH
/Times-Roman SF
(.)SH
14 /Times-Bold AF
6120 38109 MT
(13.2. Layout of Source Code)SH
12 SS 
6120 41793 MT
(13.2.1. Layout of a Release)SH
10 /Times-Roman AF
6120 43170 MT
(Each release has the structure shown in Figure 13-1.  Note that this layout is identical for all releases.)SH
7 10 0 8352 91147 GB 
%%BeginDocument: FIGS/coda-releases-fig.ps
%!PS-Adobe-3.0
%%Creator: Cricket Draw III
%%Title: coda-releases-fig
%%BoundingBox: 0 0 552 730 
%%DocumentData: Clean7Bit
%%CreationDate: 9/23/92 5:58 PM
%%DocumentFonts: Courier
%%DocumentProcessColors: Cyan Magenta Yellow Black
%%ColorUsage: Color
%%EndComments
save
200 dict begin
%%BeginProlog
/FindFlatness %% Proc -- %%
{
{
dup 
{flattenpath exec} stopped
{
pop currentflat 100 ge {exit} if 
currentflat 1.25 mul setflat
}
{exit} ifelse
} bind loop
pop
newpath
} def
/QDShow %% string qdwidth -- %%
{
1 index length 1 le
{
pop show
}
{
1 index stringwidth pop sub 1 index length 1 sub div 0 3 -1 roll ashow
} ifelse
} def
/PathText %% string offset -- %%
{
/cd_FM true def
/cd_offset exch def
/cd_string exch def
/cd_offset cd_offset cd_string 0 1 getinterval stringwidth pop 2 div add def
/cd_pathdist 0 def 
/cd_setdist cd_offset def
/cd_charcount 0 def
gsave
flattenpath 
{mtp}{ltp}{ctp}{cpp}pathforall 
grestore
} bind def
/mtp 
{
/cd_newy exch def
/cd_newx exch def
/cd_firstx cd_newx def
/cd_firsty cd_newy def
/cd_ovr 
cd_FM 
{cd_offset /cd_FM false def}
{0} ifelse 
def 
cd_newx cd_newy transform 
/cd_cpy exch def
/cd_cpx exch def
}bind def
/ltp 
{
/cd_oldx cd_newx def
/cd_oldy cd_newy def
/cd_newy exch def
/cd_newx exch def
/cd_dx cd_newx cd_oldx sub def
/cd_dy cd_newy cd_oldy sub def
/cd_dist cd_dx dup mul cd_dy dup mul add sqrt def 
cd_dist 0 ne
{
/cd_dsx cd_dx cd_dist div cd_ovr mul def 
/cd_dsy cd_dy cd_dist div cd_ovr mul def 
cd_oldx cd_dsx add cd_oldy cd_dsy add transform
/cd_cpy exch def
/cd_cpx exch def
/cd_pathdist cd_pathdist cd_dist add def
{
cd_setdist cd_pathdist le
{
cd_charcount cd_string length lt
{setchar}
{exit} ifelse
}
{
/cd_ovr cd_setdist cd_pathdist sub def
exit
} ifelse
}loop
} if
} bind def
/cpp 
{
cd_firstx cd_firsty ltp 
cd_firstx cd_firsty mtp
} bind def 
/setchar 
{
/cd_char cd_string cd_charcount 1 getinterval def
/cd_charcount cd_charcount 1 add def
/cd_charwidth cd_char stringwidth pop 2 div def 
gsave
cd_cpx cd_cpy itransform translate
cd_dy cd_dx atan rotate 
cd_charwidth neg 0 moveto 
cd_char 
cd_setdist 0 lt 
{stringwidth pop 0 rmoveto}
{show} ifelse
cd_charcount cd_string length lt
{
cd_string cd_charcount 1 getinterval stringwidth pop 2 div 0 rmoveto
} if
currentpoint transform 
/cd_cpy exch def 
/cd_cpx exch def 
grestore
/cd_setdist cd_setdist cd_charwidth add def
/cd_pathoffset cd_pathoffset cd_charwidth 2 mul add store
cd_charcount cd_string length lt
{
/cd_setdist cd_setdist cd_string cd_charcount 1 getinterval stringwidth pop 2 div add def
} if
} bind def
/OffsetCalc
{
/cd_textlength exch def
/cd_just exch def
/cd_dist 0 def
gsave
flattenpath
{
/cd_newy exch def 
/cd_newx exch def
/cd_firsty cd_newy def
/cd_firstx cd_newx def
}
{
/cd_oldy exch def
/cd_oldx exch def
/cd_dx cd_oldx cd_newx sub def 
/cd_dy cd_oldy cd_newy sub def
/cd_dist cd_dx dup mul cd_dy dup mul add sqrt cd_dist add def
/cd_newx cd_oldx def
/cd_newy cd_oldy def
}
{
}
{
/cd_dx cd_firstx cd_newx sub def
/cd_dy cd_firsty cd_newy sub def
/cd_dist cd_dx dup mul cd_dy dup mul add sqrt cd_dist add def
}
pathforall
cd_just 0 eq
{
/cd_pathoffset 0 store
} if
cd_just 1 eq
{
/cd_pathoffset cd_dist cd_textlength sub 2 div store
}if
cd_just 2 eq
{
/cd_pathoffset cd_dist cd_textlength sub store
}if
grestore
} bind def
/MakeUnderlineFont 
{
dup FontDirectory exch known 
{ 
pop pop
}
{
20 dict begin
exch /BaseFont exch findfont def
/uniqueid 
BaseFont dup /UniqueID known 
{/UniqueID get 1 add}
{pop 1} ifelse
def
/FontType 3 def
/Upos 
BaseFont /FontInfo 2 copy known
{
get /UnderlinePosition 2 copy known
{get}
{pop pop -100 }ifelse
}
{ pop pop -100 }ifelse 
def
/Uwid 
BaseFont /FontInfo 2 copy known
{
get /UnderlineThickness 2 copy known
{get}
{pop pop 50} ifelse
}
{pop pop 50} ifelse
def
/FontMatrix BaseFont /FontMatrix get def
/FontBBox BaseFont /FontBBox get
dup 1 get Upos gt
{
dup 1 Upos put
}if
def
/Encoding BaseFont /Encoding get def
/theChar 1 string def
/BuildChar
{
exch
begin
theChar 0 3 -1 roll put
BaseFont 1000 scalefont setfont
theChar stringwidth FontBBox setcachedevice
0 0 moveto
theChar show
0 Upos rmoveto 0 Upos lineto
Uwid setlinewidth stroke
end
} def
currentdict 
end
definefont pop
} ifelse
} def
/MakeOutlineFont 
{
dup FontDirectory exch known 
{ 
pop pop
}
{
/pathwidth 1000 24 div def 
/newfontname exch def 
/basefontname exch def 
/uniqueid 
basefontname findfont dup /UniqueID known 
{
/UniqueID get 1 add
}
{
pop 1
}ifelse
def
/BaseFont basefontname findfont def 
/numentries BaseFont maxlength 1 add def 
BaseFont /UniqueID known not
{
/numentries numentries 1 add def
} if
/NewFont numentries dict def 
BaseFont
{ 
exch dup /FID ne
{exch NewFont 3 1 roll put}
{pop pop} ifelse
}forall
NewFont /FontName newfontname put
NewFont /PaintType 2 put
NewFont /StrokeWidth pathwidth put
NewFont /UniqueID uniqueid put
newfontname NewFont definefont pop
}ifelse
}def
/macvec dup where not 
{ 256 array def
macvec 0 StandardEncoding
0 128 getinterval putinterval
macvec 16#27 /quotesingle put
macvec 16#60 /grave put
/Adieresis /Aring /Ccedilla /Eacute /Ntilde /Odieresis /Udieresis /aacute
/agrave /acircumflex /adieresis /atilde /aring /ccedilla /eacute /egrave
/ecircumflex /edieresis /iacute /igrave /icircumflex /idieresis /ntilde /oacute
/ograve /ocircumflex /odieresis /otilde /uacute /ugrave /ucircumflex /udieresis
/dagger /degree /cent /sterling /section /bullet /paragraph /germandbls
/registersans /copyrightsans /trademarksans /acute /dieresis /notequal /AE /Oslash
/infinity /plusminus /lessequal /greaterequal /yen /mu /partialdiff /summation
/product /pi /integral /ordfeminine /ordmasculine /Omega /ae /oslash
/questiondown /exclamdown /logicalnot /radical /florin /approxequal /Delta /guillemotleft
/guillemotright /ellipsis /space /Aacute /Atilde /Otilde /OE /oe
/endash /emdash /quotedblleft /quotedblright /quoteleft /quoteright /divide /lozenge
/ydieresis /Ydieresis /fraction /currency /guilsinglleft /guilsinglright /fi /fl
/daggerdbl /periodcentered /quotesinglbase /quotedblbase /perthousand
/Acircumflex /Ecircumflex /Agrave
/Edieresis /Egrave /Iacute /Icircumflex /Idieresis /Igrave /Oacute /Ocircumflex
/apple /Ograve /Uacute /Ucircumflex /Ugrave /dotlessi /circumflex /tilde
/macron /breve /dotaccent /ring /cedilla /hungarumlaut /ogonek /caron
macvec 128 128 getinterval astore pop
}
{pop pop} ifelse
/CreateFontDict 
{
dup length dict
/cd_NewFontDict exch def
{
1 index
/FID ne
{
cd_NewFontDict 3 1 roll put
}
{
pop pop
} ifelse
} forall
cd_NewFontDict
} def
/CoordinateFont 
{
dup 
/cd_FontString exch def 
length 7 add string
/cd_CoFontString exch def
cd_CoFontString 0 (|______) putinterval cd_CoFontString 7 cd_FontString putinterval
/cd_FontName cd_CoFontString cvn def 
FontDirectory cd_FontName known not
{
cd_FontString cvn findfont CreateFontDict
/cd_NewFontDict exch def
cd_NewFontDict dup 
/FontName cd_FontName put 
/Encoding macvec put
cd_FontName cd_NewFontDict definefont pop
} if
} def
/cd_defaultscreen [ currentscreen ] def
/SetDefaultScreen
{
cd_defaultscreen aload pop setscreen
} def
/Default
{
cd_defaultscreen 2 get exec
} def
/WhiteDot 
{
dup mul exch dup mul add 1 sub
} bind def
/BlackDot 
{
dup mul exch dup mul add 1 exch sub
} bind def
/HLines 
{
exch pop abs 1 exch sub
} bind def
/VLines 
{
pop abs 2 mul 1 exch sub
} bind def
/Poster
{
{
dup 0.5 lt 
{
dup 0.3 gt 
{pop 0.4} 
{0.1 gt 
{0.2} 
{0.0} ifelse
} ifelse
}
{
dup 0.7 lt 
{pop 0.6} 
{
0.9 lt 
{0.8} 
{1.0} ifelse
} ifelse
} ifelse
} settransfer
} def 
/Ellipse 
{
dup mul .625 mul exch dup mul add 1 exch sub
} bind def
/Square 
{
abs exch abs 2 copy gt{exch} if pop
} bind def
/Diamond 
{
abs exch abs add 1 exch sub
} bind def
/BlackCircle 
{
dup mul exch dup mul add 0.6 exch sub abs -0.5 mul
} bind def
/WhiteCircle 
{
dup mul exch dup mul add 0.6 exch sub abs 0.5 mul
} bind def
/Triangle 
{
2 exch sub exch abs 2 mul sub 3 div
} bind def
/Grid 
{
2 copy abs exch abs gt {exch} if pop 2 mul 1 exch sub 3.5 div
} bind def
/Ripples 
{
/wy exch def 180 mul cos 2 div wy dup dup dup mul mul sub mul wy add 180 mul cos
} bind def
/Star 
{
abs exch abs 2 copy gt {exch} if 1 sub dup 0 eq {0.01 add} if atan 360 div
} bind def
/max
{
2 copy lt{exch}if pop
} def
/min
{
2 copy gt{exch}if pop
} def
/concatprocs %% Proc1 Proc2 -- Proc1Proc2 %%
{
/Proc1 exch cvlit def
/Proc2 exch cvlit def
/NewProc Proc1 length Proc2 length add array def
NewProc 0 Proc1 putinterval
NewProc Proc1 length Proc2 putinterval
NewProc cvx
} def
/ndf %% key value -- %%
{
1 index where{pop pop pop}{dup xcheck{bind}if def}ifelse
} def
/setcmykcolor %% Cyan Magenta Yellow Black -- %%
{
1 exch sub 3 {dup 5 -1 roll sub 0 max exch} repeat pop setrgbcolor
} ndf
/findcmykcustomcolor %% Cyan Magenta Yellow Black SpotName -- Object %%
{
[ 6 1 roll ] 
} ndf
/setcustomcolor %% object tint -- %%
{
/cd_tint exch def
0 4 getinterval
{ cd_tint mul } forall
setcmykcolor
} ndf
/cmyktorgb %% Cyan Magenta Yellow Black -- Red Green Blue %%
{
3 {dup 5 -1 roll add dup 1 gt {pop 1} if 1 exch sub exch} repeat pop
} def
/rgbtocmyk %% Red Green Blue -- Cyan Magenta Yellow Black %%
{
3 {3 -1 roll 1 exch sub} repeat
3 copy min min 
3 {4 -1 roll 1 index sub exch} repeat
} def
/cmyktohls %% Cyan Magenta Yellow Black -- Hue Lightness Saturation %%
{
cmyktorgb
3 copy min min 4 1 roll
3 copy max max 5 -1 roll
2 copy add 2 div 6 1 roll
2 copy eq 
{
5 {pop} repeat
0 exch 0
}
{
5 index
0.5 le
{
2 copy 2 copy
sub 3 1 roll
add div
}
{
2 copy 2 copy
sub 2 exch sub 3 1 roll
sub exch div 
} ifelse
6 1 roll
2 copy sub
5 index 3 index eq
{
3 1 roll pop pop
4 -3 roll sub exch pop exch div
}
{
4 index 3 index eq
{
3 1 roll pop pop
4 -3 roll exch pop exch sub 2 add exch div
}
{
3 1 roll pop pop
4 -3 roll pop sub 4 add exch div
} ifelse
} ifelse
60 mul dup 0 lt {360 add} if
3 1 roll
} ifelse
} def
/value
{
dup 360 gt {360 sub} if
dup 0 lt {360 add} if
dup
60 lt 
{
60 div 3 1 roll 2 copy sub 4 -1 roll mul add exch pop
}
{
dup 180 lt
{
pop pop
}
{
dup 240 lt
{
240 exch sub 60 div
3 copy pop sub mul add exch pop
}
{
pop exch pop
} ifelse
} ifelse
} ifelse
} def
/hlstocmyk %% Hue Lightness Saturation -- Cyan Magenta Yellow Black %%
{
dup 0 eq
{
pop exch pop dup dup
}
{
1 index 0.5 le
{
2 copy 1 add mul
}
{
2 copy 2 copy add 3 1 roll mul sub
} ifelse
2 index 1 index sub 2 mul
5 -3 roll pop pop
3 copy 120 add value 4 1 roll
3 copy value 4 1 roll
120 sub value 
} ifelse
rgbtocmyk
} def
/D3PathProc %% PathArray -- %%
{
{
dup length
dup 6 eq
{ pop aload pop curveto }
{ 
dup 2 eq
{ pop aload pop lineto }
{
3 eq
{ aload pop pop moveto }
{ pop closepath } ifelse
} ifelse
} ifelse
} forall
} def
/fntnIncColor %% StartDistance EndDistance CurrentDistance -- %%
{
fntnBColor length 6 eq
{
fntnMix 0 eq
{
2 index sub 3 -2 roll exch sub div
}
{
3 -1 roll sub exch pop fntnGrain idiv fntnBuf exch get
} ifelse
fntnEColor 5 get fntnBColor 5 get sub mul fntnBColor 5 get add
fntnBColor aload pop pop findcmykcustomcolor exch setcustomcolor
}
{
dup 3 index eq fntnMix 0 eq and
{ pop pop pop fntnBColor aload pop fntnModel 0 ne {hlstocmyk} if }
{
dup 2 index eq fntnMix 0 eq and
{ pop pop pop fntnEColor aload pop fntnModel 0 ne {hlstocmyk} if }
{
fntnMix 0 eq
{ 2 index sub 3 -2 roll exch sub div }
{ 3 -1 roll sub exch pop fntnGrain idiv fntnBuf exch get } ifelse
dup fntnBColor 0 get fntnEColor 0 get 1 index sub 3 -1 roll mul add exch
dup fntnBColor 1 get fntnEColor 1 get 1 index sub 3 -1 roll mul add exch
fntnModel 0 eq
{
dup fntnBColor 2 get fntnEColor 2 get 1 index sub 3 -1 roll mul add exch
fntnBColor 3 get fntnEColor 3 get 1 index sub 3 -1 roll mul add
}
{
fntnBColor 2 get fntnEColor 2 get 1 index sub 3 -1 roll mul add
hlstocmyk
} ifelse
} ifelse
} ifelse
setcmykcolor
} ifelse
} def
/fntnlinear %% DirectionData -- %%
{
aload pop
/stop [ 4 -2 roll] def
pop pop 4 2 roll
/start [ 4 -2 roll] def
start 1 get sub exch 
start 0 get sub
fntnSteps div exch fntnSteps div
3 -1 roll pop
gsave
0 fntnGrain fntnSteps 1 sub mul dup fntnIncColor
/eofill load FindFlatness
grestore
2 copy 2 div exch 2 div exch
translate
0 fntnGrain dup fntnSteps 1 sub mul 
{
0 fntnGrain fntnSteps mul 3 -1 roll fntnIncColor
newpath
start aload pop
moveto
stop aload pop
lineto
stroke
1 index 1 index
translate
} for
pop pop
} def
/fntnecho %% DirectionData -- %%
{
aload
5 {pop} repeat
2 index sub exch 4 -1 roll sub
3 -1 roll pop
fntnSteps div exch fntnSteps div
3 -1 roll pop
gsave
0 fntnGrain fntnSteps 1 sub mul dup fntnIncColor
/eofill load FindFlatness
grestore
2 copy 2 div exch 2 div exch
translate
0 fntnGrain dup fntnSteps 1 sub mul 
{
0 fntnGrain fntnSteps mul 3 -1 roll fntnIncColor
D3ObjectProc closepath
/stroke load FindFlatness
1 index 1 index
translate
} for
pop pop
} def
/fntnradial %% OffsetData -- %%
{
aload pop
/fntnERadius exch fntnGrain 2 div sub round cvi def
/fntnBRadius exch fntnGrain 2 div sub round cvi def
translate
gsave
fntnBRadius fntnERadius fntnBRadius fntnIncColor
/eofill load FindFlatness
grestore
fntnBRadius fntnGrain fntnERadius 
{
fntnBRadius fntnERadius 2 index fntnIncColor 
newpath 0 0 3 -1 roll 0 360 arc
/stroke load FindFlatness
} for
} def
/fntnshape %% OffsetData -- %%
{
aload pop
/fntnERadius exch fntnGrain 2 div sub round cvi def
/fntnBRadius exch fntnGrain 2 div sub round cvi def
D3ObjectProc pathbbox
2 index add 2 div exch
4 -2 roll pop add 2 div exch
/objCX 2 index def /objCY 1 index def
2 index sub exch 
4 -2 roll pop sub fntnSteps div neg exch
fntnSteps div neg
gsave
fntnBRadius fntnERadius fntnERadius fntnIncColor
/eofill load FindFlatness
grestore
fntnBRadius fntnGrain fntnERadius 
{
fntnBRadius fntnERadius 2 index fntnIncColor
gsave
objCX objCY 
translate
fntnERadius dup 3 -1 roll sub exch div dup
scale
objCX neg objCY neg 
translate
D3ObjectProc
/eofill load FindFlatness
grestore
1 index 1 index
translate
} for
2 {pop} repeat
} def
/fntn %% OffsetData Grain Steps Startcolor Endcolor Buffer Mix Model Style -- %%
{ 
/fntnStyle exch def
/fntnModel exch def
/fntnMix exch def
/fntnBuf exch def
fntnModel 0 eq
{
/fntnEColor exch def
/fntnBColor exch def
}
{
/fntnEColor [ 3 -1 roll aload pop cmyktohls ] def
/fntnBColor [ 3 -1 roll aload pop cmyktohls ] def
} ifelse
/fntnSteps exch def
/fntnGrain exch def
fntnGrain setlinewidth
fntnStyle 0 eq {fntnlinear}
{ fntnStyle 1 eq {fntnecho} 
{ fntnStyle 2 eq {fntnradial} 
{fntnStyle 3 eq {fntnshape} 
{ pop } ifelse
} ifelse
} ifelse
} ifelse
} def 
/shdwIncColor %% StartDistance EndDistance CurrentDistance -- %%
{
shdwBColor length 6 eq
{
2 index sub 3 -2 roll exch sub div
shdwEColor 5 get shdwBColor 5 get sub mul shdwBColor 5 get add
shdwBColor aload pop pop findcmykcustomcolor exch setcustomcolor
}
{
dup 3 index eq
{ pop pop pop shdwBColor aload pop shdwModel 0 ne {hlstocmyk} if }
{
dup 2 index eq 
{ pop pop pop shdwEColor aload pop shdwModel 0 ne {hlstocmyk} if }
{
2 index sub 3 -2 roll exch sub div
dup shdwBColor 0 get shdwEColor 0 get 1 index sub 3 -1 roll mul add exch
dup shdwBColor 1 get shdwEColor 1 get 1 index sub 3 -1 roll mul add exch
shdwModel 0 eq
{
dup shdwBColor 2 get shdwEColor 2 get 1 index sub 3 -1 roll mul add exch
shdwBColor 3 get shdwEColor 3 get 1 index sub 3 -1 roll mul add
}
{
shdwBColor 2 get shdwEColor 2 get 1 index sub 3 -1 roll mul add
hlstocmyk
} ifelse
} ifelse
} ifelse
setcmykcolor
} ifelse
} def
/shdwdrop %% -- %%
{
shdwDColor length 6 eq
{
shdwDColor aload pop
/cd_tint exch def
findcmykcustomcolor cd_tint setcustomcolor
D3ObjectProc shdwOp
}
{
shdwDColor aload 
length 0 gt
{
shdwModel 0 ne { hlstocmyk } if
setcmykcolor
D3ObjectProc shdwOp
} if
} ifelse
} def
/shdwfull %% -- %%
{
shdwLength shdwAngle cos mul shdwSteps div neg
shdwLength shdwAngle sin mul shdwSteps div neg
0 shdwGrain dup shdwSteps 1 sub mul 
{
dup 0 eq 
{pop shdwdrop}
{
0 shdwGrain shdwSteps mul 3 -1 roll shdwIncColor
D3ObjectProc shdwOp
} ifelse
1 index 1 index
translate
} for
pop pop
} def
/shdw %% StartRGB EndRGB DropRGB Steps Grain Length Angle Mix Model Style -- %%
{
/shdwStyle exch def
/shdwModel exch def
/shdwMix exch def
/shdwAngle exch def
/shdwLength exch def
/shdwGrain exch def
/shdwSteps exch def
shdwModel 0 eq
{
/shdwDColor exch def
/shdwBColor exch def
/shdwEColor exch def
}
{
/shdwDColor [ 3 -1 roll aload length 0 gt {cmyktohls} if ] def
/shdwBColor [ 3 -1 roll aload pop cmyktohls ] def
/shdwEColor [ 3 -1 roll aload pop cmyktohls ] def
} ifelse
shdwSteps 0 ne shdwLength 0 ne and
{
gsave
shdwLength shdwAngle cos mul 
shdwLength shdwAngle sin mul
translate
shdwStyle 0 eq
{ shdwdrop }
{ shdwfull } ifelse
grestore
} if
} def
/colorimage %% width height bitspersample matrix proc xxx numplanes --
{
3 ne {exit} if
{exit} if
pop
{
currentfile cd_ImageStr readhexstring pop /cd_string exch def
0 1 cd_string length 3 div 1 sub
{
dup 3 mul
dup cd_string exch get 6 mul exch
dup 1 add cd_string exch get 3 mul exch 
2 add cd_string exch get
add add 10 div round cvi
cd_string 3 1 roll put
} for
cd_string dup length 3 idiv 0 exch getinterval
}
image
} ndf
/ReadToAsterick %% --
{
/cd_String 1 string def
0
{
currentfile cd_String readstring not {pop exit} if
0 get dup 42 eq 
{ 
pop 1 eq 
{ 
(BitMap Error: To much data) ==
} if 
exit
} 
{
32 gt 
{pop 1} if 
} ifelse
} loop
} def
/D3ImageProc %% Width Height -- %%
{
/cd_ImageStr 2 index 7 add 8 idiv string def
true
[ 3 index 0 dup 5 index neg 0 dup ]
{ currentfile cd_ImageStr readhexstring pop }
imagemask
ReadToAsterick
} def
/D3ColorImageProc %% Width Height BitsPerSample -- %%
{
/cd_ImageStr 3 index 8 3 index idiv dup 1 sub 3 -1 roll add exch idiv 3 mul string def
[ 3 index 0 dup 5 index neg 0 dup ]
{ currentfile cd_ImageStr readhexstring pop }
false 3
colorimage
ReadToAsterick
} def
%%EndProlog
%% -------- Begin Program --------- %%
systemdict /setpacking known
{
true setpacking
} if
2 setlinecap
0 setlinejoin

(Courier) CoordinateFont
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [279 650 0 ] put
D3PathArray 1 [19 541.001 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [284 648 0 ] put
D3PathArray 1 [83.5 541.080 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [288 648 0 ] put
D3PathArray 1 [153 539.5 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [291 646 0 ] put
D3PathArray 1 [190.501 540.5 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [296 647 0 ] put
D3PathArray 1 [242.093 540.48 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [299 645 0 ] put
D3PathArray 1 [282.726 540.215 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [303 647 0 ] put
D3PathArray 1 [337 538.501 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [309.999 648 0 ] put
D3PathArray 1 [386 537 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 230 668 ] concat
0 0 0 1 setcmykcolor
/|______Courier findfont 12 scalefont setfont
14 -14 moveto
(...../beta) 70 QDShow
grestore
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 -11 542.5 ] concat
0 0 0 1 setcmykcolor
/|______Courier findfont 9 scalefont setfont
12 -12 moveto
(include) 35 QDShow
grestore
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 33.5 542.5 ] concat
0 0 0 1 setcmykcolor
/|______Courier findfont 9 scalefont setfont
12 -12 moveto
(include-special) 75 QDShow
grestore
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 170 542.5 ] concat
0 0 0 1 setcmykcolor
/|______Courier /CourierU MakeUnderlineFont
/CourierU findfont 9 scalefont setfont
11 -12 moveto
(bin) 15 QDShow
grestore
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 204.445 542.5 ] concat
0 0 0 1 setcmykcolor
/|______Courier /CourierU MakeUnderlineFont
/CourierU findfont 9 scalefont setfont
5 -12 moveto
(bin-special) 55 QDShow
grestore
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 269.803 542.5 ] concat
0 0 0 1 setcmykcolor
/|______Courier /CourierU MakeUnderlineFont
/CourierU findfont 9 scalefont setfont
7 -12 moveto
(lib) 15 QDShow
grestore
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 295 542.5 ] concat
0 0 0 1 setcmykcolor
/|______Courier /CourierU MakeUnderlineFont
/CourierU findfont 9 scalefont setfont
6 -12 moveto
(lib-special) 55 QDShow
grestore
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 136 542.5 ] concat
0 0 0 1 setcmykcolor
/|______Courier findfont 9 scalefont setfont
10 -12 moveto
(src) 15 QDShow
grestore
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 358 542.5 ] concat
0 0 0 1 setcmykcolor
/|______Courier findfont 9 scalefont setfont
6 -12 moveto
(pmax_mach) 45 QDShow
grestore
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [313 650 0 ] put
D3PathArray 1 [494 538.5 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 456 542.5 ] concat
0 0 0 1 setcmykcolor
/|______Courier findfont 9 scalefont setfont
14 -12 moveto
(i386_mach) 45 QDShow
grestore
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 340.223 488.5 ] concat
0 0 0 1 setcmykcolor
/|______Courier findfont 9 scalefont setfont
4 -12 moveto
(bin...lib-special) 85 QDShow
grestore
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [381.5 524.5 0 ] put
D3PathArray 1 [351.107 484.266 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [385 523.5 0 ] put
D3PathArray 1 [367.467 484.265 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [394.5 524 0 ] put
D3PathArray 1 [416.017 483.21 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 453.75 489.25 ] concat
0 0 0 1 setcmykcolor
/|______Courier findfont 9 scalefont setfont
4 -12 moveto
(bin..lib-special) 80 QDShow
grestore
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [489.75 525.25 0 ] put
D3PathArray 1 [466.25 484.75 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [493.25 524.25 0 ] put
D3PathArray 1 [479.344 483.738 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [502.75 524.75 0 ] put
D3PathArray 1 [530.25 483.75 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 98.5 488 ] concat
0 0 0 1 setcmykcolor
/|______Courier findfont 9 scalefont setfont
5 -12 moveto
(README...... vtools) 95 QDShow
grestore
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [147.5 527.5 0 ] put
D3PathArray 1 [107 485.5 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [150.5 526.5 0 ] put
D3PathArray 1 [139.5 487.5 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [158.5 527.5 0 ] put
D3PathArray 1 [197.5 486 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [319.5 651 0 ] put
D3PathArray 1 [551.499 573.001 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 450 583.5 ] concat
0 0 0 1 setcmykcolor
/|______Courier findfont 9 scalefont setfont
13 -12 moveto
(............) 60 QDShow
grestore
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [154.019 525.428 0 ] put
D3PathArray 1 [166.157 488.487 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
end
showpage
restore
%%Trailer

%%EndDocument
 GE 8 SS 
8955 59356 MT
(The underlined names are symlinks to machine-specific directories.  On a 386 machine for example,)131 W
/Courier SF
43231 XM
(bin)SH
/Times-Roman SF
45002 XM
(is a symlink to)132 W
1440 50 43231 59556 UL
/Courier SF
8955 60280 MT
(i386_mach/bin.)SH
/Times-Roman SF
16087 XM
(Although only two machine-specific directories)
6 W( \050)5 W
/Courier SF
(pmax_mach)SH
/Times-Roman SF
36386 XM
(and)SH
/Courier SF
37746 XM
(i386_mach)SH
/Times-Roman SF
(\051 are shown, there can be)5 W
8955 61204 MT
(many more.)SH
10 /Times-Bold AF
21063 62814 MT
(Figure 13-1:)SH
/Times-Roman SF
26812 XM
(Structure of a Coda Release)SH
6120 64880 MT
(The source tree for)
105 W( the release is in)106 W
/Courier SF
21238 XM
(src)SH
/Times-Roman SF
(. A)
462 W( copy of the header files from)106 W
/Courier SF
37544 XM
(src)SH
/Times-Roman SF
39700 XM
(is in)106 W
/Courier SF
41857 XM
(include)SH
/Times-Roman SF
(. Both)462 W
/Courier SF
49320 XM
(src)SH
/Times-Roman SF
51476 XM
(and)SH
/Courier SF
6120 66257 MT
(include)SH
/Times-Roman SF
10741 XM
(are machine-independent.  For each supported machine)
171 W( type, there is a directory containing binaries)170 W
6120 67634 MT
(\050)SH
/Courier SF
(bin)SH
/Times-Roman SF
(\051 and libraries \050)89 W
/Courier SF
(lib)SH
/Times-Roman SF
(\051. The)
428 W( source tree in a release is fully self-contained.)
89 W( In)
430 W( other words, if you started out)90 W
6120 69011 MT
(with empty)91 W
/Courier SF
11080 XM
(include,)
341 MX(lib,)SH
/Times-Roman SF
18962 XM
(and)SH
/Courier SF
20747 XM
(bin)SH
/Times-Roman SF
22888 XM
(directories, you could completely)
91 W( populate them by compiling the source)90 W
6120 70388 MT
(code in)528 W
/Courier SF
10342 XM
(src)SH
/Times-Roman SF
(. The)
1306 W( only exception to this are)
528 W( the files in)529 W
/Courier SF
35341 XM
(include-special, lib-special,)179 W
6120 71765 MT
(src-special,)SH
/Times-Roman SF
13736 XM
(and)SH
/Courier SF
15596 XM
(bin-special)SH
/Times-Roman SF
(. These)
582 W( directories)
166 W( contain a very small number of files that have to be)165 W
6120 75600 MT
(December 21, 1995)SH
51920 XM
(52)SH
ES
%%Page: 53 54
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
44498 XM
(Coda Source Coda Layout)SH
8280 7886 MT
(copied in by hand.  The sources for these files are not in)SH
/Courier SF
30942 XM
(src)SH
/Times-Roman SF
(.)SH
12 /Times-Bold AF
8280 11570 MT
(13.2.2. Layout of the source directory)SH
10 /Times-Roman AF
8280 12947 MT
(The)SH
/Courier SF
10113 XM
(src)SH
/Times-Roman SF
12191 XM
(directory in each release is organized as in Figure)
28 W( 13-2.  The)29 W
/Courier SF
36997 XM
(MAKECODA)SH
/Times-Roman SF
42076 XM
(script simplifies the compilation)29 W
8280 14324 MT
(of the entire)
186 W( release.  The)185 W
/Courier SF
19805 XM
(Makeconf)SH
/Times-Roman SF
25040 XM
(file defines in a single spot many key variables and paths used by the)185 W
8280 15701 MT
(makefiles in individual modules.)
187 W( Those)
626 W( makefiles inherit these definitions automatically, when the CMU-SCS)188 W
/Courier SF
8280 17078 MT
(make)SH
/Times-Roman SF
10964 XM
(is used.  The)34 W
/Courier SF
16404 XM
(SOURCEME)SH
/Times-Roman SF
21487 XM
(file contains a minimal set of environment definitions.  By sourcing this file before)33 W
8280 18455 MT
(you compile anything, you can be sure that you aren't obtaining binaries, libraries etc. from non-standard)
106 W( places.)107 W
8280 19832 MT
(This is especially important if your)SH
/Courier SF
22557 XM
(.login)SH
/Times-Roman SF
26407 XM
(or)SH
/Courier SF
27490 XM
(.cshrc)SH
/Times-Roman SF
31340 XM
(files define elaborate)SH
/Courier SF
39976 XM
(PATH, CPATH, LPATH)SH
/Times-Roman SF
51026 XM
(variables.)SH
7 10 0 10512 68817 GB 
%%BeginDocument: FIGS/coda-src-fig.ps
%!PS-Adobe-3.0
%%Creator: Cricket Draw III
%%Title: coda-src-fig
%%BoundingBox: 0 0 552 730 
%%DocumentData: Clean7Bit
%%CreationDate: 10/21/92 4:35 PM
%%DocumentFonts: Times-Roman
%%+ Courier
%%DocumentProcessColors: Cyan Magenta Yellow Black
%%ColorUsage: Color
%%EndComments
save
200 dict begin
%%BeginProlog
/FindFlatness %% Proc -- %%
{
{
dup 
{flattenpath exec} stopped
{
pop currentflat 100 ge {exit} if 
currentflat 1.25 mul setflat
}
{exit} ifelse
} bind loop
pop
newpath
} def
/QDShow %% string qdwidth -- %%
{
1 index length 1 le
{
pop show
}
{
1 index stringwidth pop sub 1 index length 1 sub div 0 3 -1 roll ashow
} ifelse
} def
/PathText %% string offset -- %%
{
/cd_FM true def
/cd_offset exch def
/cd_string exch def
/cd_offset cd_offset cd_string 0 1 getinterval stringwidth pop 2 div add def
/cd_pathdist 0 def 
/cd_setdist cd_offset def
/cd_charcount 0 def
gsave
flattenpath 
{mtp}{ltp}{ctp}{cpp}pathforall 
grestore
} bind def
/mtp 
{
/cd_newy exch def
/cd_newx exch def
/cd_firstx cd_newx def
/cd_firsty cd_newy def
/cd_ovr 
cd_FM 
{cd_offset /cd_FM false def}
{0} ifelse 
def 
cd_newx cd_newy transform 
/cd_cpy exch def
/cd_cpx exch def
}bind def
/ltp 
{
/cd_oldx cd_newx def
/cd_oldy cd_newy def
/cd_newy exch def
/cd_newx exch def
/cd_dx cd_newx cd_oldx sub def
/cd_dy cd_newy cd_oldy sub def
/cd_dist cd_dx dup mul cd_dy dup mul add sqrt def 
cd_dist 0 ne
{
/cd_dsx cd_dx cd_dist div cd_ovr mul def 
/cd_dsy cd_dy cd_dist div cd_ovr mul def 
cd_oldx cd_dsx add cd_oldy cd_dsy add transform
/cd_cpy exch def
/cd_cpx exch def
/cd_pathdist cd_pathdist cd_dist add def
{
cd_setdist cd_pathdist le
{
cd_charcount cd_string length lt
{setchar}
{exit} ifelse
}
{
/cd_ovr cd_setdist cd_pathdist sub def
exit
} ifelse
}loop
} if
} bind def
/cpp 
{
cd_firstx cd_firsty ltp 
cd_firstx cd_firsty mtp
} bind def 
/setchar 
{
/cd_char cd_string cd_charcount 1 getinterval def
/cd_charcount cd_charcount 1 add def
/cd_charwidth cd_char stringwidth pop 2 div def 
gsave
cd_cpx cd_cpy itransform translate
cd_dy cd_dx atan rotate 
cd_charwidth neg 0 moveto 
cd_char 
cd_setdist 0 lt 
{stringwidth pop 0 rmoveto}
{show} ifelse
cd_charcount cd_string length lt
{
cd_string cd_charcount 1 getinterval stringwidth pop 2 div 0 rmoveto
} if
currentpoint transform 
/cd_cpy exch def 
/cd_cpx exch def 
grestore
/cd_setdist cd_setdist cd_charwidth add def
/cd_pathoffset cd_pathoffset cd_charwidth 2 mul add store
cd_charcount cd_string length lt
{
/cd_setdist cd_setdist cd_string cd_charcount 1 getinterval stringwidth pop 2 div add def
} if
} bind def
/OffsetCalc
{
/cd_textlength exch def
/cd_just exch def
/cd_dist 0 def
gsave
flattenpath
{
/cd_newy exch def 
/cd_newx exch def
/cd_firsty cd_newy def
/cd_firstx cd_newx def
}
{
/cd_oldy exch def
/cd_oldx exch def
/cd_dx cd_oldx cd_newx sub def 
/cd_dy cd_oldy cd_newy sub def
/cd_dist cd_dx dup mul cd_dy dup mul add sqrt cd_dist add def
/cd_newx cd_oldx def
/cd_newy cd_oldy def
}
{
}
{
/cd_dx cd_firstx cd_newx sub def
/cd_dy cd_firsty cd_newy sub def
/cd_dist cd_dx dup mul cd_dy dup mul add sqrt cd_dist add def
}
pathforall
cd_just 0 eq
{
/cd_pathoffset 0 store
} if
cd_just 1 eq
{
/cd_pathoffset cd_dist cd_textlength sub 2 div store
}if
cd_just 2 eq
{
/cd_pathoffset cd_dist cd_textlength sub store
}if
grestore
} bind def
/MakeUnderlineFont 
{
dup FontDirectory exch known 
{ 
pop pop
}
{
20 dict begin
exch /BaseFont exch findfont def
/uniqueid 
BaseFont dup /UniqueID known 
{/UniqueID get 1 add}
{pop 1} ifelse
def
/FontType 3 def
/Upos 
BaseFont /FontInfo 2 copy known
{
get /UnderlinePosition 2 copy known
{get}
{pop pop -100 }ifelse
}
{ pop pop -100 }ifelse 
def
/Uwid 
BaseFont /FontInfo 2 copy known
{
get /UnderlineThickness 2 copy known
{get}
{pop pop 50} ifelse
}
{pop pop 50} ifelse
def
/FontMatrix BaseFont /FontMatrix get def
/FontBBox BaseFont /FontBBox get
dup 1 get Upos gt
{
dup 1 Upos put
}if
def
/Encoding BaseFont /Encoding get def
/theChar 1 string def
/BuildChar
{
exch
begin
theChar 0 3 -1 roll put
BaseFont 1000 scalefont setfont
theChar stringwidth FontBBox setcachedevice
0 0 moveto
theChar show
0 Upos rmoveto 0 Upos lineto
Uwid setlinewidth stroke
end
} def
currentdict 
end
definefont pop
} ifelse
} def
/MakeOutlineFont 
{
dup FontDirectory exch known 
{ 
pop pop
}
{
/pathwidth 1000 24 div def 
/newfontname exch def 
/basefontname exch def 
/uniqueid 
basefontname findfont dup /UniqueID known 
{
/UniqueID get 1 add
}
{
pop 1
}ifelse
def
/BaseFont basefontname findfont def 
/numentries BaseFont maxlength 1 add def 
BaseFont /UniqueID known not
{
/numentries numentries 1 add def
} if
/NewFont numentries dict def 
BaseFont
{ 
exch dup /FID ne
{exch NewFont 3 1 roll put}
{pop pop} ifelse
}forall
NewFont /FontName newfontname put
NewFont /PaintType 2 put
NewFont /StrokeWidth pathwidth put
NewFont /UniqueID uniqueid put
newfontname NewFont definefont pop
}ifelse
}def
/macvec dup where not 
{ 256 array def
macvec 0 StandardEncoding
0 128 getinterval putinterval
macvec 16#27 /quotesingle put
macvec 16#60 /grave put
/Adieresis /Aring /Ccedilla /Eacute /Ntilde /Odieresis /Udieresis /aacute
/agrave /acircumflex /adieresis /atilde /aring /ccedilla /eacute /egrave
/ecircumflex /edieresis /iacute /igrave /icircumflex /idieresis /ntilde /oacute
/ograve /ocircumflex /odieresis /otilde /uacute /ugrave /ucircumflex /udieresis
/dagger /degree /cent /sterling /section /bullet /paragraph /germandbls
/registersans /copyrightsans /trademarksans /acute /dieresis /notequal /AE /Oslash
/infinity /plusminus /lessequal /greaterequal /yen /mu /partialdiff /summation
/product /pi /integral /ordfeminine /ordmasculine /Omega /ae /oslash
/questiondown /exclamdown /logicalnot /radical /florin /approxequal /Delta /guillemotleft
/guillemotright /ellipsis /space /Aacute /Atilde /Otilde /OE /oe
/endash /emdash /quotedblleft /quotedblright /quoteleft /quoteright /divide /lozenge
/ydieresis /Ydieresis /fraction /currency /guilsinglleft /guilsinglright /fi /fl
/daggerdbl /periodcentered /quotesinglbase /quotedblbase /perthousand
/Acircumflex /Ecircumflex /Agrave
/Edieresis /Egrave /Iacute /Icircumflex /Idieresis /Igrave /Oacute /Ocircumflex
/apple /Ograve /Uacute /Ucircumflex /Ugrave /dotlessi /circumflex /tilde
/macron /breve /dotaccent /ring /cedilla /hungarumlaut /ogonek /caron
macvec 128 128 getinterval astore pop
}
{pop pop} ifelse
/CreateFontDict 
{
dup length dict
/cd_NewFontDict exch def
{
1 index
/FID ne
{
cd_NewFontDict 3 1 roll put
}
{
pop pop
} ifelse
} forall
cd_NewFontDict
} def
/CoordinateFont 
{
dup 
/cd_FontString exch def 
length 7 add string
/cd_CoFontString exch def
cd_CoFontString 0 (|______) putinterval cd_CoFontString 7 cd_FontString putinterval
/cd_FontName cd_CoFontString cvn def 
FontDirectory cd_FontName known not
{
cd_FontString cvn findfont CreateFontDict
/cd_NewFontDict exch def
cd_NewFontDict dup 
/FontName cd_FontName put 
/Encoding macvec put
cd_FontName cd_NewFontDict definefont pop
} if
} def
/cd_defaultscreen [ currentscreen ] def
/SetDefaultScreen
{
cd_defaultscreen aload pop setscreen
} def
/Default
{
cd_defaultscreen 2 get exec
} def
/WhiteDot 
{
dup mul exch dup mul add 1 sub
} bind def
/BlackDot 
{
dup mul exch dup mul add 1 exch sub
} bind def
/HLines 
{
exch pop abs 1 exch sub
} bind def
/VLines 
{
pop abs 2 mul 1 exch sub
} bind def
/Poster
{
{
dup 0.5 lt 
{
dup 0.3 gt 
{pop 0.4} 
{0.1 gt 
{0.2} 
{0.0} ifelse
} ifelse
}
{
dup 0.7 lt 
{pop 0.6} 
{
0.9 lt 
{0.8} 
{1.0} ifelse
} ifelse
} ifelse
} settransfer
} def 
/Ellipse 
{
dup mul .625 mul exch dup mul add 1 exch sub
} bind def
/Square 
{
abs exch abs 2 copy gt{exch} if pop
} bind def
/Diamond 
{
abs exch abs add 1 exch sub
} bind def
/BlackCircle 
{
dup mul exch dup mul add 0.6 exch sub abs -0.5 mul
} bind def
/WhiteCircle 
{
dup mul exch dup mul add 0.6 exch sub abs 0.5 mul
} bind def
/Triangle 
{
2 exch sub exch abs 2 mul sub 3 div
} bind def
/Grid 
{
2 copy abs exch abs gt {exch} if pop 2 mul 1 exch sub 3.5 div
} bind def
/Ripples 
{
/wy exch def 180 mul cos 2 div wy dup dup dup mul mul sub mul wy add 180 mul cos
} bind def
/Star 
{
abs exch abs 2 copy gt {exch} if 1 sub dup 0 eq {0.01 add} if atan 360 div
} bind def
/max
{
2 copy lt{exch}if pop
} def
/min
{
2 copy gt{exch}if pop
} def
/concatprocs %% Proc1 Proc2 -- Proc1Proc2 %%
{
/Proc1 exch cvlit def
/Proc2 exch cvlit def
/NewProc Proc1 length Proc2 length add array def
NewProc 0 Proc1 putinterval
NewProc Proc1 length Proc2 putinterval
NewProc cvx
} def
/ndf %% key value -- %%
{
1 index where{pop pop pop}{dup xcheck{bind}if def}ifelse
} def
/setcmykcolor %% Cyan Magenta Yellow Black -- %%
{
1 exch sub 3 {dup 5 -1 roll sub 0 max exch} repeat pop setrgbcolor
} ndf
/findcmykcustomcolor %% Cyan Magenta Yellow Black SpotName -- Object %%
{
[ 6 1 roll ] 
} ndf
/setcustomcolor %% object tint -- %%
{
/cd_tint exch def
0 4 getinterval
{ cd_tint mul } forall
setcmykcolor
} ndf
/cmyktorgb %% Cyan Magenta Yellow Black -- Red Green Blue %%
{
3 {dup 5 -1 roll add dup 1 gt {pop 1} if 1 exch sub exch} repeat pop
} def
/rgbtocmyk %% Red Green Blue -- Cyan Magenta Yellow Black %%
{
3 {3 -1 roll 1 exch sub} repeat
3 copy min min 
3 {4 -1 roll 1 index sub exch} repeat
} def
/cmyktohls %% Cyan Magenta Yellow Black -- Hue Lightness Saturation %%
{
cmyktorgb
3 copy min min 4 1 roll
3 copy max max 5 -1 roll
2 copy add 2 div 6 1 roll
2 copy eq 
{
5 {pop} repeat
0 exch 0
}
{
5 index
0.5 le
{
2 copy 2 copy
sub 3 1 roll
add div
}
{
2 copy 2 copy
sub 2 exch sub 3 1 roll
sub exch div 
} ifelse
6 1 roll
2 copy sub
5 index 3 index eq
{
3 1 roll pop pop
4 -3 roll sub exch pop exch div
}
{
4 index 3 index eq
{
3 1 roll pop pop
4 -3 roll exch pop exch sub 2 add exch div
}
{
3 1 roll pop pop
4 -3 roll pop sub 4 add exch div
} ifelse
} ifelse
60 mul dup 0 lt {360 add} if
3 1 roll
} ifelse
} def
/value
{
dup 360 gt {360 sub} if
dup 0 lt {360 add} if
dup
60 lt 
{
60 div 3 1 roll 2 copy sub 4 -1 roll mul add exch pop
}
{
dup 180 lt
{
pop pop
}
{
dup 240 lt
{
240 exch sub 60 div
3 copy pop sub mul add exch pop
}
{
pop exch pop
} ifelse
} ifelse
} ifelse
} def
/hlstocmyk %% Hue Lightness Saturation -- Cyan Magenta Yellow Black %%
{
dup 0 eq
{
pop exch pop dup dup
}
{
1 index 0.5 le
{
2 copy 1 add mul
}
{
2 copy 2 copy add 3 1 roll mul sub
} ifelse
2 index 1 index sub 2 mul
5 -3 roll pop pop
3 copy 120 add value 4 1 roll
3 copy value 4 1 roll
120 sub value 
} ifelse
rgbtocmyk
} def
/D3PathProc %% PathArray -- %%
{
{
dup length
dup 6 eq
{ pop aload pop curveto }
{ 
dup 2 eq
{ pop aload pop lineto }
{
3 eq
{ aload pop pop moveto }
{ pop closepath } ifelse
} ifelse
} ifelse
} forall
} def
/fntnIncColor %% StartDistance EndDistance CurrentDistance -- %%
{
fntnBColor length 6 eq
{
fntnMix 0 eq
{
2 index sub 3 -2 roll exch sub div
}
{
3 -1 roll sub exch pop fntnGrain idiv fntnBuf exch get
} ifelse
fntnEColor 5 get fntnBColor 5 get sub mul fntnBColor 5 get add
fntnBColor aload pop pop findcmykcustomcolor exch setcustomcolor
}
{
dup 3 index eq fntnMix 0 eq and
{ pop pop pop fntnBColor aload pop fntnModel 0 ne {hlstocmyk} if }
{
dup 2 index eq fntnMix 0 eq and
{ pop pop pop fntnEColor aload pop fntnModel 0 ne {hlstocmyk} if }
{
fntnMix 0 eq
{ 2 index sub 3 -2 roll exch sub div }
{ 3 -1 roll sub exch pop fntnGrain idiv fntnBuf exch get } ifelse
dup fntnBColor 0 get fntnEColor 0 get 1 index sub 3 -1 roll mul add exch
dup fntnBColor 1 get fntnEColor 1 get 1 index sub 3 -1 roll mul add exch
fntnModel 0 eq
{
dup fntnBColor 2 get fntnEColor 2 get 1 index sub 3 -1 roll mul add exch
fntnBColor 3 get fntnEColor 3 get 1 index sub 3 -1 roll mul add
}
{
fntnBColor 2 get fntnEColor 2 get 1 index sub 3 -1 roll mul add
hlstocmyk
} ifelse
} ifelse
} ifelse
setcmykcolor
} ifelse
} def
/fntnlinear %% DirectionData -- %%
{
aload pop
/stop [ 4 -2 roll] def
pop pop 4 2 roll
/start [ 4 -2 roll] def
start 1 get sub exch 
start 0 get sub
fntnSteps div exch fntnSteps div
3 -1 roll pop
gsave
0 fntnGrain fntnSteps 1 sub mul dup fntnIncColor
/eofill load FindFlatness
grestore
2 copy 2 div exch 2 div exch
translate
0 fntnGrain dup fntnSteps 1 sub mul 
{
0 fntnGrain fntnSteps mul 3 -1 roll fntnIncColor
newpath
start aload pop
moveto
stop aload pop
lineto
stroke
1 index 1 index
translate
} for
pop pop
} def
/fntnecho %% DirectionData -- %%
{
aload
5 {pop} repeat
2 index sub exch 4 -1 roll sub
3 -1 roll pop
fntnSteps div exch fntnSteps div
3 -1 roll pop
gsave
0 fntnGrain fntnSteps 1 sub mul dup fntnIncColor
/eofill load FindFlatness
grestore
2 copy 2 div exch 2 div exch
translate
0 fntnGrain dup fntnSteps 1 sub mul 
{
0 fntnGrain fntnSteps mul 3 -1 roll fntnIncColor
D3ObjectProc closepath
/stroke load FindFlatness
1 index 1 index
translate
} for
pop pop
} def
/fntnradial %% OffsetData -- %%
{
aload pop
/fntnERadius exch fntnGrain 2 div sub round cvi def
/fntnBRadius exch fntnGrain 2 div sub round cvi def
translate
gsave
fntnBRadius fntnERadius fntnBRadius fntnIncColor
/eofill load FindFlatness
grestore
fntnBRadius fntnGrain fntnERadius 
{
fntnBRadius fntnERadius 2 index fntnIncColor 
newpath 0 0 3 -1 roll 0 360 arc
/stroke load FindFlatness
} for
} def
/fntnshape %% OffsetData -- %%
{
aload pop
/fntnERadius exch fntnGrain 2 div sub round cvi def
/fntnBRadius exch fntnGrain 2 div sub round cvi def
D3ObjectProc pathbbox
2 index add 2 div exch
4 -2 roll pop add 2 div exch
/objCX 2 index def /objCY 1 index def
2 index sub exch 
4 -2 roll pop sub fntnSteps div neg exch
fntnSteps div neg
gsave
fntnBRadius fntnERadius fntnERadius fntnIncColor
/eofill load FindFlatness
grestore
fntnBRadius fntnGrain fntnERadius 
{
fntnBRadius fntnERadius 2 index fntnIncColor
gsave
objCX objCY 
translate
fntnERadius dup 3 -1 roll sub exch div dup
scale
objCX neg objCY neg 
translate
D3ObjectProc
/eofill load FindFlatness
grestore
1 index 1 index
translate
} for
2 {pop} repeat
} def
/fntn %% OffsetData Grain Steps Startcolor Endcolor Buffer Mix Model Style -- %%
{ 
/fntnStyle exch def
/fntnModel exch def
/fntnMix exch def
/fntnBuf exch def
fntnModel 0 eq
{
/fntnEColor exch def
/fntnBColor exch def
}
{
/fntnEColor [ 3 -1 roll aload pop cmyktohls ] def
/fntnBColor [ 3 -1 roll aload pop cmyktohls ] def
} ifelse
/fntnSteps exch def
/fntnGrain exch def
fntnGrain setlinewidth
fntnStyle 0 eq {fntnlinear}
{ fntnStyle 1 eq {fntnecho} 
{ fntnStyle 2 eq {fntnradial} 
{fntnStyle 3 eq {fntnshape} 
{ pop } ifelse
} ifelse
} ifelse
} ifelse
} def 
/shdwIncColor %% StartDistance EndDistance CurrentDistance -- %%
{
shdwBColor length 6 eq
{
2 index sub 3 -2 roll exch sub div
shdwEColor 5 get shdwBColor 5 get sub mul shdwBColor 5 get add
shdwBColor aload pop pop findcmykcustomcolor exch setcustomcolor
}
{
dup 3 index eq
{ pop pop pop shdwBColor aload pop shdwModel 0 ne {hlstocmyk} if }
{
dup 2 index eq 
{ pop pop pop shdwEColor aload pop shdwModel 0 ne {hlstocmyk} if }
{
2 index sub 3 -2 roll exch sub div
dup shdwBColor 0 get shdwEColor 0 get 1 index sub 3 -1 roll mul add exch
dup shdwBColor 1 get shdwEColor 1 get 1 index sub 3 -1 roll mul add exch
shdwModel 0 eq
{
dup shdwBColor 2 get shdwEColor 2 get 1 index sub 3 -1 roll mul add exch
shdwBColor 3 get shdwEColor 3 get 1 index sub 3 -1 roll mul add
}
{
shdwBColor 2 get shdwEColor 2 get 1 index sub 3 -1 roll mul add
hlstocmyk
} ifelse
} ifelse
} ifelse
setcmykcolor
} ifelse
} def
/shdwdrop %% -- %%
{
shdwDColor length 6 eq
{
shdwDColor aload pop
/cd_tint exch def
findcmykcustomcolor cd_tint setcustomcolor
D3ObjectProc shdwOp
}
{
shdwDColor aload 
length 0 gt
{
shdwModel 0 ne { hlstocmyk } if
setcmykcolor
D3ObjectProc shdwOp
} if
} ifelse
} def
/shdwfull %% -- %%
{
shdwLength shdwAngle cos mul shdwSteps div neg
shdwLength shdwAngle sin mul shdwSteps div neg
0 shdwGrain dup shdwSteps 1 sub mul 
{
dup 0 eq 
{pop shdwdrop}
{
0 shdwGrain shdwSteps mul 3 -1 roll shdwIncColor
D3ObjectProc shdwOp
} ifelse
1 index 1 index
translate
} for
pop pop
} def
/shdw %% StartRGB EndRGB DropRGB Steps Grain Length Angle Mix Model Style -- %%
{
/shdwStyle exch def
/shdwModel exch def
/shdwMix exch def
/shdwAngle exch def
/shdwLength exch def
/shdwGrain exch def
/shdwSteps exch def
shdwModel 0 eq
{
/shdwDColor exch def
/shdwBColor exch def
/shdwEColor exch def
}
{
/shdwDColor [ 3 -1 roll aload length 0 gt {cmyktohls} if ] def
/shdwBColor [ 3 -1 roll aload pop cmyktohls ] def
/shdwEColor [ 3 -1 roll aload pop cmyktohls ] def
} ifelse
shdwSteps 0 ne shdwLength 0 ne and
{
gsave
shdwLength shdwAngle cos mul 
shdwLength shdwAngle sin mul
translate
shdwStyle 0 eq
{ shdwdrop }
{ shdwfull } ifelse
grestore
} if
} def
/colorimage %% width height bitspersample matrix proc xxx numplanes --
{
3 ne {exit} if
{exit} if
pop
{
currentfile cd_ImageStr readhexstring pop /cd_string exch def
0 1 cd_string length 3 div 1 sub
{
dup 3 mul
dup cd_string exch get 6 mul exch
dup 1 add cd_string exch get 3 mul exch 
2 add cd_string exch get
add add 10 div round cvi
cd_string 3 1 roll put
} for
cd_string dup length 3 idiv 0 exch getinterval
}
image
} ndf
/ReadToAsterick %% --
{
/cd_String 1 string def
0
{
currentfile cd_String readstring not {pop exit} if
0 get dup 42 eq 
{ 
pop 1 eq 
{ 
(BitMap Error: To much data) ==
} if 
exit
} 
{
32 gt 
{pop 1} if 
} ifelse
} loop
} def
/D3ImageProc %% Width Height -- %%
{
/cd_ImageStr 2 index 7 add 8 idiv string def
true
[ 3 index 0 dup 5 index neg 0 dup ]
{ currentfile cd_ImageStr readhexstring pop }
imagemask
ReadToAsterick
} def
/D3ColorImageProc %% Width Height BitsPerSample -- %%
{
/cd_ImageStr 3 index 8 3 index idiv dup 1 sub 3 -1 roll add exch idiv 3 mul string def
[ 3 index 0 dup 5 index neg 0 dup ]
{ currentfile cd_ImageStr readhexstring pop }
false 3
colorimage
ReadToAsterick
} def
%%EndProlog
%% -------- Begin Program --------- %%
systemdict /setpacking known
{
true setpacking
} if
2 setlinecap
0 setlinejoin

(Times-Roman) CoordinateFont
(Courier) CoordinateFont
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [279 650 0 ] put
D3PathArray 1 [19 541.001 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [284 648 0 ] put
D3PathArray 1 [59.104 538.803 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [288 648 0 ] put
D3PathArray 1 [106.599 541.969 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [291 646 0 ] put
D3PathArray 1 [141.429 543.024 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [296 647 0 ] put
D3PathArray 1 [167.815 544.080 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [299 645 0 ] put
D3PathArray 1 [211.088 544.080 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [303 647 0 ] put
D3PathArray 1 [271.249 543.024 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [309.999 648 0 ] put
D3PathArray 1 [345.113 539.858 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 230 668 ] concat
0 0 0 1 setcmykcolor
/|______Courier findfont 12 scalefont setfont
18 -14 moveto
(...../src) 63 QDShow
grestore
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 -11 542.5 ] concat
0 0 0 1 setcmykcolor
/|______Courier findfont 9 scalefont setfont
10 -12 moveto
(MAKECODA) 40 QDShow
grestore
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 12.391 542.5 ] concat
0 0 0 1 setcmykcolor
/|______Courier findfont 9 scalefont setfont
30 -12 moveto
(Makeconf) 40 QDShow
grestore
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 139.007 544.611 ] concat
0 0 0 1 setcmykcolor
/|______Courier findfont 9 scalefont setfont
18 -12 moveto
(README) 30 QDShow
grestore
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 188.534 544.611 ] concat
0 0 0 1 setcmykcolor
/|______Courier findfont 9 scalefont setfont
5 -12 moveto
(SOURCEME) 40 QDShow
grestore
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 251.727 544.611 ] concat
0 0 0 1 setcmykcolor
/|______Courier findfont 9 scalefont setfont
6 -12 moveto
(auth2) 25 QDShow
grestore
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 84.283 543.555 ] concat
0 0 0 1 setcmykcolor
/|______Courier /CourierU MakeUnderlineFont
/CourierU findfont 9 scalefont setfont
6 -12 moveto
(RCSLINK) 35 QDShow
grestore
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 327.392 542.5 ] concat
0 0 0 1 setcmykcolor
/|______Courier findfont 9 scalefont setfont
7 -12 moveto
(blurb) 25 QDShow
grestore
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [313 650 0 ] put
D3PathArray 1 [407.519 539.858 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [262.234 528.722 0 ] put
D3PathArray 1 [207.922 489.197 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [265.734 527.722 0 ] put
D3PathArray 1 [236.419 487.086 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [271.249 527.193 0 ] put
D3PathArray 1 [268.083 488.141 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [319.5 651 0 ] put
D3PathArray 1 [510.954 540.914 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 427.836 546.559 ] concat
0 0 0 1 setcmykcolor
/|______Courier findfont 9 scalefont setfont
11 -12 moveto
(...........) 55 QDShow
grestore
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 122.011 545.665 ] concat
0 0 0 1 setcmykcolor
/|______Courier /CourierU MakeUnderlineFont
/CourierU findfont 9 scalefont setfont
11 -12 moveto
(RCS) 15 QDShow
grestore
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 192.090 490.252 ] concat
0 0 0 1 setcmykcolor
/|______Times-Roman /Times-RomanU MakeUnderlineFont
/Times-RomanU findfont 9 scalefont setfont
7 -12 moveto
(RCS) 17 QDShow
grestore
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 208.392 490.781 ] concat
0 0 0 1 setcmykcolor
/|______Times-Roman findfont 9 scalefont setfont
12 -12 moveto
(Makefile) 34 QDShow
grestore
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 253.997 490.781 ] concat
0 0 0 1 setcmykcolor
/|______Times-Roman findfont 9 scalefont setfont
4 -12 moveto
(auth2.h  auth2.c  .....auth2.rpc) 116 QDShow
grestore
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [275.471 527.193 0 ] put
D3PathArray 1 [299.746 486.030 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [278.637 529.304 0 ] put
D3PathArray 1 [341.964 487.086 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [340.909 529.304 0 ] put
D3PathArray 1 [329.299 519.805 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [347.241 528.248 0 ] put
D3PathArray 1 [348.297 518.749 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [353.574 527.193 0 ] put
D3PathArray 1 [369.406 519.805 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Group Stroked Filled 
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 387.396 543.555 ] concat
0 0 0 1 setcmykcolor
/|______Courier findfont 9 scalefont setfont
5 -12 moveto
(camstuff) 40 QDShow
grestore
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [402.241 528.248 0 ] put
D3PathArray 1 [382.188 512.417 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [406.463 528.248 0 ] put
D3PathArray 1 [398.020 507.139 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [410.685 529.304 0 ] put
D3PathArray 1 [423.35 510.306 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [415.962 528.248 0 ] put
D3PathArray 1 [444.459 515.583 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 488.719 545.374 ] concat
0 0 0 1 setcmykcolor
/|______Courier findfont 9 scalefont setfont
13 -12 moveto
(venus) 25 QDShow
grestore
% Object: Group Stroked Filled 
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [506.73 530.067 0 ] put
D3PathArray 1 [486.677 514.235 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [510.952 530.067 0 ] put
D3PathArray 1 [502.509 508.958 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [515.174 531.122 0 ] put
D3PathArray 1 [527.84 512.124 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [520.451 530.067 0 ] put
D3PathArray 1 [548.949 517.401 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
end
showpage
restore
%%Trailer

%%EndDocument
 GE 8 SS 
11115 36846 MT
(The underlined names are)
693 W( symlinks to RCS directories.  For example,)692 W
/Courier SF
41230 XM
(RCSLINK)SH
/Times-Roman SF
45482 XM
(is a symlink to)692 W
/Courier SF
11115 37770 MT
(/afs/cs/project/coda/rcs)SH
/Times-Roman SF
(;)SH
/Courier SF
23334 XM
(auth2/RCS)SH
/Times-Roman SF
28131 XM
(is a symlink to)277 W
/Courier SF
34126 XM
(../RCSLINK/auth2)SH
/Times-Roman SF
(; and so)
277 W( on.  Indirecting via)278 W
/Courier SF
11115 38694 MT
(RCSLINK)SH
/Times-Roman SF
14695 XM
(makes it)
20 W( simple to relocate the RCS directories without changing lots of individual symlinks.  Such relocation might)19 W
11115 39618 MT
(happen, for example, when Coda sources are used outside CMU.)SH
10 /Times-Bold AF
19961 41228 MT
(Figure 13-2:)SH
/Times-Roman SF
25710 XM
(Structure of the source directory in a release)SH
12 /Times-Bold AF
8280 44912 MT
(13.2.3. Layout of a typical module)SH
10 /Times-Roman AF
8280 46289 MT
(The structure of a typical module is shown in Figure 13-3.)SH
7 10 0 10512 94266 GB 
%%BeginDocument: FIGS/coda-module-fig.ps
%!PS-Adobe-3.0
%%Creator: Cricket Draw III
%%Title: coda-module-fig
%%BoundingBox: 0 0 552 730 
%%DocumentData: Clean7Bit
%%CreationDate: 2/23/93 6:12 PM
%%DocumentFonts: Courier
%%DocumentProcessColors: Cyan Magenta Yellow Black
%%ColorUsage: Color
%%EndComments
save
200 dict begin
%%BeginProlog
/FindFlatness %% Proc -- %%
{
{
dup 
{flattenpath exec} stopped
{
pop currentflat 100 ge {exit} if 
currentflat 1.25 mul setflat
}
{exit} ifelse
} bind loop
pop
newpath
} def
/QDShow %% string qdwidth -- %%
{
1 index length 1 le
{
pop show
}
{
1 index stringwidth pop sub 1 index length 1 sub div 0 3 -1 roll ashow
} ifelse
} def
/PathText %% string offset -- %%
{
/cd_FM true def
/cd_offset exch def
/cd_string exch def
/cd_offset cd_offset cd_string 0 1 getinterval stringwidth pop 2 div add def
/cd_pathdist 0 def 
/cd_setdist cd_offset def
/cd_charcount 0 def
gsave
flattenpath 
{mtp}{ltp}{ctp}{cpp}pathforall 
grestore
} bind def
/mtp 
{
/cd_newy exch def
/cd_newx exch def
/cd_firstx cd_newx def
/cd_firsty cd_newy def
/cd_ovr 
cd_FM 
{cd_offset /cd_FM false def}
{0} ifelse 
def 
cd_newx cd_newy transform 
/cd_cpy exch def
/cd_cpx exch def
}bind def
/ltp 
{
/cd_oldx cd_newx def
/cd_oldy cd_newy def
/cd_newy exch def
/cd_newx exch def
/cd_dx cd_newx cd_oldx sub def
/cd_dy cd_newy cd_oldy sub def
/cd_dist cd_dx dup mul cd_dy dup mul add sqrt def 
cd_dist 0 ne
{
/cd_dsx cd_dx cd_dist div cd_ovr mul def 
/cd_dsy cd_dy cd_dist div cd_ovr mul def 
cd_oldx cd_dsx add cd_oldy cd_dsy add transform
/cd_cpy exch def
/cd_cpx exch def
/cd_pathdist cd_pathdist cd_dist add def
{
cd_setdist cd_pathdist le
{
cd_charcount cd_string length lt
{setchar}
{exit} ifelse
}
{
/cd_ovr cd_setdist cd_pathdist sub def
exit
} ifelse
}loop
} if
} bind def
/cpp 
{
cd_firstx cd_firsty ltp 
cd_firstx cd_firsty mtp
} bind def 
/setchar 
{
/cd_char cd_string cd_charcount 1 getinterval def
/cd_charcount cd_charcount 1 add def
/cd_charwidth cd_char stringwidth pop 2 div def 
gsave
cd_cpx cd_cpy itransform translate
cd_dy cd_dx atan rotate 
cd_charwidth neg 0 moveto 
cd_char 
cd_setdist 0 lt 
{stringwidth pop 0 rmoveto}
{show} ifelse
cd_charcount cd_string length lt
{
cd_string cd_charcount 1 getinterval stringwidth pop 2 div 0 rmoveto
} if
currentpoint transform 
/cd_cpy exch def 
/cd_cpx exch def 
grestore
/cd_setdist cd_setdist cd_charwidth add def
/cd_pathoffset cd_pathoffset cd_charwidth 2 mul add store
cd_charcount cd_string length lt
{
/cd_setdist cd_setdist cd_string cd_charcount 1 getinterval stringwidth pop 2 div add def
} if
} bind def
/OffsetCalc
{
/cd_textlength exch def
/cd_just exch def
/cd_dist 0 def
gsave
flattenpath
{
/cd_newy exch def 
/cd_newx exch def
/cd_firsty cd_newy def
/cd_firstx cd_newx def
}
{
/cd_oldy exch def
/cd_oldx exch def
/cd_dx cd_oldx cd_newx sub def 
/cd_dy cd_oldy cd_newy sub def
/cd_dist cd_dx dup mul cd_dy dup mul add sqrt cd_dist add def
/cd_newx cd_oldx def
/cd_newy cd_oldy def
}
{
}
{
/cd_dx cd_firstx cd_newx sub def
/cd_dy cd_firsty cd_newy sub def
/cd_dist cd_dx dup mul cd_dy dup mul add sqrt cd_dist add def
}
pathforall
cd_just 0 eq
{
/cd_pathoffset 0 store
} if
cd_just 1 eq
{
/cd_pathoffset cd_dist cd_textlength sub 2 div store
}if
cd_just 2 eq
{
/cd_pathoffset cd_dist cd_textlength sub store
}if
grestore
} bind def
/MakeUnderlineFont 
{
dup FontDirectory exch known 
{ 
pop pop
}
{
20 dict begin
exch /BaseFont exch findfont def
/uniqueid 
BaseFont dup /UniqueID known 
{/UniqueID get 1 add}
{pop 1} ifelse
def
/FontType 3 def
/Upos 
BaseFont /FontInfo 2 copy known
{
get /UnderlinePosition 2 copy known
{get}
{pop pop -100 }ifelse
}
{ pop pop -100 }ifelse 
def
/Uwid 
BaseFont /FontInfo 2 copy known
{
get /UnderlineThickness 2 copy known
{get}
{pop pop 50} ifelse
}
{pop pop 50} ifelse
def
/FontMatrix BaseFont /FontMatrix get def
/FontBBox BaseFont /FontBBox get
dup 1 get Upos gt
{
dup 1 Upos put
}if
def
/Encoding BaseFont /Encoding get def
/theChar 1 string def
/BuildChar
{
exch
begin
theChar 0 3 -1 roll put
BaseFont 1000 scalefont setfont
theChar stringwidth FontBBox setcachedevice
0 0 moveto
theChar show
0 Upos rmoveto 0 Upos lineto
Uwid setlinewidth stroke
end
} def
currentdict 
end
definefont pop
} ifelse
} def
/MakeOutlineFont 
{
dup FontDirectory exch known 
{ 
pop pop
}
{
/pathwidth 1000 24 div def 
/newfontname exch def 
/basefontname exch def 
/uniqueid 
basefontname findfont dup /UniqueID known 
{
/UniqueID get 1 add
}
{
pop 1
}ifelse
def
/BaseFont basefontname findfont def 
/numentries BaseFont maxlength 1 add def 
BaseFont /UniqueID known not
{
/numentries numentries 1 add def
} if
/NewFont numentries dict def 
BaseFont
{ 
exch dup /FID ne
{exch NewFont 3 1 roll put}
{pop pop} ifelse
}forall
NewFont /FontName newfontname put
NewFont /PaintType 2 put
NewFont /StrokeWidth pathwidth put
NewFont /UniqueID uniqueid put
newfontname NewFont definefont pop
}ifelse
}def
/macvec dup where not 
{ 256 array def
macvec 0 StandardEncoding
0 128 getinterval putinterval
macvec 16#27 /quotesingle put
macvec 16#60 /grave put
/Adieresis /Aring /Ccedilla /Eacute /Ntilde /Odieresis /Udieresis /aacute
/agrave /acircumflex /adieresis /atilde /aring /ccedilla /eacute /egrave
/ecircumflex /edieresis /iacute /igrave /icircumflex /idieresis /ntilde /oacute
/ograve /ocircumflex /odieresis /otilde /uacute /ugrave /ucircumflex /udieresis
/dagger /degree /cent /sterling /section /bullet /paragraph /germandbls
/registersans /copyrightsans /trademarksans /acute /dieresis /notequal /AE /Oslash
/infinity /plusminus /lessequal /greaterequal /yen /mu /partialdiff /summation
/product /pi /integral /ordfeminine /ordmasculine /Omega /ae /oslash
/questiondown /exclamdown /logicalnot /radical /florin /approxequal /Delta /guillemotleft
/guillemotright /ellipsis /space /Aacute /Atilde /Otilde /OE /oe
/endash /emdash /quotedblleft /quotedblright /quoteleft /quoteright /divide /lozenge
/ydieresis /Ydieresis /fraction /currency /guilsinglleft /guilsinglright /fi /fl
/daggerdbl /periodcentered /quotesinglbase /quotedblbase /perthousand
/Acircumflex /Ecircumflex /Agrave
/Edieresis /Egrave /Iacute /Icircumflex /Idieresis /Igrave /Oacute /Ocircumflex
/apple /Ograve /Uacute /Ucircumflex /Ugrave /dotlessi /circumflex /tilde
/macron /breve /dotaccent /ring /cedilla /hungarumlaut /ogonek /caron
macvec 128 128 getinterval astore pop
}
{pop pop} ifelse
/CreateFontDict 
{
dup length dict
/cd_NewFontDict exch def
{
1 index
/FID ne
{
cd_NewFontDict 3 1 roll put
}
{
pop pop
} ifelse
} forall
cd_NewFontDict
} def
/CoordinateFont 
{
dup 
/cd_FontString exch def 
length 7 add string
/cd_CoFontString exch def
cd_CoFontString 0 (|______) putinterval cd_CoFontString 7 cd_FontString putinterval
/cd_FontName cd_CoFontString cvn def 
FontDirectory cd_FontName known not
{
cd_FontString cvn findfont CreateFontDict
/cd_NewFontDict exch def
cd_NewFontDict dup 
/FontName cd_FontName put 
/Encoding macvec put
cd_FontName cd_NewFontDict definefont pop
} if
} def
/cd_defaultscreen [ currentscreen ] def
/SetDefaultScreen
{
cd_defaultscreen aload pop setscreen
} def
/Default
{
cd_defaultscreen 2 get exec
} def
/WhiteDot 
{
dup mul exch dup mul add 1 sub
} bind def
/BlackDot 
{
dup mul exch dup mul add 1 exch sub
} bind def
/HLines 
{
exch pop abs 1 exch sub
} bind def
/VLines 
{
pop abs 2 mul 1 exch sub
} bind def
/Poster
{
{
dup 0.5 lt 
{
dup 0.3 gt 
{pop 0.4} 
{0.1 gt 
{0.2} 
{0.0} ifelse
} ifelse
}
{
dup 0.7 lt 
{pop 0.6} 
{
0.9 lt 
{0.8} 
{1.0} ifelse
} ifelse
} ifelse
} settransfer
} def 
/Ellipse 
{
dup mul .625 mul exch dup mul add 1 exch sub
} bind def
/Square 
{
abs exch abs 2 copy gt{exch} if pop
} bind def
/Diamond 
{
abs exch abs add 1 exch sub
} bind def
/BlackCircle 
{
dup mul exch dup mul add 0.6 exch sub abs -0.5 mul
} bind def
/WhiteCircle 
{
dup mul exch dup mul add 0.6 exch sub abs 0.5 mul
} bind def
/Triangle 
{
2 exch sub exch abs 2 mul sub 3 div
} bind def
/Grid 
{
2 copy abs exch abs gt {exch} if pop 2 mul 1 exch sub 3.5 div
} bind def
/Ripples 
{
/wy exch def 180 mul cos 2 div wy dup dup dup mul mul sub mul wy add 180 mul cos
} bind def
/Star 
{
abs exch abs 2 copy gt {exch} if 1 sub dup 0 eq {0.01 add} if atan 360 div
} bind def
/max
{
2 copy lt{exch}if pop
} def
/min
{
2 copy gt{exch}if pop
} def
/concatprocs %% Proc1 Proc2 -- Proc1Proc2 %%
{
/Proc1 exch cvlit def
/Proc2 exch cvlit def
/NewProc Proc1 length Proc2 length add array def
NewProc 0 Proc1 putinterval
NewProc Proc1 length Proc2 putinterval
NewProc cvx
} def
/ndf %% key value -- %%
{
1 index where{pop pop pop}{dup xcheck{bind}if def}ifelse
} def
/setcmykcolor %% Cyan Magenta Yellow Black -- %%
{
1 exch sub 3 {dup 5 -1 roll sub 0 max exch} repeat pop setrgbcolor
} ndf
/findcmykcustomcolor %% Cyan Magenta Yellow Black SpotName -- Object %%
{
[ 6 1 roll ] 
} ndf
/setcustomcolor %% object tint -- %%
{
/cd_tint exch def
0 4 getinterval
{ cd_tint mul } forall
setcmykcolor
} ndf
/cmyktorgb %% Cyan Magenta Yellow Black -- Red Green Blue %%
{
3 {dup 5 -1 roll add dup 1 gt {pop 1} if 1 exch sub exch} repeat pop
} def
/rgbtocmyk %% Red Green Blue -- Cyan Magenta Yellow Black %%
{
3 {3 -1 roll 1 exch sub} repeat
3 copy min min 
3 {4 -1 roll 1 index sub exch} repeat
} def
/cmyktohls %% Cyan Magenta Yellow Black -- Hue Lightness Saturation %%
{
cmyktorgb
3 copy min min 4 1 roll
3 copy max max 5 -1 roll
2 copy add 2 div 6 1 roll
2 copy eq 
{
5 {pop} repeat
0 exch 0
}
{
5 index
0.5 le
{
2 copy 2 copy
sub 3 1 roll
add div
}
{
2 copy 2 copy
sub 2 exch sub 3 1 roll
sub exch div 
} ifelse
6 1 roll
2 copy sub
5 index 3 index eq
{
3 1 roll pop pop
4 -3 roll sub exch pop exch div
}
{
4 index 3 index eq
{
3 1 roll pop pop
4 -3 roll exch pop exch sub 2 add exch div
}
{
3 1 roll pop pop
4 -3 roll pop sub 4 add exch div
} ifelse
} ifelse
60 mul dup 0 lt {360 add} if
3 1 roll
} ifelse
} def
/value
{
dup 360 gt {360 sub} if
dup 0 lt {360 add} if
dup
60 lt 
{
60 div 3 1 roll 2 copy sub 4 -1 roll mul add exch pop
}
{
dup 180 lt
{
pop pop
}
{
dup 240 lt
{
240 exch sub 60 div
3 copy pop sub mul add exch pop
}
{
pop exch pop
} ifelse
} ifelse
} ifelse
} def
/hlstocmyk %% Hue Lightness Saturation -- Cyan Magenta Yellow Black %%
{
dup 0 eq
{
pop exch pop dup dup
}
{
1 index 0.5 le
{
2 copy 1 add mul
}
{
2 copy 2 copy add 3 1 roll mul sub
} ifelse
2 index 1 index sub 2 mul
5 -3 roll pop pop
3 copy 120 add value 4 1 roll
3 copy value 4 1 roll
120 sub value 
} ifelse
rgbtocmyk
} def
/D3PathProc %% PathArray -- %%
{
{
dup length
dup 6 eq
{ pop aload pop curveto }
{ 
dup 2 eq
{ pop aload pop lineto }
{
3 eq
{ aload pop pop moveto }
{ pop closepath } ifelse
} ifelse
} ifelse
} forall
} def
/fntnIncColor %% StartDistance EndDistance CurrentDistance -- %%
{
fntnBColor length 6 eq
{
fntnMix 0 eq
{
2 index sub 3 -2 roll exch sub div
}
{
3 -1 roll sub exch pop fntnGrain idiv fntnBuf exch get
} ifelse
fntnEColor 5 get fntnBColor 5 get sub mul fntnBColor 5 get add
fntnBColor aload pop pop findcmykcustomcolor exch setcustomcolor
}
{
dup 3 index eq fntnMix 0 eq and
{ pop pop pop fntnBColor aload pop fntnModel 0 ne {hlstocmyk} if }
{
dup 2 index eq fntnMix 0 eq and
{ pop pop pop fntnEColor aload pop fntnModel 0 ne {hlstocmyk} if }
{
fntnMix 0 eq
{ 2 index sub 3 -2 roll exch sub div }
{ 3 -1 roll sub exch pop fntnGrain idiv fntnBuf exch get } ifelse
dup fntnBColor 0 get fntnEColor 0 get 1 index sub 3 -1 roll mul add exch
dup fntnBColor 1 get fntnEColor 1 get 1 index sub 3 -1 roll mul add exch
fntnModel 0 eq
{
dup fntnBColor 2 get fntnEColor 2 get 1 index sub 3 -1 roll mul add exch
fntnBColor 3 get fntnEColor 3 get 1 index sub 3 -1 roll mul add
}
{
fntnBColor 2 get fntnEColor 2 get 1 index sub 3 -1 roll mul add
hlstocmyk
} ifelse
} ifelse
} ifelse
setcmykcolor
} ifelse
} def
/fntnlinear %% DirectionData -- %%
{
aload pop
/stop [ 4 -2 roll] def
pop pop 4 2 roll
/start [ 4 -2 roll] def
start 1 get sub exch 
start 0 get sub
fntnSteps div exch fntnSteps div
3 -1 roll pop
gsave
0 fntnGrain fntnSteps 1 sub mul dup fntnIncColor
/eofill load FindFlatness
grestore
2 copy 2 div exch 2 div exch
translate
0 fntnGrain dup fntnSteps 1 sub mul 
{
0 fntnGrain fntnSteps mul 3 -1 roll fntnIncColor
newpath
start aload pop
moveto
stop aload pop
lineto
stroke
1 index 1 index
translate
} for
pop pop
} def
/fntnecho %% DirectionData -- %%
{
aload
5 {pop} repeat
2 index sub exch 4 -1 roll sub
3 -1 roll pop
fntnSteps div exch fntnSteps div
3 -1 roll pop
gsave
0 fntnGrain fntnSteps 1 sub mul dup fntnIncColor
/eofill load FindFlatness
grestore
2 copy 2 div exch 2 div exch
translate
0 fntnGrain dup fntnSteps 1 sub mul 
{
0 fntnGrain fntnSteps mul 3 -1 roll fntnIncColor
D3ObjectProc closepath
/stroke load FindFlatness
1 index 1 index
translate
} for
pop pop
} def
/fntnradial %% OffsetData -- %%
{
aload pop
/fntnERadius exch fntnGrain 2 div sub round cvi def
/fntnBRadius exch fntnGrain 2 div sub round cvi def
translate
gsave
fntnBRadius fntnERadius fntnBRadius fntnIncColor
/eofill load FindFlatness
grestore
fntnBRadius fntnGrain fntnERadius 
{
fntnBRadius fntnERadius 2 index fntnIncColor 
newpath 0 0 3 -1 roll 0 360 arc
/stroke load FindFlatness
} for
} def
/fntnshape %% OffsetData -- %%
{
aload pop
/fntnERadius exch fntnGrain 2 div sub round cvi def
/fntnBRadius exch fntnGrain 2 div sub round cvi def
D3ObjectProc pathbbox
2 index add 2 div exch
4 -2 roll pop add 2 div exch
/objCX 2 index def /objCY 1 index def
2 index sub exch 
4 -2 roll pop sub fntnSteps div neg exch
fntnSteps div neg
gsave
fntnBRadius fntnERadius fntnERadius fntnIncColor
/eofill load FindFlatness
grestore
fntnBRadius fntnGrain fntnERadius 
{
fntnBRadius fntnERadius 2 index fntnIncColor
gsave
objCX objCY 
translate
fntnERadius dup 3 -1 roll sub exch div dup
scale
objCX neg objCY neg 
translate
D3ObjectProc
/eofill load FindFlatness
grestore
1 index 1 index
translate
} for
2 {pop} repeat
} def
/fntn %% OffsetData Grain Steps Startcolor Endcolor Buffer Mix Model Style -- %%
{ 
/fntnStyle exch def
/fntnModel exch def
/fntnMix exch def
/fntnBuf exch def
fntnModel 0 eq
{
/fntnEColor exch def
/fntnBColor exch def
}
{
/fntnEColor [ 3 -1 roll aload pop cmyktohls ] def
/fntnBColor [ 3 -1 roll aload pop cmyktohls ] def
} ifelse
/fntnSteps exch def
/fntnGrain exch def
fntnGrain setlinewidth
fntnStyle 0 eq {fntnlinear}
{ fntnStyle 1 eq {fntnecho} 
{ fntnStyle 2 eq {fntnradial} 
{fntnStyle 3 eq {fntnshape} 
{ pop } ifelse
} ifelse
} ifelse
} ifelse
} def 
/shdwIncColor %% StartDistance EndDistance CurrentDistance -- %%
{
shdwBColor length 6 eq
{
2 index sub 3 -2 roll exch sub div
shdwEColor 5 get shdwBColor 5 get sub mul shdwBColor 5 get add
shdwBColor aload pop pop findcmykcustomcolor exch setcustomcolor
}
{
dup 3 index eq
{ pop pop pop shdwBColor aload pop shdwModel 0 ne {hlstocmyk} if }
{
dup 2 index eq 
{ pop pop pop shdwEColor aload pop shdwModel 0 ne {hlstocmyk} if }
{
2 index sub 3 -2 roll exch sub div
dup shdwBColor 0 get shdwEColor 0 get 1 index sub 3 -1 roll mul add exch
dup shdwBColor 1 get shdwEColor 1 get 1 index sub 3 -1 roll mul add exch
shdwModel 0 eq
{
dup shdwBColor 2 get shdwEColor 2 get 1 index sub 3 -1 roll mul add exch
shdwBColor 3 get shdwEColor 3 get 1 index sub 3 -1 roll mul add
}
{
shdwBColor 2 get shdwEColor 2 get 1 index sub 3 -1 roll mul add
hlstocmyk
} ifelse
} ifelse
} ifelse
setcmykcolor
} ifelse
} def
/shdwdrop %% -- %%
{
shdwDColor length 6 eq
{
shdwDColor aload pop
/cd_tint exch def
findcmykcustomcolor cd_tint setcustomcolor
D3ObjectProc shdwOp
}
{
shdwDColor aload 
length 0 gt
{
shdwModel 0 ne { hlstocmyk } if
setcmykcolor
D3ObjectProc shdwOp
} if
} ifelse
} def
/shdwfull %% -- %%
{
shdwLength shdwAngle cos mul shdwSteps div neg
shdwLength shdwAngle sin mul shdwSteps div neg
0 shdwGrain dup shdwSteps 1 sub mul 
{
dup 0 eq 
{pop shdwdrop}
{
0 shdwGrain shdwSteps mul 3 -1 roll shdwIncColor
D3ObjectProc shdwOp
} ifelse
1 index 1 index
translate
} for
pop pop
} def
/shdw %% StartRGB EndRGB DropRGB Steps Grain Length Angle Mix Model Style -- %%
{
/shdwStyle exch def
/shdwModel exch def
/shdwMix exch def
/shdwAngle exch def
/shdwLength exch def
/shdwGrain exch def
/shdwSteps exch def
shdwModel 0 eq
{
/shdwDColor exch def
/shdwBColor exch def
/shdwEColor exch def
}
{
/shdwDColor [ 3 -1 roll aload length 0 gt {cmyktohls} if ] def
/shdwBColor [ 3 -1 roll aload pop cmyktohls ] def
/shdwEColor [ 3 -1 roll aload pop cmyktohls ] def
} ifelse
shdwSteps 0 ne shdwLength 0 ne and
{
gsave
shdwLength shdwAngle cos mul 
shdwLength shdwAngle sin mul
translate
shdwStyle 0 eq
{ shdwdrop }
{ shdwfull } ifelse
grestore
} if
} def
/colorimage %% width height bitspersample matrix proc xxx numplanes --
{
3 ne {exit} if
{exit} if
pop
{
currentfile cd_ImageStr readhexstring pop /cd_string exch def
0 1 cd_string length 3 div 1 sub
{
dup 3 mul
dup cd_string exch get 6 mul exch
dup 1 add cd_string exch get 3 mul exch 
2 add cd_string exch get
add add 10 div round cvi
cd_string 3 1 roll put
} for
cd_string dup length 3 idiv 0 exch getinterval
}
image
} ndf
/ReadToAsterick %% --
{
/cd_String 1 string def
0
{
currentfile cd_String readstring not {pop exit} if
0 get dup 42 eq 
{ 
pop 1 eq 
{ 
(BitMap Error: To much data) ==
} if 
exit
} 
{
32 gt 
{pop 1} if 
} ifelse
} loop
} def
/D3ImageProc %% Width Height -- %%
{
/cd_ImageStr 2 index 7 add 8 idiv string def
true
[ 3 index 0 dup 5 index neg 0 dup ]
{ currentfile cd_ImageStr readhexstring pop }
imagemask
ReadToAsterick
} def
/D3ColorImageProc %% Width Height BitsPerSample -- %%
{
/cd_ImageStr 3 index 8 3 index idiv dup 1 sub 3 -1 roll add exch idiv 3 mul string def
[ 3 index 0 dup 5 index neg 0 dup ]
{ currentfile cd_ImageStr readhexstring pop }
false 3
colorimage
ReadToAsterick
} def
%%EndProlog
%% -------- Begin Program --------- %%
systemdict /setpacking known
{
true setpacking
} if
2 setlinecap
0 setlinejoin

(Courier) CoordinateFont
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [284 648 0 ] put
D3PathArray 1 [58.047 535.636 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [288 648 0 ] put
D3PathArray 1 [110.82 535.636 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [291 646 0 ] put
D3PathArray 1 [180.481 536.692 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [296 647 0 ] put
D3PathArray 1 [254.841 535.596 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [299 645 0 ] put
D3PathArray 1 [310.301 536.692 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [309.999 648 0 ] put
D3PathArray 1 [370.461 537.747 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 230 668 ] concat
0 0 0 1 setcmykcolor
/|______Courier findfont 12 scalefont setfont
7 -14 moveto
(.../src/rpc2) 84 QDShow
grestore
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 69.385 538.278 ] concat
0 0 0 1 setcmykcolor
/|______Courier findfont 9 scalefont setfont
6 -12 moveto
(Makefile.coda) 65 QDShow
grestore
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 293.102 539.334 ] concat
0 0 0 1 setcmykcolor
/|______Courier findfont 9 scalefont setfont
4 -12 moveto
(rpc2.h) 30 QDShow
grestore
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 348.962 540.389 ] concat
0 0 0 1 setcmykcolor
/|______Courier findfont 9 scalefont setfont
7 -12 moveto
(rpc2a.c) 35 QDShow
grestore
% Object: Bezier Path Stroked 
SetDefaultScreen
/D3PathArray 2 array def
D3PathArray 0 [319.5 650.999 0 ] put
D3PathArray 1 [505.559 536.691 ] put
/D3ObjectProc {newpath
D3PathArray D3PathProc } def
D3ObjectProc
1 setlinewidth
[ ] 0 setdash
2 setlinecap
0 0 0 1 setcmykcolor
/stroke load
FindFlatness
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 401.449 543.393 ] concat
0 0 0 1 setcmykcolor
/|______Courier findfont 9 scalefont setfont
11 -12 moveto
(...........) 55 QDShow
grestore
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 38.631 538.277 ] concat
0 0 0 1 setcmykcolor
/|______Courier /CourierU MakeUnderlineFont
/CourierU findfont 9 scalefont setfont
11 -12 moveto
(RCS) 15 QDShow
grestore
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 481.33 542.207 ] concat
0 0 0 1 setcmykcolor
/|______Courier findfont 9 scalefont setfont
8 -12 moveto
(stest.c) 35 QDShow
grestore
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 214.499 540.387 ] concat
0 0 0 1 setcmykcolor
/|______Courier findfont 9 scalefont setfont
7 -12 moveto
(Makefile.real) 65 QDShow
grestore
% Object: Text 
gsave
SetDefaultScreen
[ 1 0 0 1 141.118 539.332 ] concat
0 0 0 1 setcmykcolor
/|______Courier findfont 9 scalefont setfont
7 -12 moveto
(Makefile.misc) 65 QDShow
grestore
end
showpage
restore
%%Trailer

%%EndDocument
 GE 8 SS 
11115 59451 MT
(This figure depicts the structure of one module,)123 W
/Courier SF
27489 XM
(rpc2)SH
/Times-Roman SF
(. The)
448 W( underlined name RCS is a symlink to)124 W
/Courier SF
44845 XM
(../RCSLINK/rpc2)SH
/Times-Roman SF
(.)SH
11115 60375 MT
(Indirecting via)SH
/Courier SF
16000 XM
(RCSLINK)SH
/Times-Roman SF
19560 XM
(makes it simple to relocate the RCS directories.)SH
10 /Times-Bold AF
22973 61985 MT
(Figure 13-3:)SH
/Times-Roman SF
28722 XM
(Structure of a typical module)SH
8280 64051 MT
(Notice that only the source files are located in)
14 W( this directory; there are no object files.  The CMU-SCS)13 W
/Courier SF
49584 XM
(make)SH
/Times-Roman SF
52247 XM
(facility)SH
8280 65428 MT
(puts all compilation targets elsewhere, thus allowing the source directory)
47 W( to be readonly.  This has two advantages.)48 W
8280 66805 MT
(First, the)
79 W( source directories are uncluttered.  Second, it simplifies building Coda for multiple machine types, since)78 W
8280 68182 MT
(the target directories can be different for each machine type.)SH
8280 70248 MT
(Also notice the presence of multiple makefiles in this module.  Although this is not characteristic of all Coda)182 W
8280 71625 MT
(modules, it is typical of some.)
202 W( The)
653 W( true dependencies are capture in)201 W
/Courier SF
38366 XM
(Makefile.real)SH
/Times-Roman SF
(, and the others, like)201 W
8280 75600 MT
(December 21, 1995)SH
54080 XM
(53)SH
ES
%%Page: 54 55
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
42338 XM
(Coda Source Coda Layout)SH
/Courier SF
6120 7886 MT
(Makefile.coda)SH
/Times-Roman SF
14595 XM
(and)SH
/Courier SF
16714 XM
(Makefile.misc)SH
/Times-Roman SF
25189 XM
(invoke)SH
/Courier SF
28586 XM
(Makefile.real)SH
/Times-Roman SF
37062 XM
(after defining environment variables)426 W
6120 9263 MT
(appropriately. This)
254 W( simplifies the use of)
2 W( these modules outside Coda.  If you are compiling by hand, you have to say)1 W
6120 10640 MT
(")SH
/Courier SF
(make -f Makefile.coda <target>)SH
/Times-Roman SF
(", rather than just ")SH
/Courier SF
(make <target>)SH
/Times-Roman SF
(".)SH
14 /Times-Bold AF
6120 14458 MT
(13.3. Module Dependencies)SH
10 /Times-Roman AF
6120 15835 MT
(Most Coda modules rely on files installed by other Coda modules.  It is therefore important)
19 W( to install modules in the)20 W
6120 17212 MT
(correct order.)
105 W( Otherwise)
458 W( you could get yourself into real trouble.  If you are compiling from scratch, the out-of-)104 W
6120 18589 MT
(order installations will simply fail.  But)
43 W( if you are modifying an existing release, you could end up with mysterious)44 W
6120 19966 MT
(bugs because obsolete versions of header files and libraries may be used.)SH
6120 22032 MT
(You are)
159 W( strongly urged to use the script)158 W
/Courier SF
23438 XM
(MAKECODA,)SH
/Times-Roman SF
29246 XM
(described in Section 13.4.3.  The correct precedences of)158 W
3278 50 9880 22232 UL
6120 23409 MT
(modules are wired into the script, so you don't have to deal with them.)SH
6120 25475 MT
(For the curious, the correct order of compilation of modules is given below.  In principle, modules of the same)136 W
6120 26852 MT
(precedence \050i.e. in the same set\051 can be compiled in parallel.  But I haven't actually tried that yet.)SH
6727 29367 MT
(I.)SH
/Times-Bold SF
8250 31882 MT
(*)SH
/Courier SF
9000 XM
(scripts)SH
/Times-Roman SF
14760 XM
(Miscellaneous scripts, including)SH
/Courier SF
27926 XM
(alphaci)SH
/Times-Roman SF
32376 XM
(on which intalls of all other modules rely)SH
6394 34092 MT
(II.)SH
/Times-Bold SF
8250 36607 MT
(*)SH
/Courier SF
9000 XM
(mlwp)SH
/Times-Roman SF
14760 XM
(Lightweight process package)SH
/Times-Bold SF
8250 38265 MT
(*)SH
/Courier SF
9000 XM
(dir)SH
/Times-Roman SF
14760 XM
(Directory package used by Venus and server)SH
/Times-Bold SF
8250 39923 MT
(*)SH
/Courier SF
9000 XM
(sys)SH
/Times-Roman SF
14760 XM
(Miscellaneous routines)SH
/Times-Bold SF
8250 41581 MT
(*)SH
/Courier SF
9000 XM
(sunrpc)SH
/Times-Roman SF
14760 XM
(Sun Microsystem's public domain XDR code and interface for device driver/venus interaction)SH
/Times-Bold SF
8250 43239 MT
(*)SH
/Courier SF
9000 XM
(igmp)SH
/Times-Roman SF
14760 XM
(Internet multicast support for old)
105 W( RFC \050dummied out currently; someone should fix these to)104 W
24840 44344 MT
(use the new RFC\051)SH
6121 46554 MT
(III.)SH
/Times-Bold SF
8250 49069 MT
(*)SH
/Courier SF
9000 XM
(util)SH
/Times-Roman SF
14760 XM
(Utility routines)SH
/Times-Bold SF
8250 50727 MT
(*)SH
/Courier SF
9000 XM
(rpc2)SH
/Times-Roman SF
14760 XM
(RPC package)SH
6121 52937 MT
(IV.)SH
/Times-Bold SF
8250 55452 MT
(*)SH
/Courier SF
9000 XM
(camstuff)SH
/Times-Roman SF
14760 XM
(Header files that allow runtime choice of RVM or VM for persistence on servers)SH
/Times-Bold SF
8250 57110 MT
(*)SH
/Courier SF
9000 XM
(blurb)SH
/Times-Roman SF
14760 XM
(Program to adjust copyrights)SH
/Times-Bold SF
8250 58768 MT
(*)SH
/Courier SF
9000 XM
(pdbstuff)SH
/Times-Roman SF
14760 XM
(Protection database management)SH
/Times-Bold SF
8250 60426 MT
(*)SH
/Courier SF
9000 XM
(rp2gen)SH
/Times-Roman SF
14760 XM
(Stub generator for RPC2)SH
/Times-Bold SF
8250 62084 MT
(*)SH
/Courier SF
9000 XM
(comm)SH
/Times-Roman SF
14760 XM
(Communication layer above RPC2 for connection management \050not yet in use\051)SH
/Times-Bold SF
8250 63742 MT
(*)SH
/Courier SF
9000 XM
(libal)SH
/Times-Roman SF
14760 XM
(Access list package.)SH
6338 65952 MT
(V.)SH
/Times-Bold SF
8250 68467 MT
(*)SH
/Courier SF
9000 XM
(vicedep)SH
/Times-Roman SF
14760 XM
(Header files and RPC2 interface definition files put here to break circular dependencies)SH
/Times-Bold SF
8250 70125 MT
(*)SH
/Courier SF
9000 XM
(fail)SH
/Times-Roman SF
14760 XM
(Network failure and variable speed emulator)SH
/Times-Bold SF
8250 71783 MT
(*)SH
/Courier SF
9000 XM
(auth2)SH
/Times-Roman SF
14760 XM
(Authentication server)SH
6120 75600 MT
(December 21, 1995)SH
51920 XM
(54)SH
ES
%%Page: 55 56
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
44498 XM
(Coda Source Coda Layout)SH
8281 7886 MT
(VI.)SH
/Times-Bold SF
10410 10401 MT
(*)SH
/Courier SF
11160 XM
(login)SH
/Times-Roman SF
16920 XM
(Implements clog, cunlog, ctokens, etc.)SH
/Times-Bold SF
10410 12059 MT
(*)SH
/Courier SF
11160 XM
(cfs)SH
/Times-Roman SF
16920 XM
(The VFS driver; most of this code is linked into the Mach kernel)SH
/Times-Bold SF
10410 13717 MT
(*)SH
/Courier SF
11160 XM
(vv)SH
/Times-Roman SF
16920 XM
(Version vector routines)SH
/Times-Bold SF
10410 15375 MT
(*)SH
/Courier SF
11160 XM
(mond)SH
/Times-Roman SF
16920 XM
(Coda usage data collector)SH
8281 17585 MT
(VII.)SH
/Times-Bold SF
10410 20100 MT
(*)SH
/Courier SF
11160 XM
(resolve)SH
/Times-Roman SF
16920 XM
(Library used by repair \050should get integrated into)SH
/Courier SF
36861 XM
(repair)SH
/Times-Roman SF
(\051)SH
/Times-Bold SF
10410 21758 MT
(*)SH
/Courier SF
11160 XM
(vol)SH
/Times-Roman SF
16920 XM
(Volume package used by server)SH
8281 23968 MT
(VIII.)SH
/Times-Bold SF
10410 26483 MT
(*)SH
/Courier SF
11160 XM
(res)SH
/Times-Roman SF
16920 XM
(VM-based directory resolution algorithms)SH
/Times-Bold SF
10410 28141 MT
(*)SH
/Courier SF
11160 XM
(repair)SH
/Times-Roman SF
16920 XM
(Repair tool)SH
/Times-Bold SF
10410 29799 MT
(*)SH
/Courier SF
11160 XM
(venus)SH
/Times-Roman SF
16920 XM
(Cache manager)SH
8281 32009 MT
(IX.)SH
/Times-Bold SF
10410 34524 MT
(*)SH
/Courier SF
11160 XM
(volutil)SH
/Times-Roman SF
16920 XM
(Volume utilities)SH
/Times-Bold SF
10410 36182 MT
(*)SH
/Courier SF
11160 XM
(vtools)SH
/Times-Roman SF
16920 XM
(Miscellaneous Venus tools)SH
/Times-Bold SF
10410 37840 MT
(*)SH
/Courier SF
11160 XM
(rvmres)SH
/Times-Roman SF
16920 XM
(RVM-based directory resolution algorithms)SH
8498 40050 MT
(X.)SH
/Times-Bold SF
10410 42565 MT
(*)SH
/Courier SF
11160 XM
(vice)SH
/Times-Roman SF
16920 XM
(Server code)SH
8281 44775 MT
(XI.)SH
/Times-Bold SF
10410 47290 MT
(*)SH
/Courier SF
11160 XM
(update)SH
/Times-Roman SF
16920 XM
(The daemon which updates server databases)SH
/Times-Bold SF
10410 48948 MT
(*)SH
/Courier SF
11160 XM
(norton)SH
/Times-Roman SF
16920 XM
(A Coda server, RVM debugger)SH
/Times-Bold SF
10410 50606 MT
(*)SH
/Courier SF
11160 XM
(asr)SH
/Times-Roman SF
16920 XM
(Application Specific Resolver package)SH
/Times-Bold SF
10410 52264 MT
(*)SH
/Courier SF
11160 XM
(egasr)SH
/Times-Roman SF
16920 XM
(ASR examples\051annote)SH
14 /Times-Bold AF
8280 56082 MT
(13.4. Building a Release)SH
12 SS 
8280 59766 MT
(13.4.1. Prerequisites)SH
10 /Times-Roman AF
8280 61143 MT
(To compile Coda "out of the box" you need the following compilation tools:)SH
8280 62934 MT
(Gnu g++ compiler version 2.5.8 or higher.)SH
8280 64511 MT
(CMU-SCS)SH
/Courier SF
12920 XM
(make)SH
/Times-Roman SF
16280 XM
(The makefiles in the Coda sources)
103 W( exploit many of the enhancements made by CMU to Unix)104 W
16280 65616 MT
(make. Conditional)
496 W( macro expansion,)
123 W( the ability to place targets in a different place from the)122 W
16280 66721 MT
(sources, and)
70 W( the inheritance of variable definitions from Makeconf are the three major features)71 W
16280 67826 MT
(we rely on.)SH
8280 69403 MT
(C compiler on IBM-RTs)SH
16280 70508 MT
(It is important)
78 W( that the compiler be set to use)79 W
/Courier SF
35178 XM
(long)SH
/Times-Roman SF
37907 XM
(to represent)79 W
/Courier SF
43008 XM
(enum)SH
/Times-Roman SF
(. The)
408 W( RT C compiler's)79 W
16280 71613 MT
(default behavior)
67 W( of using)66 W
/Courier SF
26821 XM
(char)SH
/Times-Roman SF
29537 XM
(to represent small-valued enums will cause insidious problems)66 W
8280 75600 MT
(December 21, 1995)SH
54080 XM
(55)SH
ES
%%Page: 56 57
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
42338 XM
(Coda Source Coda Layout)SH
14120 7886 MT
(in RPC2 communication.  On)
142 W( CMU-SCS machines this is done by defining the environment)143 W
14120 8991 MT
(variable)SH
/Courier SF
17897 XM
(PLAINC)SH
/Times-Roman SF
22053 XM
(to be)305 W
/Courier SF
24885 XM
(/usr/misc/.hc/bin/hc2)SH
/Times-Roman SF
(. The)860 W
/Courier SF
40955 XM
(MAKECODA)SH
/Times-Roman SF
46310 XM
(script does this)305 W
14120 10096 MT
(automatically for)
25 W( you, but you must remember to do this manually if you aren't using it.  \050Some)26 W
/Courier SF
14120 11201 MT
(.login)SH
/Times-Roman SF
(s have the variable)SH
/Courier SF
25440 XM
(ccC)SH
/Times-Roman SF
27490 XM
(defined to)SH
/Courier SF
31767 XM
(hc)SH
/Times-Roman SF
(; you must delete this definition also\051.)SH
6120 12578 MT
(It should be possible to modify the code to use other versions of C++ \050such as)35 W
/Courier SF
38083 XM
(g++)SH
/Times-Roman SF
(\051, or to)
35 W( use standard Unix make.)34 W
6120 13955 MT
(But we haven't tried this, and don't plan to.)SH
12 /Times-Bold AF
6120 17639 MT
(13.4.2. Special directories)SH
10 /Times-Roman AF
6120 19016 MT
(Before you)
195 W( can compile Coda, you need to populate the)196 W
/Courier SF
30603 XM
({include,lib,bin,src}-special)SH
/Times-Roman SF
48449 XM
(directories.)SH
6120 20393 MT
(These contain)
54 W( files that are \050a\051 needed but aren't in the Coda sources or \050b\051 standard Mach header files, with slight)53 W
6120 21770 MT
(modifications. The)416 W
/Courier SF
14424 XM
(MAKECODA)SH
/Times-Roman SF
19557 XM
(script contains an up-to-date list of)
83 W( what these files should be.  Here is a list that)84 W
6120 23147 MT
(was current at the time of writing this document:)SH
6120 24938 MT
(RVM files)SH
14120 XM
(RVM is a lightweight transactional package that is used on servers and clients.)
64 W( It)
377 W( is a package)63 W
14120 26043 MT
(that is independent of Coda.  The current set of files from this package are:)SH
/Courier SF
14120 27798 MT
(include-special/{rvm.h,rvm_lwp.h,rvm_statistics.h,)SH
28520 28929 MT
(rvm_segment.h,rds.h})SH
14120 31191 MT
(lib-special/{librvm.a,librvmlwp.a,libseg.a,librds.a})SH
14120 33453 MT
(bin-special/{rdsinit,rvmutl})SH
14120 35715 MT
(src-special/{Makeconf,Makefile,READ_ME,plumber,rds,rvm,seg})SH
/Times-Roman SF
6120 37532 MT
(Tracing facility files)SH
14120 38637 MT
(These files pertain to a file tracing facility,)40 W
/Courier SF
31742 XM
(dfstrace)SH
/Times-Roman SF
(, that)
40 W( is used at CMU.  Venus is capable)39 W
14120 39742 MT
(of functioning as a simulator driven by traces.  This requires the following files:)SH
/Courier SF
14120 41497 MT
(include-special/tracelib.h)SH
14120 43759 MT
(lib-special/libtrace.a)SH
/Times-Roman SF
14120 45576 MT
(If you don't intend to use Venus as a simulator, you could)
94 W( construct a dummy)95 W
/Courier SF
46920 XM
(libtrace.a)SH
/Times-Roman SF
14120 46681 MT
(with empty routines to avoid unresolved references.  You do need)SH
/Courier SF
40726 XM
(tracelib.h)SH
/Times-Roman SF
46976 XM
(though.)SH
6120 48258 MT
(Plumber)SH
/Courier SF
9759 XM
(malloc)SH
/Times-Roman SF
14120 XM
(The Coda makefiles)
40 W( allow you to build versions of)39 W
/Courier SF
34999 XM
(venus)SH
/Times-Roman SF
38288 XM
(and)SH
/Courier SF
40021 XM
(srv)SH
/Times-Roman SF
42110 XM
(that use a special)39 W
/Courier SF
49320 XM
(malloc)SH
/Times-Roman SF
14120 49363 MT
(to help detect memory leaks.  The following files are needed for this:)SH
/Courier SF
14120 51118 MT
(include-special/newplumb.h)SH
14120 53380 MT
(lib-special/{libplumber.a,libnewplumb.a})SH
/Times-Roman SF
14120 55197 MT
(If you don't plan to build the plumbing facilities, you can just create)
24 W( zero-length files with these)25 W
14120 56302 MT
(names to keep the)SH
/Courier SF
21563 XM
(MAKECODA)SH
/Times-Roman SF
26613 XM
(script happy.)SH
6120 57879 MT
(Modified Mach headers)SH
14120 58984 MT
(The changes in these files had to be made because of compilation errors from C++, or \050as in)
30 W( the)31 W
14120 60089 MT
(case of)SH
/Courier SF
17174 XM
(assert.h)SH
/Times-Roman SF
(\051 to define different behavior for standard macros:)SH
/Courier SF
14120 61844 MT
(include-special/{assert.h,cthreads.h,setjmp.h,sys/inode.h,)SH
28520 62975 MT
(i386/fpreg.h,i386_mach/endian.h})SH
12 /Times-Bold AF
6120 66659 MT
(13.4.3. Using the MAKECODA script)SH
10 /Times-Roman AF
6120 68036 MT
(Once you have taken care of)
46 W( the prerequisites and special files, you can compile a release.  The simplest way to do)45 W
6120 69413 MT
(this is to run the)174 W
/Courier SF
13685 XM
(MAKECODA)SH
/Times-Roman SF
18909 XM
(script in)174 W
/Courier SF
22757 XM
(src)SH
/Times-Roman SF
(. This)
598 W( script takes one required and two optional arguments.)
174 W( The)599 W
6120 70790 MT
(required argument)
56 W( is)55 W
/Courier SF
14812 XM
(OBJECTDIR)SH
/Times-Roman SF
(, which is the pathname of the directory where the object files should be placed.)55 W
6120 75600 MT
(December 21, 1995)SH
51920 XM
(56)SH
ES
%%Page: 57 58
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
44498 XM
(Coda Source Coda Layout)SH
8280 7886 MT
(It is sensible to specify a different)
24 W( directory for each machine type, and the)25 W
/Courier SF
38811 XM
(@sys)SH
/Times-Roman SF
41486 XM
(facility of AFS and Coda lets you)25 W
8280 9263 MT
(do this.)SH
8280 11329 MT
(So, for example, to compile the)SH
/Courier SF
21112 XM
(beta)SH
/Times-Roman SF
23762 XM
(release, I would do the following:)SH
9 /Courier AF
10440 12615 MT
(cd /coda/project/coda/beta/src)SH
10440 13563 MT
(./MAKECODA OBJECTDIR=/coda/usr/satya/OBJS/@sys)SH
10 /Times-Roman AF
8280 15629 MT
(The)SH
/Courier SF
10115 XM
(MAKECODA)SH
/Times-Roman SF
15195 XM
(script will first check to make sure that all necessary)
30 W( special files are present.  If any are missing it)29 W
8280 17006 MT
(will prompt you.  It then goes through the Coda modules in the correct order, and does a)34 W
/Courier SF
44443 XM
(make install)35 W
/Times-Roman SF
51963 XM
(on each)35 W
8280 18383 MT
(of them.  The)
69 W( usual checkin to RCS that is done by)68 W
/Courier SF
29737 XM
(alphaci)SH
/Times-Roman SF
34255 XM
(as part of)68 W
/Courier SF
38430 XM
(make install)68 W
/Times-Roman SF
46016 XM
(\050see Section 13.5.1\051 is)68 W
8280 19760 MT
(supressed. If)
344 W( all goes well, everything in Coda will be compiled, and the)47 W
/Courier SF
38351 XM
(bin)SH
/Times-Roman SF
(,)SH
/Courier SF
40698 XM
(lib)SH
/Times-Roman SF
(, and)47 W
/Courier SF
44786 XM
(include)SH
/Times-Roman SF
49283 XM
(directores will)48 W
8280 21137 MT
(be populated.  You will have to repeat this once for each machine type.)SH
8280 23203 MT
(Sometimes, you will run into a problem part-way through)102 W
/Courier SF
32530 XM
(MAKECODA)SH
/Times-Roman SF
(. After)
453 W( you have fixed the problem, you'd)101 W
8280 24580 MT
(probably like to continue where you)
39 W( left off rather than redoing everything from the beginning.  Hence)40 W
/Courier SF
50280 XM
(MAKECODA)SH
/Times-Roman SF
8280 25957 MT
(lets you specify the name of the module to start from.  Here is an example:)SH
9 /Courier AF
10440 27243 MT
(./MAKECODA OBJECTDIR=/tmp/@sys FIRSTMODULE=vol)SH
10 /Times-Roman AF
8280 29309 MT
(Finally, the pathname of the root of the)
34 W( release you are compiling is specified by the variable)33 W
/Courier SF
46286 XM
(ROOT)SH
/Times-Roman SF
48969 XM
(in)SH
/Courier SF
50030 XM
(MAKECODA)SH
/Times-Roman SF
(.)SH
8280 30686 MT
(You can)
69 W( change this by editing)70 W
/Courier SF
21364 XM
(MAKECODA)SH
/Times-Roman SF
(, and this is in fact what the)70 W
/Courier SF
37973 XM
(makebeta)SH
/Times-Roman SF
43093 XM
(script does for you when you)70 W
8280 32063 MT
(create a new release.  But you can also override it on the command line thus:)SH
9 /Courier AF
10440 33349 MT
(cd /tmp)SH
10440 34297 MT
(MAKECODA OBJECTDIR=/tmp/@sys  ROOT=/coda/project/coda/alpha)SH
14 /Times-Bold AF
8280 38115 MT
(13.5. Making Incremental Changes)SH
10 /Times-Roman AF
8280 39492 MT
(Once the)212 W
/Courier SF
12536 XM
(alpha)SH
/Times-Roman SF
15998 XM
(release has been built, you can start code development.  We have)
212 W( already seen the general)211 W
8280 40869 MT
(procedure in Section 13.1.2.  Let's look at an example in more detail.)SH
8280 42935 MT
(Suppose I am working on the module)108 W
/Courier SF
24286 XM
(vtools)SH
/Times-Roman SF
28245 XM
(and need to change the files)109 W
/Courier SF
40285 XM
(cmon.c)SH
/Times-Roman SF
44244 XM
(and)SH
/Courier SF
46047 XM
(codacon.c)SH
/Times-Roman SF
(. Here's)468 W
8280 44312 MT
(what I would do:)SH
9 /Courier AF
10440 45598 MT
(# Create a scratch directory for my work)SH
10440 46546 MT
(mkdir /coda/usr/satya/src)SH
10440 47494 MT
(cd /coda/usr/satya/src)SH
10440 49390 MT
(# Set up links to RCS directory, and root of release)SH
10440 50338 MT
(ln -s /afs/cs/project/coda/rcs/coda-1.0 RCSLINK)SH
10440 51286 MT
(ln -s /coda/project/coda/alpha/src SRCROOT)SH
10440 52234 MT
(ln -s SRCROOT/Makeconf)SH
10440 54130 MT
(# Create directory for this module)SH
10440 55078 MT
(mkdir vtools)SH
10440 56026 MT
(cd vtools)SH
10440 56974 MT
(ln -s ../RCSLINK/vtools RCS)SH
10440 58870 MT
(# Lock and checkout the file\050s\051 to be modified)SH
10440 59818 MT
(rcsco -l cmon.c codacon.c)SH
10440 61714 MT
(# Now edit cmon.c and codacon.c)SH
10440 63610 MT
(# Then compile this module)SH
10440 64558 MT
(# Source the standard environment file to make sure your)SH
10440 65506 MT
(# compilation environment \050PATH, LPATH, CPATH, etc.\051 is set up right)SH
10440 66454 MT
(source ../SRCROOT/SOURCEME)SH
10440 67402 MT
(make OBJECTDIR=/coda/usr/satya/OBJS/@sys cmon codacon)SH
10 /Times-Roman AF
8280 75600 MT
(December 21, 1995)SH
54080 XM
(57)SH
ES
%%Page: 58 59
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
42338 XM
(Coda Source Coda Layout)SH
9 /Courier AF
8280 7762 MT
(# Test cmon & codacon, then iterate on edit/debug cycle above)SH
8280 9658 MT
(# Now you are ready to install your changes.)SH
8280 10606 MT
(# You must first create a file called RCSMSG, and enter text)SH
8280 11554 MT
(# in it that will become the RCS log message for the checkin.)SH
8280 12502 MT
(# It will also be posted to the changelog bboard, so that)SH
8280 13450 MT
(# others in the group will know of your installation)SH
8280 15346 MT
(echo "Fixes to annoying bugs ... blah blah blah ..." > RCSMSG)SH
8280 16294 MT
(make OBJECTDIR=/coda/usr/satya/OBJS/@sys install)SH
8280 18190 MT
(# You are now done!)SH
8280 19138 MT
(# The install step automatically released the write locks on cmon.c)SH
8280 20086 MT
(# and codacon.c)SH
8280 21982 MT
(# Repeat the install step for each of the other supported platforms.)SH
10 /Times-Roman AF
6120 24048 MT
(Notice that many other files may be need for)
7 W( compilation, but you don't have to check them out.  This is because the)6 W
6120 25425 MT
(CMU-SCS make knows to check out any needed files automatically into the compilation target area.)SH
12 /Times-Bold AF
6120 29109 MT
(13.5.1. The alphaci script)SH
10 /Times-Roman AF
6120 30486 MT
(The automatic checkin is done by a script called)110 W
/Courier SF
26634 XM
(alphaci)SH
/Times-Roman SF
31194 XM
(that is invoked as the last step of)111 W
/Courier SF
45359 XM
(make install)111 W
/Times-Roman SF
(.)SH
/Courier SF
6120 31863 MT
(alphaci)SH
/Times-Roman SF
10596 XM
(will give you an error)
26 W( if the)25 W
/Courier SF
22023 XM
(RCSMSG)SH
/Times-Roman SF
25898 XM
(file is missing; it moves it to)25 W
/Courier SF
37714 XM
(RCSMSG.old)SH
/Times-Roman SF
43989 XM
(once it has checked in)25 W
6120 33240 MT
(files.)SH
/Courier SF
8646 XM
(alphaci)SH
/Times-Roman SF
13123 XM
(is smart enough to discover new files that aren't mentioned in)
27 W( RCS, and prompts you to ask if you)28 W
6120 34617 MT
(want them checked)
25 W( in too.  Often you may not want this, because the files in question were just test files created for)24 W
6120 35994 MT
(debugging.)SH
/Courier SF
11172 XM
(alphaci)SH
/Times-Roman SF
15662 XM
(assumes that only writable files should be checked)
40 W( in; it prompts you about what to do with)41 W
6120 37371 MT
(files that are not writable.)SH
6120 39437 MT
(The RCSMSG file is also used by)1083 W
/Courier SF
27507 XM
(alphaci)SH
/Times-Roman SF
33040 XM
(for posting on the changelog bboard)1082 W
6120 40814 MT
(\050)SH
/Courier SF
(cmu.cs.proj.coda.changelog)SH
/Times-Roman SF
22373 XM
(at CMU\051.)
70 W( You)
391 W( should follow the posts on this bboard closely, so that you)71 W
6120 42191 MT
(are aware of changes to Coda modules by other project members.  Here are some typical posts from the bboard:)SH
9 /Courier AF
8280 43477 MT
(03-Feb-93 18:56)
SH( M)
1080 W( Satya)
SH( Installed)
1080 W( scripts for IBMRT)SH
8280 44425 MT
(Posted by alphaci from STRAUSS.CODA.CS.CMU.EDU)SH
8280 45373 MT
(No files checked into RCS)SH
8280 47269 MT
(03-Feb-93 18:50)
SH( M)
1080 W( Satya)
SH( Installed)
1080 W( scripts for I386)SH
8280 48217 MT
(Posted by alphaci from WEBER.CODA.CS.CMU.EDU)SH
8280 49165 MT
(No files checked into RCS)SH
8280 51061 MT
(03-Feb-93 18:22)
SH( M)
1080 W( Satya)
SH( Installed)
1080 W( scripts for PMAX)SH
8280 52009 MT
(Posted by alphaci from MOZART.CODA.CS.CMU.EDU)SH
8280 52957 MT
(Files checked into RCS:)
SH( Makefile)
2700 W( makebeta restartserver restore.sh)SH
8280 53905 MT
(RCS message follows:)SH
8280 54853 MT
(Created new script, makebeta, to make a clone of the entire alpha)SH
8280 55801 MT
(source tree, and to create branches in RCS for all files.)SH
10 /Times-Roman AF
6120 57211 MT
(Notice how the installations)
123 W( for machine types I386 and IBMRT caused no RCS files to be checked in.  This is)122 W
6120 58588 MT
(because the installation for the first machine type, PMAX, did the checkin.)SH
14 /Times-Bold AF
6120 62406 MT
(13.6. Promoting Releases)SH
10 /Times-Roman AF
6120 63783 MT
(As we have seen earlier, there are 3 important releases of software:)30 W
/Courier SF
33834 XM
(alpha,)
280 MX(beta,)SH
/Times-Roman SF
40994 XM
(and)SH
/Courier SF
42718 XM
(omega)SH
/Times-Roman SF
(. Servers)
310 W( are)
30 W( also)31 W
6120 65160 MT
(classified by this scheme.)
275 W( At)
798 W( the time of writing this document, there were 3)274 W
/Courier SF
41257 XM
(omega)SH
/Times-Roman SF
44781 XM
(servers \050)274 W
/Courier SF
(rossini)SH
/Times-Roman SF
(,)SH
/Courier SF
6120 66537 MT
(puccini)SH
/Times-Roman SF
(, and)5 W
/Courier SF
12524 XM
(scarlatti)SH
/Times-Roman SF
(\051, 3)5 W
/Courier SF
19517 XM
(beta)SH
/Times-Roman SF
22172 XM
(servers \050)5 W
/Courier SF
(grieg)SH
/Times-Roman SF
(,)SH
/Courier SF
29097 XM
(haydn)SH
/Times-Roman SF
(, and)5 W
/Courier SF
34301 XM
(wagner)SH
/Times-Roman SF
(\051, and 4)5 W
/Courier SF
41193 XM
(alpha)SH
/Times-Roman SF
44449 XM
(servers \050)6 W
/Courier SF
(schumann)SH
/Times-Roman SF
(,)SH
/Courier SF
6120 67914 MT
(gershwin)SH
/Times-Roman SF
(,)SH
/Courier SF
11420 XM
(mahler)SH
/Times-Roman SF
(, and)SH
/Courier SF
17214 XM
(vivaldi)SH
/Times-Roman SF
(\051.)SH
6120 69980 MT
(The)SH
/Courier SF
8052 XM
(omega)SH
/Times-Roman SF
11429 XM
(servers hold real data, so software let loose on)
127 W( them should have been tested very well.  Having to)126 W
6120 71357 MT
(reinitialize and to restore)
55 W( many gigabytes on the)56 W
/Courier SF
26062 XM
(omega)SH
/Times-Roman SF
29368 XM
(servers because of storage corruption is not an experience)56 W
6120 75600 MT
(December 21, 1995)SH
51920 XM
(58)SH
ES
%%Page: 59 60
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
44498 XM
(Coda Source Coda Layout)SH
8280 7886 MT
(you are likely to forget!  The)58 W
/Courier SF
20489 XM
(beta)SH
/Times-Roman SF
23197 XM
(servers hold some real data, but the number)
58 W( of users depending on that data is)57 W
8280 9263 MT
(restricted to a few Coda project members.  Further, that data is of)
136 W( a kind that can be easily reconstructed.  The)137 W
/Courier SF
8280 10640 MT
(alpha)SH
/Times-Roman SF
11627 XM
(servers are used by project members for testing.  Obviously, only one)
97 W( person can test their software on a)96 W
8280 12017 MT
(server at a time, so you should coordinate use of the servers with the other members.)SH
12 /Times-Bold AF
8280 15701 MT
(13.6.1. Promoting alpha to beta)SH
10 /Times-Roman AF
8280 17078 MT
(When the)68 W
/Courier SF
12527 XM
(alpha)SH
/Times-Roman SF
15846 XM
(release has diverged substantially from)69 W
/Courier SF
32049 XM
(beta)SH
/Times-Roman SF
(, and is relatively stable, we will decide to make a)69 W
8280 18455 MT
(new)SH
/Courier SF
10196 XM
(beta)SH
/Times-Roman SF
12846 XM
(release. One)
250 W( member of the Coda project will serve as)SH
/Times-Italic SF
35007 XM
(release coordinator)SH
/Times-Roman SF
43173 XM
(for the promotion.)SH
8280 20521 MT
(The first step in this process is for the release coordinator to post on)127 W
/Courier SF
37443 XM
(cmu.cs.proj.coda.general)SH
/Times-Roman SF
(, asking)126 W
8280 21898 MT
(project members to checkin changes and to drop all RCS locks on the main line of development)
187 W( by a certain)188 W
8280 23275 MT
(deadline. As)
268 W( soon as possible you should release all)
9 W( mainline locks.  It is ok to hold on to locks on private branches.)8 W
8280 24652 MT
(Once the deadline expires, the release coordinator will feel free to break mainline locks.)SH
8280 26718 MT
(In the second step,)
181 W( the release coordinator runs the)182 W
/Courier SF
30410 XM
(makebeta)SH
/Times-Roman SF
35642 XM
(script to create a clone of the current state of)182 W
/Courier SF
8280 28095 MT
(alpha)SH
/Times-Roman SF
(.)SH
/Courier SF
12340 XM
(makebeta)SH
/Times-Roman SF
17545 XM
(first synthesizes a unique identifier of the form)154 W
/Times-Italic SF
37774 XM
(date_xxxxx)SH
/Times-Roman SF
42620 XM
(where)SH
/Times-Italic SF
45467 XM
(xxxxx)SH
/Times-Roman SF
48091 XM
(is the number of)154 W
8280 29472 MT
(seconds since midnight.)
141 W( The)
534 W( name of the new release is then)142 W
/Courier SF
34672 XM
(beta-<unique identifier>)142 W
/Times-Roman SF
(; for example,)142 W
/Courier SF
8280 30849 MT
(beta-3Feb1993_43696)SH
/Times-Roman SF
(. This)
578 W( name)
164 W( is used to tag a new RCS branch for every file in the release, so that)163 W
8280 32226 MT
(emergency fixes are possible long after the)SH
/Courier SF
25692 XM
(alpha)SH
/Times-Roman SF
28942 XM
(release has diverged from this)SH
/Courier SF
41189 XM
(beta)SH
/Times-Roman SF
43839 XM
(release.)SH
8280 34292 MT
(The)SH
/Courier SF
10085 XM
(makebeta)SH
/Times-Roman SF
15135 XM
(script works as follows:)SH
/Symbol SF
10070 35745 MT
(\267)SH
/Times-Roman SF
10780 XM
(First, it constructs a unique name for the release, as described above.  It then pauses, waiting)
SH( for the user)1 W
10780 36850 MT
(to construct a directory with this name.)
110 W( Usually,)
468 W( the release coordinator makes this name the mount)109 W
10780 37955 MT
(point of a new volume.)67 W
/Courier SF
20931 XM
(makebeta)SH
/Times-Roman SF
26048 XM
(checks to make sure)
67 W( the directory is empty before proceeding, to)68 W
10780 39060 MT
(avoid accidental clobbers.  For brevity, we refer to this directory as)SH
/Courier SF
37885 XM
($BETA)SH
/Times-Roman SF
(.)SH
/Symbol SF
10070 40818 MT
(\267)SH
/Times-Roman SF
10780 XM
(Second,)SH
/Courier SF
14298 XM
(makebeta)SH
/Times-Roman SF
19422 XM
(looks at)74 W
/Courier SF
22959 XM
(/coda/project/coda/alpha/src)SH
/Times-Roman SF
40083 XM
(\050)SH
/Courier SF
($ALPHA/src)SH
/Times-Roman SF
(, for short\051)
74 W( and)73 W
10780 41923 MT
(determines the names of the modules in it.)SH
/Symbol SF
10070 43681 MT
(\267)SH
/Times-Roman SF
10780 XM
(Third, it makes a)
42 W( copy of the)43 W
/Courier SF
22854 XM
($ALPHA)SH
/Times-Roman SF
26747 XM
(modules in)43 W
/Courier SF
31500 XM
($BETA)SH
/Times-Roman SF
(. In)
336 W( making this copy, it actually checks out)43 W
10780 44786 MT
(the files \050unlocked\051 from RCS, and compares them with)16 W
/Courier SF
33588 XM
($ALPHA)SH
/Times-Roman SF
(. This)
282 W( is a sanity check, to ensure that)16 W
10780 45891 MT
(RCS and)SH
/Courier SF
14614 XM
($ALPHA)SH
/Times-Roman SF
18464 XM
(are in sync.  One side effect of this comparison is to detect RCS locks.)SH
/Symbol SF
10070 47649 MT
(\267)SH
/Times-Roman SF
10780 XM
(If any locks were detected, or if any files in RCS differed from their copies)
94 W( in)95 W
/Courier SF
43585 XM
($ALPHA)SH
/Times-Roman SF
(,)SH
/Courier SF
47780 XM
(makebeta)SH
/Times-Roman SF
10780 48754 MT
(pauses and asks the user to go take a look at what's wrong.  It then asks the user whether to proceed.)SH
/Symbol SF
10070 50512 MT
(\267)SH
/Times-Roman SF
10780 XM
(Next,)SH
/Courier SF
13265 XM
(makebeta)SH
/Times-Roman SF
18356 XM
(creates a new RCS branch, named after this)
41 W( release, and re-checks out files from the)40 W
10780 51617 MT
(branch so that)SH
/Courier SF
16640 XM
($Header$)SH
/Times-Roman SF
21690 XM
(in those files is correctly set.)SH
/Symbol SF
10070 53375 MT
(\267)SH
/Times-Roman SF
10780 XM
(At this point, the files)20 W
/Courier SF
19825 XM
(MAKECODA)SH
/Times-Roman SF
24895 XM
(and)SH
/Courier SF
26609 XM
(Makeconf)SH
/Times-Roman SF
31679 XM
(at the top)
20 W( level of)21 W
/Courier SF
39031 XM
($BETA)SH
/Times-Roman SF
42302 XM
(are edited by)21 W
/Courier SF
47780 XM
(makebeta)SH
/Times-Roman SF
10780 54480 MT
(so that all references to)SH
/Courier SF
20305 XM
($ALPHA)SH
/Times-Roman SF
24155 XM
(are changed to)SH
/Courier SF
30236 XM
($BETA)SH
/Times-Roman SF
(.)SH
/Symbol SF
10070 56238 MT
(\267)SH
/Times-Roman SF
10780 XM
(Finally,)SH
/Courier SF
14114 XM
(makebeta)SH
/Times-Roman SF
19164 XM
(copies over all the special directories \050)SH
/Courier SF
({lib,bin,src,include}-special)SH
/Times-Roman SF
(\051.)SH
8280 58304 MT
(The above procedure is quite slow, since many RCS interactions are involved.  It usually takes a few hours.)
65 W( If)
379 W( all)64 W
8280 59681 MT
(goes well,)16 W
/Courier SF
12617 XM
(makebeta)SH
/Times-Roman SF
17683 XM
(requires little babysitting.  Note that the script does no locking.  In other words, the)17 W
/Courier SF
51480 XM
($ALPHA)SH
/Times-Roman SF
8280 61058 MT
(tree better remain frozen for the entire duration of the promotion.)SH
8280 63124 MT
(In the third step, the release coordinator)47 W
/Courier SF
24772 XM
(cd)SH
/Times-Roman SF
('s into)47 W
/Courier SF
28844 XM
($BETA/src)SH
/Times-Roman SF
(, and runs)47 W
/Courier SF
38551 XM
(MAKECODA)SH
/Times-Roman SF
43648 XM
(once for each)
47 W( machine type.)46 W
8280 64501 MT
(Note that he doesn't have to specify anything)
146 W( other than)147 W
/Courier SF
32406 XM
(OBJECTDIR)SH
/Times-Roman SF
(, since)147 W
/Courier SF
40905 XM
(makebeta)SH
/Times-Roman SF
46102 XM
(has already set)147 W
/Courier SF
52680 XM
(ROOT)SH
/Times-Roman SF
8280 65878 MT
(correctly in the)36 W
/Courier SF
14692 XM
(MAKECODA)SH
/Times-Roman SF
19778 XM
(script. This)
322 W( step guarantees that the binaries in)36 W
/Courier SF
39155 XM
($BETA)SH
/Times-Roman SF
42441 XM
(were indeed compiled)
36 W( from the)35 W
8280 67255 MT
(sources in)SH
/Courier SF
12557 XM
($BETA)SH
/Times-Roman SF
(.)SH
8280 69321 MT
(In the final step, the release coordinator makes the symlink)65 W
/Courier SF
32787 XM
(beta)SH
/Times-Roman SF
35502 XM
(point to)66 W
/Courier SF
38968 XM
($BETA)SH
/Times-Roman SF
(. This)
382 W( is the "commit" step that)66 W
8280 70698 MT
(blesses the newly-cloned release as the)SH
/Courier SF
24109 XM
(beta)SH
/Times-Roman SF
26759 XM
(release.)SH
8280 75600 MT
(December 21, 1995)SH
54080 XM
(59)SH
ES
%%Page: 60 61
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
42338 XM
(Coda Source Coda Layout)SH
12 /Times-Bold AF
6120 8004 MT
(13.6.2. Promoting beta to omega)SH
10 /Times-Roman AF
6120 9381 MT
(After the)111 W
/Courier SF
10174 XM
(beta)SH
/Times-Roman SF
12935 XM
(release has been stressed for some time, it will be)
111 W( promoted to)110 W
/Courier SF
39399 XM
(omega)SH
/Times-Roman SF
(. This)
470 W( is a much simpler)110 W
6120 10758 MT
(procedure than the)92 W
/Courier SF
14088 XM
(alpha)SH
/Times-Roman SF
17430 XM
(to)SH
/Courier SF
18550 XM
(beta)SH
/Times-Roman SF
21292 XM
(promotion. The)
434 W( release coordinator merely has to make the symlink)93 W
/Courier SF
49920 XM
(omega)SH
/Times-Roman SF
6120 12135 MT
(point to the)108 W
/Courier SF
11250 XM
(beta-xxxx)SH
/Times-Roman SF
17008 XM
(where)SH
/Courier SF
19809 XM
(xxxx)SH
/Times-Roman SF
22567 XM
(is the unique identity of the)
108 W( release being promoted.  This "commit" step)107 W
6120 13512 MT
(blesses what was hitherto)SH
/Courier SF
16563 XM
(beta)SH
/Times-Roman SF
19213 XM
(as)SH
/Courier SF
20296 XM
(omega)SH
14 /Times-Bold AF
6120 17330 MT
(13.7. Copyright Notices)SH
10 /Times-Roman AF
6120 18707 MT
(Since Coda is distributed outside CMU,)
5 W( it is important that every source file contain a copyright notice.  The)6 W
/Courier SF
49920 XM
(blurb)SH
/Times-Roman SF
6120 20084 MT
(program simplifies adding and changing copyright notices.)116 W
/Courier SF
31129 XM
(blurb)SH
/Times-Roman SF
34495 XM
(expects to find the copyright notice is at)
116 W( the)115 W
6120 21461 MT
(very beginning of a file, so make sure you don't move it when modifying a file.)SH
6120 23527 MT
(The only modules)
24 W( without Coda copyright notices are)25 W
/Courier SF
28094 XM
(sunrpc,)SH
/Times-Roman SF
32569 XM
(which is public-domain code from Sun, and)25 W
/Courier SF
50520 XM
(cfs,)SH
/Times-Roman SF
6120 24904 MT
(which is mostly Mach kernel code.)SH
6120 26970 MT
(Some files in Coda are derived from the 1986 version of AFS-2.0.  Since)
3 W( AFS-2.0 is owned by IBM, these files have)2 W
6120 28347 MT
(an IBM copyright notice in addition to the Coda copyright notice.)SH
6120 30413 MT
(When you modify a file or add a)
36 W( new file, you should pay attention to the copyright notices.  Here are some simple)37 W
6120 31790 MT
(rules to follow:)SH
8120 33129 MT
(1.)SH
9120 XM
(If you add new files, just)
84 W( include the Coda copyright notice.  By definition, new code is not derived)83 W
9120 34234 MT
(from AFS-2.0 and should not receive an IBM copyright notice.)SH
8120 35992 MT
(2.)SH
9120 XM
(If you modify an existing file, don't do anything with the)
55 W( copyright notice.  All else being equal, add)56 W
9120 37097 MT
(new code to new files, or to)
36 W( existing files without the IBM copyright notice.  But use good judgement)35 W
9120 38202 MT
(here --)
27 W( if it is clear that the correct home for a piece of code is a file with an IBM copyright notice, go)28 W
9120 39307 MT
(ahead and put it there.)SH
8120 41065 MT
(3.)SH
9120 XM
(If you make a substantial copy of a file with an IBM copyright notice)
53 W( then the copy also acquires the)52 W
9120 42170 MT
(IBM copyright notice.  The interpretation of)
20 W( "substantial copy" is, of course, subjective.  If you copy a)21 W
9120 43275 MT
(variable declaration, it)
2 W( is not a "substantial copy".  If you copy a whole bunch of procedures or macros,)1 W
9120 44380 MT
(it is definitely a "substantial copy".)SH
6120 46446 MT
(A simple way to think of this is that some)
33 W( files in Coda are "tainted" \050i.e., they are derived from AFS-2.0\051.  Tainted)34 W
6120 47823 MT
(files can infect other files if enough)
204 W( of their innards are copied.  Existing untainted files, and new files, stay)203 W
6120 49200 MT
(untainted forever.  In general, do your best to keep)
178 W( the number of tainted files to a minimum.  Note that this)179 W
6120 50577 MT
(discipline regarding)
161 W( copyrights is not intended to be onerous or constraining --- just common sense and a little)160 W
6120 51954 MT
(self-discipline.)SH
14 /Times-Bold AF
6120 55772 MT
(13.8. Using RCS for Revision Control)SH
10 /Times-Italic AF
26992 57380 MT
(to be written)SH
14 /Times-Bold AF
6120 61198 MT
(13.9. Coding Tips)SH
10 /Times-Italic AF
26992 62806 MT
(to be written)SH
/Times-Roman SF
6120 75600 MT
(December 21, 1995)SH
51920 XM
(60)SH
ES
%%Page: 61 62
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
48333 XM
(Quick Reference)SH
16 /Times-Bold AF
27834 8272 MT
(Appendix I)SH
26171 9680 MT
(Quick Reference)SH
10 SS 
8280 11290 MT
(cfs checkpointml)SH
/Times-Roman SF
22680 XM
(Checkpoint Coda modify log)SH
/Times-Bold SF
8280 12395 MT
(cfs la)SH
/Times-Roman SF
22680 XM
(Display a Coda access control list)SH
/Times-Bold SF
8280 13500 MT
(cfs sa)SH
/Times-Roman SF
22680 XM
(Set a Coda access control list)SH
/Times-Bold SF
8280 14605 MT
(clog)SH
/Times-Roman SF
22680 XM
(Authenticate to Coda servers)SH
/Times-Bold SF
8280 15710 MT
(cpasswd)SH
/Times-Roman SF
22680 XM
(Change your Coda password)SH
/Times-Bold SF
8280 16815 MT
(ctokens)SH
/Times-Roman SF
22680 XM
(List Coda tokens)SH
/Times-Bold SF
8280 17920 MT
(hoard)SH
/Times-Roman SF
22680 XM
(Set your hoard database)SH
/Times-Bold SF
8280 19025 MT
(hoard 'list /dev/tty')SH
/Times-Roman SF
22680 XM
(List your hoard database)SH
/Times-Bold SF
8280 20130 MT
(repair)SH
/Times-Roman SF
22680 XM
(Repair inconsistent files and directories)SH
/Times-Bold SF
8280 21235 MT
(spy)SH
/Times-Roman SF
22680 XM
(List all Coda files that are referenced)SH
/Times-Bold SF
8280 23301 MT
(To Disconnect)SH
/Times-Roman SF
14613 XM
(If you need to set up yout hoard database, run:)SH
10280 24821 MT
(%)SH
/Times-Bold SF
11363 XM
(hoard -f <hoardfile>)SH
/Times-Roman SF
8280 26341 MT
(for each project file.)SH
8280 28407 MT
(If you already have your database set up, run:)SH
10280 29927 MT
(%)SH
/Times-Bold SF
11363 XM
(hoard walk)SH
/Times-Roman SF
8280 75600 MT
(December 21, 1995)SH
54080 XM
(61)SH
ES
%%Page: 62 63
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
47780 XM
(System Files)SH
6120 75600 MT
(December 21, 1995)SH
51920 XM
(62)SH
ES
%%Page: 63 64
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
49940 XM
(System Files)SH
16 /Times-Bold AF
27523 8272 MT
(Appendix II)SH
27636 9680 MT
(System Files)SH
10 /Times-Roman AF
8280 11290 MT
(File)SH
14040 XM
(Where)SH
20520 XM
(Created By)SH
27000 XM
(Edited By)SH
33480 XM
(Purpose)SH
8280 12395 MT
(--------------)SH
14040 XM
(-------------)SH
20520 XM
(-------------)SH
27000 XM
(-------------)SH
33480 XM
(--------------------------)SH
8280 13500 MT
(auth2.pw)SH
14040 XM
(/vice/db)SH
20520 XM
(initpw)SH
33480 XM
(Authentication server to generate secret tokens.)SH
8280 14605 MT
(auth2.tk)SH
14040 XM
(/vice/db)SH
20520 XM
(hand)SH
33480 XM
(Used for secure communication among Coda servers.)SH
8280 15710 MT
(dumplist)SH
14040 XM
(/vice/db)SH
20520 XM
(hand)SH
27000 XM
(createvol)SH
33480 XM
(Specifies which volumes to backup and when.)SH
8280 16815 MT
(files)SH
14040 XM
(/vice/db)SH
20520 XM
(hand)SH
27000 XM
(hand)SH
33480 XM
(Update uses the files in 'files' as a list of)SH
33480 17920 MT
(files to keep up to date.)SH
8280 19025 MT
(groups_coda)SH
20520 XM
(hand)SH
27000 XM
(hand)SH
33480 XM
(By pwd2pdb to create vice.pdb file)SH
8280 20130 MT
(hosts)SH
14040 XM
(/vice/db)SH
20520 XM
(hand)SH
27000 XM
(hand)SH
33480 XM
(Lists all of the servers in this Coda installation.)SH
8280 21235 MT
(pro.db)SH
14040 XM
(/vice/db)SH
20520 XM
(adduser)SH
33480 XM
(Coda protection database)SH
8280 22340 MT
(servers)SH
14040 XM
(/vice/db)SH
20520 XM
(hand)SH
27000 XM
(hand)SH
33480 XM
(Server number.  Used as part of a volume number.)SH
8280 23445 MT
(VLDB)SH
14040 XM
(/vice/db)SH
20520 XM
(buildvldb.sh)SH
33480 XM
(Volume Location Database.  Used by clients to)SH
33480 24550 MT
(locate volumes.)SH
8280 25655 MT
(vice.pcf)SH
14040 XM
(/vice/db)SH
20520 XM
(pcfgen)SH
27000 XM
(pcfgen)SH
33480 XM
(Auth2 binary password database)SH
8280 26760 MT
(vice.pdb)SH
14040 XM
(/vice/db)SH
20520 XM
(pwd2pdb)SH
27000 XM
(pwd2pdb)SH
33480 XM
(Auth2 clear text password file)SH
8280 27865 MT
(volutil.tk)SH
14040 XM
(/vice/db)SH
20520 XM
(hand)SH
33480 XM
(Used for secure communication among Coda servers.)SH
8280 28970 MT
(VRDB)SH
14040 XM
(/vice/db)SH
20520 XM
(volutil)SH
27000 XM
(volutil)SH
33480 XM
(Map group volume names and numbers from)SH
20520 30075 MT
(makevrdb)SH
27000 XM
(makevrdb)SH
33480 XM
(a replicated volume to a VSG and the read-write)SH
33480 31180 MT
(volumes that make up the replicated volume.)SH
8280 32285 MT
(VSGDB)SH
14040 XM
(/vice/db)SH
20520 XM
(hand)SH
27000 XM
(hand)SH
33480 XM
(By createvol_rep to map a VSG to a set of servers)SH
8280 34495 MT
(AllVolumes)SH
14040 XM
(/vice/vol)SH
20520 XM
(buildvldb.sh)SH
33480 XM
(Human readable version of VLDB)SH
8280 35600 MT
(maxgroupid)SH
14040 XM
(/vice/vol)SH
20520 XM
(hand)SH
27000 XM
(createvol_rep)SH
33480 XM
(By creatvol_rep when allocating)SH
33480 36705 MT
(group id's)SH
8280 37810 MT
(partitions)SH
14040 XM
(/vice/vol)SH
20520 XM
(bldvldb)SH
33480 XM
(Lists vice partitions for all servers.)SH
8280 38915 MT
(RWlist)SH
14040 XM
(/vice/vol)SH
20520 XM
(createvol)SH
33480 XM
(Lists all read write volumes.)SH
8280 40020 MT
(user_coda)SH
20520 XM
(hand)SH
27000 XM
(hand)SH
33480 XM
(By pwd2pdb to create vice.pdb file)SH
8280 41125 MT
(VolumeList)SH
14040 XM
(/vice/vol)SH
20520 XM
(createvol)SH
33480 XM
(List of volumes on server)SH
8280 42230 MT
(VRlist)SH
14040 XM
(/vice/vol)SH
20520 XM
(volutil)SH
27000 XM
(volutil)SH
33480 XM
(Human readable version of VRDB.)SH
8280 44440 MT
(SrvLog)SH
14040 XM
(/vice/srv)SH
20520 XM
(srv)SH
33480 XM
(Log of server activity.)SH
8280 45545 MT
(SrvLog-xx)SH
14040 XM
(/vice/srv/)SH
20520 XM
(volutil)SH
33480 XM
(Old SrvLog.)SH
8280 46650 MT
(UpdateLog)SH
14040 XM
(/vice/srv)SH
20520 XM
(update)SH
27000 XM
(update)SH
33480 XM
(Log of update activity.)SH
8280 48860 MT
(AuthLog)SH
14040 XM
(/vice/auth2)SH
20520 XM
(auth2)SH
33480 XM
(Log of authenication server activity.)SH
8280 51070 MT
(vstab)SH
14040 XM
(/usr/coda/etc)SH
20520 XM
(hand)SH
27000 XM
(hand)SH
33480 XM
(Venus configuration file)SH
33480 52175 MT
(Several other programs use vstab to get server names)SH
8280 75600 MT
(December 21, 1995)SH
54080 XM
(63)SH
ES
%%Page: 64 65
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
35862 XM
(Common Problems and Possible Solutions)SH
6120 75600 MT
(December 21, 1995)SH
51920 XM
(64)SH
ES
%%Page: 65 66
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
38022 XM
(Common Problems and Possible Solutions)SH
16 /Times-Bold AF
27212 8272 MT
(Appendix III)SH
17477 9680 MT
(Common Problems and Possible Solutions)SH
10 SS 
15447 11274 MT
(Problem)SH
39263 XM
(Action)SH
8 /Times-Roman AF
8280 12747 MT
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
(_)SH
10 /Times-Bold AF
8280 15302 MT
(ls on /coda fails)SH
/Times-Roman SF
26280 XM
(If the return code is either "Invalid Argument" or "No Device",)SH
26280 16407 MT
(venus was probably restarted recently and hasn't yet finished)SH
26280 17512 MT
(initializing. Solution:  Wait a few minutes a try again.)SH
/Times-Bold SF
8280 19722 MT
(Newly created volume is)SH
/Times-Roman SF
26280 XM
(If a newly created volume, when mounted)SH
/Times-Bold SF
8280 20827 MT
(dangling link)SH
/Times-Roman SF
26280 XM
(for the first time, shows up as a dangling symbolic)SH
26280 21932 MT
(link \050it looks inconsistent\051, the problem is that new databases have)SH
26280 23037 MT
(not been distributed to the other replication sites.  Solution:  Unmount)SH
26280 24142 MT
(the volume, wait 5 minutes and try again. You'll have to reinitialize)SH
26280 25247 MT
(the venus which failed to find the volume, since vldb information)SH
26280 26352 MT
(can't be flushed.)SH
/Times-Bold SF
8280 28562 MT
(Venus Fails on Startup with)SH
/Times-Roman SF
26280 XM
(There exists a process with an reference to a file in /coda. It's)SH
/Times-Bold SF
8280 29667 MT
("unable to unmount" message)SH
/Times-Roman SF
26280 XM
(either a running process)SH
/Times-Bold SF
36111 XM
(cd)SH
/Times-Roman SF
(-ed into)SH
/Times-Italic SF
40444 XM
(/coda)SH
/Times-Roman SF
42916 XM
(To solve)SH
26280 30772 MT
(the problem, either get the process out of /coda \050in case it's)SH
26280 31877 MT
(a shell\051 or kill it the process. If you can't find the right process)SH
26280 32982 MT
(rebooting the workstation should clear it up.)SH
/Times-Bold SF
8280 35192 MT
(Venus error messages fail to)SH
/Times-Roman SF
26280 XM
(Use the)SH
/Times-Italic SF
29557 XM
(-console filename)SH
/Times-Roman SF
36889 XM
(option to)SH
/Times-Bold SF
40723 XM
(startcodav)SH
/Times-Roman SF
45472 XM
(on startup.)SH
/Times-Bold SF
8280 36297 MT
(print on console window of)SH
/Times-Roman SF
26280 XM
(This will force stderr messages to print to the specified file.)SH
/Times-Bold SF
8280 37402 MT
(window manager)SH
/Times-Roman SF
26280 XM
(Use)SH
/Times-Bold SF
28085 XM
(tail -f filename)SH
/Times-Roman SF
34556 XM
(in a window to observe any error messages.)SH
/Times-Bold SF
8280 39612 MT
(Rvm gets Trashed)SH
26280 XM
(ABSOLUTE LAST RESORT)SH
/Times-Roman SF
26280 40717 MT
(If Rvm gets trashed -- it asserts, won't recover, there are many failures)SH
26280 41822 MT
(on salvage, dumpvm fails -- there are probably serious)SH
/Times-Bold SF
48331 XM
(venus)SH
/Times-Roman SF
51026 XM
(or)SH
/Times-Bold SF
52109 XM
(srv)SH
/Times-Roman SF
26280 42927 MT
(bugs which must be fixed. Talk to Coda experts before continuing!!!)SH
/Times-Bold SF
8280 45137 MT
(Performing the following actions will result in the loss of ALL Coda file system data.)SH
/Times-Roman SF
26280 47347 MT
(Reinitializing the RVM Data segment \050i.e. with rdsinit\051)SH
26280 48452 MT
(Reinitializing the RVM Log \050i.e. with rvmutl\051)SH
26280 49557 MT
(Rewriting or trashing the file containing the Log or Data segment.)SH
8280 75600 MT
(December 21, 1995)SH
54080 XM
(65)SH
ES
%%Page: 66 67
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
47170 XM
(Example Files)SH
6120 75600 MT
(December 21, 1995)SH
51920 XM
(66)SH
ES
%%Page: 67 68
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
49330 XM
(Example Files)SH
16 /Times-Bold AF
27256 8272 MT
(Appendix IV)SH
27057 9680 MT
(Example Files)SH
14 SS 
8280 13498 MT
(IV.1. /vice/db/user.coda)SH
10 /Courier AF
10680 14904 MT
(rootl:8eyUkE/DLFLOA:0:1:Local System Manager:/:/bin/csh)SH
10680 15935 MT
(admin:A4SCSN80lqBao:2127:21:AccountsAdministrator:/usr0/admi)SH
10680 16966 MT
(n:/etc/adm)SH
10680 17997 MT
(jjk:trFEGNo9DEuN.:2954:32767:James Kistler:/usr0/jjk:/usr/cs)SH
10680 19028 MT
(/bin/csh)SH
10680 20059 MT
(satya:.Z.COf9BKQBPM:122:32767:M Satya:/cmu/itc/satya:/bin/cs)SH
10680 21090 MT
(h)SH
14 /Times-Bold AF
8280 24908 MT
(IV.2. /vice/db/groups.coda)SH
10 /Courier AF
10680 26314 MT
(System:Administrators -204)
1200 W( dcs)
1800 W( jjk mre pkumar satya)SH
10680 27345 MT
(System:coda -221)
7200 W( dcs)
1800 W( jjk mre pkumar satya)SH
10680 28376 MT
(System:codastudents -222)
7200 W( dcs)
1800 W( jjk mre pkumar)SH
14 /Times-Bold AF
8280 32194 MT
(IV.3. /vice/db/servers)SH
10 /Courier AF
10680 33600 MT
(These server ids must not be reassigned.)SH
10680 34631 MT
(Server id's must not be greater than 255.)SH
10680 35662 MT
(Aliasing no longer allowed \050i.e. do not map more than one name to one)SH
10680 36693 MT
(number\051)SH
10680 38755 MT
(MAHLER.CODA.CS.CMU.EDU 201)5400 W
10680 39786 MT
(VIVALDI.CODA.CS.CMU.EDU 202)4800 W
10680 40817 MT
(RAVEL.CODA.CS.CMU.EDU 203)6000 W
14 /Times-Bold AF
8280 44635 MT
(IV.4. /.rhosts)SH
10 /Courier AF
10680 46041 MT
(bach)SH
10680 47072 MT
(bach.coda.cs.cmu.edu)SH
10680 48103 MT
(chopin)SH
10680 49134 MT
(chopin.coda.cs.cmu.edu)SH
10680 50165 MT
(debussy)SH
10680 51196 MT
(debussy.coda.cs.cmu.edu)SH
10680 52227 MT
(handel)SH
10680 53258 MT
(handel.coda.cs.cmu.edu)SH
10680 54289 MT
(mahler)SH
10680 55320 MT
(mahler.coda.cs.cmu.edu)SH
10680 56351 MT
(mozart)SH
10680 57382 MT
(mozart.coda.cs.cmu.edu)SH
10680 58413 MT
(pachelbel)SH
10680 59444 MT
(pachelbel.coda.cs.cmu.edu)SH
10680 60475 MT
(ravel)SH
10680 61506 MT
(ravel.coda.cs.cmu.edu)SH
10680 62537 MT
(vivaldi)SH
10680 63568 MT
(vivaldi.coda.cs.cmu.edu)SH
/Times-Roman SF
8280 75600 MT
(December 21, 1995)SH
54080 XM
(67)SH
ES
%%Page: 68 69
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
44448 XM
(SLIP Documentation)SH
6120 75600 MT
(December 21, 1995)SH
51920 XM
(68)SH
ES
%%Page: 69 70
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
46608 XM
(SLIP Documentation)SH
16 /Times-Bold AF
27567 8272 MT
(Appendix V)SH
24657 9680 MT
(SLIP Documentation)SH
10 /Times-Roman AF
12280 11290 MT
(SLIP \050SERIAL LINE INTERNET PROTOCOL\051 INSTRUCTIONS)SH
8280 13500 MT
(This document contains instructions on how to go about getting a SLIP)SH
8280 14605 MT
(address and using SLIP on the SCS Cisco terminal servers)SH
8280 15710 MT
(\050TS[12].SRV.CS.CMU.EDU\051. SLIP)
250 W( connections are supported from the "CMUCS")SH
8280 16815 MT
(MCN service and V.32bis/V.42bis modems.  The "man dialup" command on a)SH
8280 17920 MT
(CS/RI/EDRC-supported workstation or time-sharing system contains information)SH
8280 19025 MT
(such as phone numbers to dial and how to use the Cisco terminal servers.)SH
8280 21235 MT
(SLIP encapsulates IP datagrams using an escape byte.  IP packets normally)SH
8280 22340 MT
(travel over 10 megabit/sec ethernet.  With SLIP, they are traversing a link)SH
8280 23445 MT
(whose bandwidth might typically be less than 20 kilobits/sec.  Thus, many)SH
8280 24550 MT
(IP-based applications might not work adequately over SLIP links.  SLIP can)SH
8280 25655 MT
(support some TELNET sessions, and a modest FTP.  While NFS and AFS might)SH
8280 26760 MT
(work, their use over SLIP is strongly discouraged.)SH
8280 30075 MT
(If you need an IP address for SLIP:)SH
8280 31180 MT
(-----------------------------------)SH
8280 33390 MT
(If you need a hostname and/or IP address for a SLIP client, run the)SH
8280 34495 MT
(/usr/cs/bin/netregister program and use the 'add' command at the prompt.)SH
8280 35600 MT
(You will then be prompted for information about the host.)SH
8280 37810 MT
(If you don't have access to the netregister program, complete the form found)SH
8280 38915 MT
(in /afs/cs/help/03-Communication/03-Tcons_and_Dialups/netregister.form and)SH
8280 40020 MT
(include the information requested below in e-mail to help@cs.cmu.edu.)SH
8280 42230 MT
(A response for the following fields is mandatory:)SH
8280 44440 MT
(- Name of host to add)SH
8280 45545 MT
(- CPU type)SH
8280 46650 MT
(- CPU model number)SH
8280 47755 MT
(- CPU asset number \050if privately owned equipment, supply CPU serial number\051)SH
8280 48860 MT
(- Primary user)SH
8280 49965 MT
(- Remarks: You MUST supply the following information:)SH
8780 52175 MT
(the IP address will be used for SLIP)SH
8780 53280 MT
(the method of access \050e.g., MCN or modem\051)SH
8780 54385 MT
(the encrypted password string as generated by the gentacpass program)SH
9280 55490 MT
(\050program use is documented below\051)SH
8780 57700 MT
(Example - Remarks: SLIP use, modem, Encrypted password string for <hostname>)SH
8280 58805 MT
(is "sGl79TRXp1Y3U")SH
8280 61015 MT
("netregister" will send mail to help@cs.cmu.edu.  Within a couple of days,)SH
8280 62120 MT
(you will receive an e-mail response containing the IP address in addition to)SH
8280 63225 MT
(other information.)SH
8280 65435 MT
(If you have an existing hostname/IP address:)SH
8280 66540 MT
(--------------------------------------------)SH
8280 68750 MT
(If you presently have a machine with an existing hostname and IP address, it)SH
8280 69855 MT
(is preferable that you ask for a new hostname/IP address or request a new IP)SH
8280 70960 MT
(address for that hostname.  The SLIP clients are assigned IP addresses on)SH
8280 75600 MT
(December 21, 1995)SH
54080 XM
(69)SH
ES
%%Page: 70 71
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
44448 XM
(SLIP Documentation)SH
6120 7886 MT
(certain subnets only.)SH
6120 11201 MT
(To use SLIP with the SCS Cisco terminal servers:)SH
6120 12306 MT
(------------------------------------------------)SH
6120 14516 MT
(The following instructions outline how to use SLIP with the SCS Cisco)SH
6120 15621 MT
(terminal servers.  It is assumed  the SLIP client that was netregistered)SH
6120 16726 MT
(has a suitable SLIP implementation and that you are familiar with its)SH
6120 17831 MT
(operation.)SH
6120 20041 MT
(1. Read /afs/cs/help/03-Communication/03-Tcons_and_Dialups/02-Cisco_tcon.doc)SH
6120 21146 MT
(to learn how to use the Cisco terminal server command interface.  If you)SH
6120 22251 MT
(will be using CMUCS MCN, you must follow the directions in Section 3.3 of)SH
6120 23356 MT
(02-Cisco_tcon.doc.)SH
6120 25566 MT
(2. At the "TS>" prompt, type:)SH
8120 27776 MT
(slip <hostname>)SH
6120 29986 MT
(where <hostname> is the first component of the hostname.  The server will)SH
6120 31091 MT
(prompt you with "Password:".  Type the password \050see below for instructions)SH
6120 32196 MT
(on getting a password\051 or just carriage return if a password has not been)SH
6120 33301 MT
(enabled. You)
250 W( should then see:)SH
8120 35511 MT
(Entering SLIP mode.)SH
8120 36616 MT
(Your IP address is 128.2.nnn.nnn, MTU is 1524 bytes)SH
6120 38826 MT
(3. A password is required for your slip account.  Please follow this)SH
6120 39931 MT
(procedure \050until something more formal is implemented\051:)SH
6120 42141 MT
(- Run the following program:)SH
6120 44351 MT
(/afs/cs/project/systems-parker/slip/bin/@sys/gentacpass [-a | -g] <hostname>)SH
6120 46561 MT
(@sys supported are:)SH
6120 47666 MT
({i386_mach,pmax_mach,sun3_mach,sun4_mach,vax_mach,sun4c_11})SH
8120 49876 MT
(-a will ask you for a password)SH
8120 52086 MT
(-g generates a password)SH
6120 54296 MT
(Whether you select your password or have one generated, the program will)SH
6120 55401 MT
(print the following line:)SH
8120 57611 MT
(Encrypted password string for <hostname> is "sGl79TRXp1Y3U")SH
6120 59821 MT
(You should send this output in an e-mail message to help@cs.cmu.edu to)SH
6120 60926 MT
(have your password updated/activated.)SH
6120 64241 MT
(Other Details:)SH
6120 65346 MT
(--------------)SH
6120 67556 MT
(- Be careful if your SLIP IP address is being ARP-served for \050either on a)SH
6120 68661 MT
(previous slipserver or if you happen to have another machine on the net)SH
6120 69766 MT
(using that address\051.  If this occurs, when you try to enter slip mode, the)SH
6120 70871 MT
(terminal server prints:  Bad slip command - invalid address instead of)SH
6120 71976 MT
("Entering SLIP mode." as above.  This probably means some machine answered)SH
6120 75600 MT
(December 21, 1995)SH
51920 XM
(70)SH
ES
%%Page: 71 72
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
46608 XM
(SLIP Documentation)SH
8280 7886 MT
(an ARP for your SLIP address.)SH
8280 10096 MT
(- Another ARP-related problem is that the server will not proxy-ARP on)SH
8280 11201 MT
(behalf of your SLIP address such that the ARP entry on other hosts will be)SH
8280 12306 MT
(updated. This)
250 W( problem will manifest itself if you switch your SLIP)SH
8280 13411 MT
(connection between TS1 and TS2 within a short period of time.  Some hosts)SH
8280 14516 MT
(may still have the ARP entry for your SLIP address pointing to the)SH
8280 15621 MT
(ethernet hardware address of the server you were connected to previously.)SH
8280 16726 MT
(This may explain why you can't connect to certain systems in SCS and)SH
8280 17831 MT
(ALL systems outside of SCS \050the gateway will have the "old" ARP entry\051.)SH
8280 18936 MT
(There is a fix for this being worked on.  Until then, when a SLIP connection)SH
8280 20041 MT
(is dropped, and a quick reconnect is desired, attempt to connect to the)SH
8280 21146 MT
(same server.)SH
8280 23356 MT
(- For many slip implementations, you need to supply a "destination IP)SH
8280 24461 MT
(address", ie, the address on the other side of the point-to-point link.  You)SH
8280 25566 MT
(can use either 128.2.209.142 or 128.2.254.129.  One of these addresses)SH
8280 26671 MT
(should be your default gateway, too.  Use the same IP address for both)SH
8280 27776 MT
(destination and default gateway.  The terminal servers will route to any)SH
8280 28881 MT
(destination. Only)
250 W( telnet connections made normally \050ie, as ascii terminal)SH
8280 29986 MT
(connections, not SLIP mode\051 are restricted to the 128.2 network.)SH
8280 32196 MT
(- Currently, Compressed SLIP \050CSLIP\051 is only available on TS2.SRV.CS.CMU.EDU)SH
8280 33301 MT
(Upgrades to TS1.SRV.CS.CMU.EDU and/or additional servers are being planned.)SH
8280 35511 MT
(- The MTU for SLIP is currently set to 1524.  This is not an issue if you)SH
8280 36616 MT
(run purely TCP over the SLIP link and your MTU doesn't match \050The TCP MAXSEG)SH
8280 37721 MT
(option will take care of this.  It might be an issue if you run UDP or other)SH
8280 38826 MT
(IP protocols and your MTU doesn't match.  If your MTU is smaller \050many SLIP)SH
8280 39931 MT
(implementations run with a default MTU of 1006\051, you will not correctly)SH
8280 41036 MT
(receive IP datagrams greater than your MTU.)SH
15530 42646 MT
(CISCO TERMINAL SERVER)SH
15780 44856 MT
(USER DOCUMENTATION)SH
16280 47066 MT
(9 February 1994)SH
8280 49276 MT
(1 Description)SH
9530 50381 MT
(The Cisco Terminal Server is a commercial, high-performance frontend which)SH
9030 51486 MT
(lets you use your terminal to talk to any ethernet-based system using the)SH
9030 52591 MT
(TELNET protocol.)SH
9530 54801 MT
(Following are 4 main sections.  The first is a brief introduction to the)SH
9030 55906 MT
(Cisco Terminal Server \050referred to simply as "server"\051.  The second)SH
9030 57011 MT
(describes the types of server connections.  The third tells how to use the)SH
9030 58116 MT
(Cisco Terminal Server \050referred to simply as "server"\051.  The fourth section)SH
9030 59221 MT
(describes some of the differences between the CMU Ethernet Frontend and the)SH
9030 60326 MT
(Cisco server.)SH
8280 62536 MT
(2 Introduction)SH
9530 63641 MT
(The Cisco Terminal Server is manufactured by Cisco Systems of Menlo Park,)SH
9030 64746 MT
(California. It)
250 W( is a 68020-based CPU with an ethernet and serial lines that)SH
9030 65851 MT
(can run asynchronously at speeds up to 38400 or 57600 baud.)SH
8280 70271 MT
(2.1 Ethernet)SH
9530 71376 MT
(The Cisco Terminal Servers are named TS1.SRV.CS.CMU.EDU \050128.2.209.142\051)SH
8280 75600 MT
(December 21, 1995)SH
54080 XM
(71)SH
ES
%%Page: 72 73
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
44448 XM
(SLIP Documentation)SH
6870 7886 MT
(and TS2.SRV.CS.CMU.EDU \050128.2.254.129\051.  It is capable of making TELNET and)SH
6870 8991 MT
(rlogin connections over the ethernet to hosts supporting those protocols.)SH
6870 10096 MT
(It can also route SLIP connections.)SH
6120 14516 MT
(2.2 Line Allocation)SH
7370 15621 MT
(Currently, a variety of low and high-speed modems, CMUCS MCN service)SH
6870 16726 MT
(ports, and local office lines are connected to the server.)SH
6120 18936 MT
(3 Connecting to the server)SH
6120 23356 MT
(3.1 Server command banner)SH
7370 24461 MT
(Once correctly connected to the server, the command exec will start up and)SH
6870 25566 MT
(give you a banner that looks like:)SH
8120 27776 MT
(SCS cisco Systems ASM/2 Terminal Server TS1.SRV.CS.CMU.EDU)SH
8120 28881 MT
(Type "?" or "help" for help on available commands.)SH
8120 31091 MT
(For more information, type "man dialup" on any CS/RI/EDRC mach ...)SH
8120 32196 MT
(See also /afs/cs/help/03-Communication/03-Tcons_and_Dialups/...)SH
6120 37721 MT
(3.2 Modem connections)SH
7370 38826 MT
(See "man dialup" for phone numbers to access the server.  Once the modem)SH
6870 39931 MT
(answers and syncs up with the originate modem, the command exec will start)SH
6870 41036 MT
(up and give you a banner as above.  Before accepting commands, the server)SH
6870 42141 MT
(will prompt you for a user name and password:)SH
8120 44351 MT
(User Access Verification)SH
8120 46561 MT
(Username:)SH
8120 47666 MT
(Password:)SH
7370 50981 MT
(At the "Username" and "Password" prompts, you must supply one of the)SH
6870 52086 MT
(following Username/password combinations:)SH
7620 54296 MT
(1. Your Kerberos ID and Kerberos password for the CS.CMU.EDU realm)SH
7620 56506 MT
(2. Your Kerberos ID as above and local terminal server password)SH
7620 58716 MT
(3. Your slip hostname in UPPERCASE and slip password)SH
7370 60926 MT
(If the login is successful, the command shell prompt "TSn>" will appear.)SH
6870 62031 MT
(\050"n" is the terminal server number.\051  At this point the server is ready to)SH
6870 63136 MT
(accept commands.  The message)SH
8120 65346 MT
(% Access denied)SH
6870 67556 MT
(is displayed if the login attempt is unsuccessful.  After 3 unsuccessful)SH
6870 68661 MT
(login attempts, the phone connection is dropped.)SH
6120 75600 MT
(December 21, 1995)SH
51920 XM
(72)SH
ES
%%Page: 73 74
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
46608 XM
(SLIP Documentation)SH
8280 7886 MT
(3.3 CMUCS MCN connections)SH
9530 8991 MT
(To set the line speed of the MCN switch and get the MCN banner and)SH
9030 10096 MT
("SERVICE?" prompt, ";" \050semicolon character\051 can be typed to set the baud)SH
9030 11201 MT
(rate using 8 data bits with no parity.  At the "SERVICE?" prompt, type)SH
9030 12306 MT
("CMUCS".)SH
9530 14516 MT
(When connecting to the server using CMUCS MCN, it will be necessary to)SH
9030 15621 MT
(type a few carriage returns to set the speed of the line.  Line speeds of)SH
9030 16726 MT
(300, 1200, 2400, 4800, 9600, and 19200 baud are supported.  The server)SH
9030 17831 MT
(banner should appear as shown above, followed by the command shell prompt)SH
9030 18936 MT
("TSn>" where "n" is the terminal server number.  No Username or password is)SH
9030 20041 MT
(required for MCN connections.)SH
8280 24461 MT
(3.4 Local office line connections)SH
9530 25566 MT
(The line connections to the office are set at 9600 baud.  Type carriage)SH
9030 26671 MT
(return to get the server banner and command prompt.  No Username or password)SH
9030 27776 MT
(is required for office connections.)SH
8280 29986 MT
(4 Commands)SH
8280 34406 MT
(4.1 Entering Commands)SH
9780 36616 MT
(1. All commands to the server are composed of a list of words)SH
10530 37721 MT
(separated by spaces, terminated by a carriage return.)SH
9780 39931 MT
(2. The first word is the name of the command.  Subsequent words)SH
10530 41036 MT
(supply additional parameters or options.)SH
9780 43246 MT
(3. Command names may be uniquely abbreviated.  Upper, lower, or)SH
10530 44351 MT
(mixed case can be used.)SH
9780 46561 MT
(4. In command mode, type a question mark \050?\051 or the word "help")SH
10530 47666 MT
(\050followed by a carriage return\051 to get a list of all command)SH
10530 48771 MT
(names which the server understands.  \050You are in command mode)SH
10530 49876 MT
(when you are prompted with "TS1>".\051)SH
9780 52086 MT
(5. The question mark \050?\051 can be used to get help on command words)SH
10530 53191 MT
(and in most cases arguments to commands.  The ? will terminate)SH
10530 54296 MT
(the command line as if a carriage return had been typed.)SH
9780 56506 MT
(6. If a command is ambiguously abbreviated, the following message)SH
10530 57611 MT
(appears:)SH
11530 59821 MT
(% Ambiguous command -- type ? for help)SH
9780 62031 MT
(7. Unrecognized commands will be treated as a host name, and a name)SH
10530 63136 MT
(lookup on the unrecognized command will begin.  Press the BREAK)SH
10530 64241 MT
(key to abort the lookup.)SH
9780 66451 MT
(8. Output from commands is done in a "more" mode, similar to the)SH
10530 67556 MT
(UNIX "more" command.  It uses the terminal length parameter to)SH
10530 68661 MT
(display a screen at a time.  Typing a space at the "--More--")SH
10530 69766 MT
(prompt will cause output to continue.  Typing any other character)SH
10530 70871 MT
(will abort the output and return you to command mode.)SH
8280 75600 MT
(December 21, 1995)SH
54080 XM
(73)SH
ES
%%Page: 74 75
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
44448 XM
(SLIP Documentation)SH
6120 7886 MT
(4.2 Connecting to a host)SH
7370 8991 MT
(To connect to a host, use the CONNECT or TELNET command followed by a)SH
6870 10096 MT
(space, the name of the host to which you wish to connect, and a carriage)SH
6870 11201 MT
(return. For)
250 W( example, to connect to K.GP.CS.CMU.EDU, enter any of the)SH
6870 12306 MT
(following:)SH
7870 14516 MT
(TS1>connect k.gp.cs.cmu.edu)SH
9870 15621 MT
(or)SH
7870 16726 MT
(TS1>c k.gp.cs.cmu.edu)SH
9870 17831 MT
(or)SH
7870 18936 MT
(TS1>telnet k.gp.cs.cmu.edu)SH
9870 20041 MT
(or)SH
7870 21146 MT
(TS1>tel k.gp.cs.cmu.edu)SH
7370 24461 MT
(The RLOGIN command may be used to "rlogin" to a machine instead of telnet.)SH
6870 25566 MT
(This transport is widely supported.)SH
7370 27776 MT
(A few words about host names.)SH
7620 29986 MT
(1. Currently, typing an abbreviated name for local hosts will work.)SH
8370 31091 MT
(For example, "K", "K.GP", "K.GP.CS" will all resolve to)SH
8370 32196 MT
("K.GP.CS.CMU.EDU". This)
250 W( functionality is not guaranteed to)SH
8370 33301 MT
(remain in the future.  At some point, it may become necessary to)SH
8370 34406 MT
(type the full host name.)SH
7620 36616 MT
(2. To specify hosts not ending in CMU.EDU, the full host name must)SH
8370 37721 MT
(be specified.)SH
7620 39931 MT
(3. In general, host name resolution on the server has the same)SH
8370 41036 MT
(behavior as on CS/RI/EDRC SCS Mach systems.  The same host names)SH
8370 42141 MT
(which are used for addressing mail and/or performing file)SH
8370 43246 MT
(transfer between systems and telnetting are also used to name)SH
8370 44351 MT
(hosts on the server.)SH
7620 46561 MT
(4. You can use the IP address of a host to connect to it.)SH
7370 48771 MT
(If the server detects problems with the name server, or the host name is)SH
6870 49876 MT
(not known, you will see messages like:)SH
7870 52086 MT
(% Unknown command or computer name, or unable to find)SH
8620 53191 MT
(computer address)SH
7870 54296 MT
(TS1>)SH
6870 56506 MT
(The server will try all known name servers before giving up.  In these)SH
6870 57611 MT
(cases, try typing the hostname again, checking carefully for spelling.  If)SH
6870 58716 MT
(the host lookup succeeds, the server will attempt to open a telnet)SH
6870 59821 MT
(connection. A)
250 W( successful attempt looks like this:)SH
7870 62031 MT
(TS1>telnet k)SH
7870 63136 MT
(Translating "K"...name server \050128.2.250.193\051 [OK])SH
7870 64241 MT
(Trying K \050128.2.254.137\051... Open)SH
9870 65346 MT
(:)SH
9870 66451 MT
(:)SH
7870 67556 MT
(\050Banner printed by host\051)SH
7370 70871 MT
(If a connection to the host cannot be made, the following message is)SH
6870 71976 MT
(printed:)SH
6120 75600 MT
(December 21, 1995)SH
51920 XM
(74)SH
ES
%%Page: 75 76
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
46608 XM
(SLIP Documentation)SH
10030 7886 MT
(% Connection timed out; remote host not responding)SH
9530 10096 MT
(As mentioned in the Entering Commands section above, any word typed in)SH
9030 11201 MT
(command mode not matching a command will be interpreted as a host name, and)SH
9030 12306 MT
(a name lookup will begin.  It is recommended that you do not get into the)SH
9030 13411 MT
(habit of depending on this short cut feature.  For example, if you type "q")SH
9030 14516 MT
(instead of "telnet q", you will have invoked the QUIT command, which closes)SH
9030 15621 MT
(your connection to the server if you have no open host connections.)SH
8280 20041 MT
(4.3 Getting back to command mode)SH
9530 21146 MT
(To get out of a connection and back to the server, press the BREAK key.)SH
9030 22251 MT
(\050If you changed your escape-character terminal parameter with the TERMINAL)SH
9030 23356 MT
(command, type the escape-character followed by "x".  For more information,)SH
9030 24461 MT
(see the section on the TERMINAL command.\051  If BREAK does not seem to work,)SH
9030 25566 MT
(make sure that your terminal is set at the right speed and try it again.)SH
9030 26671 MT
(Also, check to see that your modem is set to pass the break signal to the)SH
9030 27776 MT
(remote modem.  You are back in command mode when the "TS1>" prompt appears.)SH
8280 32196 MT
(4.4 Getting a list of your connections)SH
9530 33301 MT
(When a connection is made, it is assigned a numeric ID.  This connection)SH
9030 34406 MT
(ID is used to resume that connection.  To get a list of your current)SH
9030 35511 MT
(connections, type "where" or "w" at the command prompt.  For example,)SH
10030 37721 MT
(TS1>w)SH
10030 39931 MT
(Conn Host)
SH( Address)
750 W( Byte)
3000 W( Idle)
250 W( Conn Name)SH
10780 41036 MT
(1 K)
SH( 128.2.254.137)
1500 W( 0)
2250 W( 0)
1000 W( K)SH
10780 42141 MT
(2 RIGEL)
SH( 128.2.222.233)
500 W( 0)
2250 W( 0)
1000 W( RIGEL)SH
10030 43246 MT
(* 3)
250 W( SPARKY  128.2.209.9)
SH( 0)
2750 W( 0)
1000 W( SPARKY)SH
10780 44351 MT
(4 SPICE)
SH( 128.2.254.139)
500 W( 0)
2250 W( 0)
1000 W( SPICE)SH
9530 47666 MT
(The connection ID is used when resuming or aborting a connection as)SH
9030 48771 MT
(described below.)SH
8280 53191 MT
(4.5 Resuming a connection)SH
9530 54296 MT
(To resume a connection from command mode, type RESUME \050abbreviated "r"\051)SH
9030 55401 MT
(followed by the connected ID.  Typing just the connection ID in command mode)SH
9030 56506 MT
(will also resume the connection.  Using the above output of the "w" command,)SH
9030 57611 MT
(typing a "1" at the command prompt \050followed by carriage return\051 will)SH
9030 58716 MT
(reconnect you to the K. Similarly, typing 2 or 3 would reconnect you to)SH
9030 59821 MT
(RIGEL or SPARKY respectively.  Typing only a carriage return at the command)SH
9030 60926 MT
(prompt will reconnect you to the "current" connection.  This is denoted by)SH
9030 62031 MT
(an asterisk \050*\051 above.  For example,)SH
10030 64241 MT
(TS1>2)SH
10030 65346 MT
([Resuming connection 2 to RIGEL ... ])SH
9030 68661 MT
(reconnects you to the RIGEL.)SH
8280 75600 MT
(December 21, 1995)SH
54080 XM
(75)SH
ES
%%Page: 76 77
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
44448 XM
(SLIP Documentation)SH
6120 7886 MT
(4.6 Closing a connection)SH
7370 8991 MT
(To close an existing connection normally, log off the host.  This will)SH
6870 10096 MT
(return you to the command mode.  To abort a connection, use the DISCONNECT)SH
6870 11201 MT
(command \050abbreviated "d"\051 followed by the connection ID.  If no connection)SH
6870 12306 MT
(ID is given, the "current" connection is closed after confirmation.  You)SH
6870 13411 MT
(must always confirm when the connection is being aborted.  Typing carriage)SH
6870 14516 MT
(return, "y" or "Y" will confirm.  Typing any other character leaves the)SH
6870 15621 MT
(connection open, and keeps you in command mode.  For example,)SH
7870 17831 MT
(TS1>d 1)SH
7870 18936 MT
(Closing connection to K [confirm]y \050no [RETURN]\051)SH
6870 21146 MT
(will close the connection.  Aborting a connection in this manner has the)SH
6870 22251 MT
(following behavior:  On Mach systems, your job will be detached.  On SunOS,)SH
6870 23356 MT
(Ultrix, and VMS systems, your job will be killed.)SH
6120 27776 MT
(4.7 Disconnecting from the server)SH
7370 28881 MT
(The QUIT command \050abbreviated "q"\051 is used to disconnect from the server)SH
6870 29986 MT
(and hang up the line.  If you have any open connections, you will be asked)SH
6870 31091 MT
(to confirm the quit command.  Confirmation is the same as mentioned in the)SH
6870 32196 MT
(DISCONNECT command above.)SH
7370 34406 MT
(The EXIT command \050abbreviated "ex"\051 is the same as the QUIT command.)SH
6120 38826 MT
(4.8 Listing your terminal options)SH
7370 39931 MT
(The SHOW command with the argument "terminal" \050abbreviated "te"\051 will list)SH
6870 41036 MT
(the current settings of your terminal.)SH
6120 45456 MT
(4.9 Setting your terminal options)SH
7370 46561 MT
(The TERMINAL command \050abbreviated "ter"\051 is used to set various options)SH
6870 47666 MT
(for your terminal.)SH
7370 49876 MT
(Typing "terminal ?" displays the list of commands you can enter to change)SH
6870 50981 MT
(hardware and software parameters of the terminal line.  Most hardware)SH
6870 52086 MT
(settings should not be changed.)SH
7370 54296 MT
(The following are arguments you can give to the TERMINAL command.)SH
6870 55401 MT
(Terminal commands can be uniquely abbreviated.  Terminal commands may also)SH
6870 56506 MT
(be preceded by the word "no".  The effect of the "no" word is usually to set)SH
6870 57611 MT
(the parameter back to the default.)SH
7620 59821 MT
(1. TERMINAL-TYPE <terminal type string> will set the terminal type)SH
8370 60926 MT
(to be passed as a telnet option.  The default is currently set to)SH
8370 62031 MT
("CONCEPT-100", but will soon be changed to "network".)SH
7620 64241 MT
(2. TELNET-TRANSPARENT will cause the server to send CR-NULL \050ASCII)SH
8370 65346 MT
(13,0\051 instead of CR-LF \050ASCII 13,10\051 in response to Carriage)SH
8370 66451 MT
(Return \050CR\051 being typed.  The default behavior is to send CR-LF.)SH
7620 68661 MT
(3. ESCAPE-CHARACTER <decimal number or character> sets an escape or)SH
8370 69766 MT
(quote character.  This character is used to quote other "action")SH
8370 70871 MT
(characters to allow them to be sent to the host.  The default is)SH
8370 71976 MT
(the BREAK signal \050i.e., no escape-character\051.  If changed to)SH
6120 75600 MT
(December 21, 1995)SH
51920 XM
(76)SH
ES
%%Page: 77 78
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
46608 XM
(SLIP Documentation)SH
10530 7886 MT
(something other than BREAK, <escape-character> followed by "x")SH
10530 8991 MT
(will break out of a connection and back to command mode.)SH
9780 11201 MT
(4. HOLD-CHARACTER <decimal number or character> sets a local)SH
10530 12306 MT
(hold-character to stop output from a connection.  Typing any)SH
10530 13411 MT
(character resumes output.  The hold-character is not sent to the)SH
10530 14516 MT
(host, but the character following it is sent.  To send the)SH
10530 15621 MT
(hold-character to the host, it must be preceded with the)SH
10530 16726 MT
(escape-character, which must have been set.  The default is no)SH
10530 17831 MT
(hold-character.)SH
9780 20041 MT
(5. FLOWCONTROL <none or hardware or software> <in or out>,)SH
10530 21146 MT
(START-CHARACTER <decimal number or character>, and STOP-CHARACTER)SH
10530 22251 MT
(<decimal number or character> commands are used to set flow)SH
10530 23356 MT
(control parameters.  It is strongly recommended that the defaults)SH
10530 24461 MT
(for these on modem lines NOT be altered, as it may compromise)SH
10530 25566 MT
(proper operation of the flow control and speed conversion of the)SH
10530 26671 MT
(lines using modems.  The defaults for the modems are hardware)SH
10530 27776 MT
(flow control, thus start and stop characters are not applicable.)SH
10530 28881 MT
(When using software flow control, the start and stop characters)SH
10530 29986 MT
(default to ^Q and ^S respectively, but can be changed with the)SH
10530 31091 MT
(commands. The)
250 W( start and stop characters are always intercepted)SH
10530 32196 MT
(by the server, and are never sent to the host even when quoted)SH
10530 33301 MT
(with the escape-character.  The direction "in" refers to flow)SH
10530 34406 MT
(control received from the attached device.  The direction "out")SH
10530 35511 MT
(refers to flow control sent to the attached device.  If you want)SH
10530 36616 MT
(to type ^S and ^Q to stop and start output, the command is "term)SH
10530 37721 MT
(flowcontrol soft in".)SH
9780 39931 MT
(6. DOWNLOAD transforms your terminal line into a transparent pipe)SH
10530 41036 MT
(that can be used to transfer files with programs such as KERMIT)SH
10530 42141 MT
(or XMODEM.  This can be used to disable the effects of the action)SH
10530 43246 MT
(characters.)SH
9780 45456 MT
(7. NOTIFY causes the server to inform you when new output is pending)SH
10530 46561 MT
(on a connection other than the current one.)SH
8280 50981 MT
(4.10 Other useful commands)SH
9780 53191 MT
(1. The LOCK command will "lock" your terminal by asking for a)SH
10530 54296 MT
(password and confirming it.  The terminal will then be locked)SH
10530 55401 MT
(until any character is typed.  At that point, it will prompt for)SH
10530 56506 MT
(the password typed previously.)SH
9780 58716 MT
(2. The SYSTAT command shows terminal lines and users.)SH
9780 60926 MT
(3. The NAME CONNECTION command \050abbreviated "n"\051 can be used to give)SH
10530 62031 MT
(a logical name to a connection ID.  Type "n" followed by carriage)SH
10530 63136 MT
(return. You)
250 W( will be prompted for a connection ID and then the)SH
10530 64241 MT
(logical name.  For example,)SH
11530 66451 MT
(TS1>w)SH
11530 68661 MT
(Conn Host Address)
SH( Byte)
1000 W( Idle)
250 W( Conn Name)SH
12280 69766 MT
(1 K)
SH( 128.2.254.137)
750 W( 0)
250 W( 0)
1000 W( K)SH
11530 70871 MT
(* 2)
250 W( G)
SH( 128.2.254.132)
750 W( 0)
250 W( 0)
1000 W( G)SH
8280 75600 MT
(December 21, 1995)SH
54080 XM
(77)SH
ES
%%Page: 78 79
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
44448 XM
(SLIP Documentation)SH
9370 7886 MT
(TS1>n)SH
9370 8991 MT
(Connection number: 1)SH
9370 10096 MT
(Enter logical name: k)SH
9370 11201 MT
(Connection 1 to K will be named "K")SH
10120 12306 MT
([confirm]y)SH
9370 13411 MT
(TS1>r k)SH
9370 14516 MT
([Resuming connection 1 to K ... ])SH
6120 17831 MT
(5 Problem reports)SH
7370 18936 MT
(Please mail any problems, complaints, and/or suggestions concerning the)SH
6870 20041 MT
(Ethernet Front End software to Help@S.CMU.EDU.)SH
6120 21146 MT
(6 Documentation location)SH
7370 22251 MT
(This file can be accessed as /afs/cs/help/03-Communication/03-)SH
6870 23356 MT
(Tcons_and_Dialups/02-Cisco_tcon.doc.)SH
13870 24461 MT
(Table of Contents)SH
6870 25566 MT
(1 Description)
SH( 1)15250 W
6870 26671 MT
(2 Introduction)
SH( 1)15000 W
7870 27776 MT
(2.1 Ethernet)
SH( 1)14500 W
7870 28881 MT
(2.2 Line Allocation)
SH( 1)12750 W
6870 29986 MT
(3 Connecting to the server)
SH( 1)12000 W
7870 31091 MT
(3.1 Server command banner)
SH( 1)11250 W
7870 32196 MT
(3.2 Modem connections)
SH( 1)12250 W
7870 33301 MT
(3.3 CMUCS MCN connections)
SH( 1)11250 W
7870 34406 MT
(3.4 Local office line connections)
SH( 1)9250 W
6870 35511 MT
(4 Commands)
SH( 1)16000 W
7870 36616 MT
(4.1 Entering Commands)
SH( 1)12250 W
7870 37721 MT
(4.2 Connecting to a host)
SH( 1)11500 W
7870 38826 MT
(4.3 Getting back to command mode)
SH( 2)9500 W
7870 39931 MT
(4.4 Getting a list of your connections)
SH( 2)8000 W
7870 41036 MT
(4.5 Resuming a connection)
SH( 2)11250 W
7870 42141 MT
(4.6 Closing a connection)
SH( 2)11500 W
7870 43246 MT
(4.7 Disconnecting from the server)
SH( 2)9250 W
7870 44351 MT
(4.8 Listing your terminal options)
SH( 2)9250 W
7870 45456 MT
(4.9 Setting your terminal options)
SH( 2)9250 W
7870 46561 MT
(4.10 Other useful commands)
SH( 2)11000 W
6870 47666 MT
(5 Problem reports)
SH( 2)14250 W
6870 48771 MT
(6 Documentation location)
SH( 3)12500 W
6120 75600 MT
(December 21, 1995)SH
51920 XM
(78)SH
ES
%%Page: 79 80
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
49442 XM
(Manual Pages)SH
16 /Times-Bold AF
27256 8272 MT
(Appendix VI)SH
27057 9680 MT
(Manual Pages)SH
10 SS 
26290 11274 MT
(TABLE OF CONTENTS)SH
/Times-Roman SF
8280 12884 MT
(au\0508\051)SH
22680 XM
(add a user)SH
8280 13989 MT
(auth2\0508\051)SH
22680 XM
(authentication server)SH
8280 15094 MT
(authmon\0508\051)SH
22680 XM
(authentication monitor)SH
8280 16199 MT
(backup\0508\051)SH
22680 XM
(Volume by volume backup of the Coda File System)SH
8280 17304 MT
(bldvldb.sh\0508\051)SH
22680 XM
(build a new Volume Location Data Base \050VLDB\051)SH
8280 18409 MT
(cfs\0501\051)SH
22680 XM
(Coda File System Interface Program)SH
8280 19514 MT
(clog\0501\051)SH
22680 XM
(Authenticate yourself to the Coda file system)SH
8280 20619 MT
(clone\0508\051)SH
22680 XM
(Create a read only clone of a read write volume.)SH
8280 21724 MT
(cmon\0501\051)SH
22680 XM
(Coda server monitor)SH
8280 22829 MT
(cpasswd\0501\051)SH
22680 XM
(change Coda login password)SH
8280 23934 MT
(createvol\0508\051)SH
22680 XM
(create a non-replicated volume)SH
8280 25039 MT
(createvol_rep\0508\051)SH
22680 XM
(create read-write replicated volume)SH
8280 26144 MT
(ctokens\0501\051)SH
22680 XM
(list all tokens)SH
8280 27249 MT
(cunlog\0501\051)SH
22680 XM
(Tell the Coda Venus to release authentication tokens)SH
8280 28354 MT
(dumplist\0505\051)SH
22680 XM
(List of volumes to be archived by the Coda backup mechanism)SH
8280 29459 MT
(groups.coda\0505\051)SH
22680 XM
(Coda group file specification)SH
8280 30564 MT
(heal\0501\051, partition\0501\051, slow\0501\051)SH
22680 XM
(Insert or remove Coda failure emulator filters)SH
8280 31669 MT
(hoard\0501\051)SH
22680 XM
(hoard database front-end)SH
8280 32774 MT
(initpw\0508\051)SH
22680 XM
(Initialize the auth2 password database.)SH
8280 33879 MT
(installclient\0508\051)SH
22680 XM
(client installation script)SH
8280 34984 MT
(installserver\0508\051)SH
22680 XM
(server installation script)SH
8280 36089 MT
(maxgroupid\0505\051)SH
22680 XM
(replicated volume number allocation mechanism)SH
8280 37194 MT
(merge\0508\051)SH
22680 XM
(merge incremental dumps onto full dumps for restore)SH
8280 38299 MT
(mvdb\0501\051)SH
22680 XM
(Atomically update files in a directory)SH
8280 39404 MT
(pcfgen\0508\051)SH
22680 XM
(Create a binary Coda configuration file.)SH
8280 40509 MT
(purgevol\0508\051)SH
22680 XM
(delete a non-replicated volume)SH
8280 41614 MT
(purgevol_rep\0508\051)SH
22680 XM
(delete a replicated volume)SH
8280 42719 MT
(pwd2pdb\0508\051)SH
22680 XM
(Translate user and group files to Coda protection database.)SH
8280 43824 MT
(readdump\0508\051)SH
22680 XM
(Utility to examine dumpfiles created by the Coda backup facility)SH
8280 44929 MT
(repair\0501\051)SH
22680 XM
(repair conflict in the Coda file system)SH
8280 46034 MT
(replay\0508\051)SH
22680 XM
(manual reintegration tool)SH
8280 47139 MT
(servers\0505\051)SH
22680 XM
(map server names to numbers)SH
8280 48244 MT
(spy\0501\051)SH
22680 XM
(Report all CFS files that are opened)SH
8280 49349 MT
(srv\0508\051)SH
22680 XM
(CFS file server)SH
8280 50454 MT
(startserver\0508\051)SH
22680 XM
(Start the CFS file server)SH
8280 51559 MT
(ttyfcon\0501\051)SH
22680 XM
(tty interface to failure emulator)SH
8280 52664 MT
(updateclnt\0508\051)SH
22680 XM
(update client executables)SH
8280 53769 MT
(updatemon\0508\051)SH
22680 XM
(monitor process for the update system)SH
8280 54874 MT
(updatesrv\0508\051)SH
22680 XM
(update server files)SH
8280 55979 MT
(user.coda\0505\051)SH
22680 XM
(Coda user identification file)SH
8280 57084 MT
(venus\0508\051)SH
22680 XM
(client cache manager)SH
8280 58189 MT
(volumelist\0505\051)SH
22680 XM
(volumelist file specification)SH
8280 59294 MT
(volutil\0508\051)SH
22680 XM
(volume utility subsystem)SH
8280 60399 MT
(vrdb\0505\051)SH
22680 XM
(Volume Replication Data Base specification)SH
8280 61504 MT
(vrlist\0505\051)SH
22680 XM
(vrlist file specification)SH
8280 62609 MT
(vsgdb\0505\051)SH
22680 XM
(Volume Storage Group Data Base specification)SH
8280 63714 MT
(vstab\0505\051)SH
22680 XM
(vstab file specification)SH
8280 64819 MT
(vutil\0508\051)SH
22680 XM
(venus utility program)SH
8280 75600 MT
(December 21, 1995)SH
54080 XM
(79)SH
ES
%%Page: 80 81
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(CFS\0501\051)SH
49975 XM
(CFS\0501\051)SH
/Times-Bold SF
6120 7870 MT
(NAME)SH
600 50 11386 9011 UL
/Times-Roman SF
9720 9156 MT
(cfs)SH
12236 XM
(Coda File System Interface Program)SH
/Times-Bold SF
6120 11786 MT
(SYNOPSIS)SH
9720 13396 MT
(cfs bandwidth)SH
/Times-Roman SF
15999 XM
(<speed>)SH
/Times-Bold SF
9720 14501 MT
(cfs checkpointml)SH
9720 15606 MT
(cfs checkservers)SH
9720 16711 MT
(cfs checkvolumes)SH
9720 17816 MT
(cfs clearpriorities)SH
9720 18921 MT
(cfs compress)SH
/Times-Roman SF
15385 XM
(<file> [<file> <file> ...])SH
/Times-Bold SF
9720 20026 MT
(cfs disconnect)SH
9720 21131 MT
(cfs endrepair)SH
/Times-Roman SF
15608 XM
(<file>)SH
/Times-Bold SF
9720 22236 MT
(cfs examineclosure)SH
9720 23341 MT
(cfs flushcache)SH
9720 24446 MT
(cfs flushobject)SH
/Times-Roman SF
16108 XM
(<obj> [<obj>)
250 W( <obj> ...])SH
/Times-Bold SF
9720 25551 MT
(cfs flushvolume)SH
/Times-Roman SF
16609 XM
(<dir> [<dir> <dir> ...])SH
/Times-Bold SF
9720 26656 MT
(cfs getfid)SH
/Times-Roman SF
13830 XM
(<path> [<path> <path> ...])SH
/Times-Bold SF
9720 27761 MT
(cfs getpath)SH
/Times-Roman SF
14608 XM
(<fid> [<fid> <fid> ...])SH
/Times-Bold SF
9720 28866 MT
(cfs getmountpoint)SH
/Times-Roman SF
17664 XM
(<volid>)SH
/Times-Bold SF
9720 29971 MT
(cfs listacl)SH
/Times-Roman SF
13886 XM
(<dir> [<dir> <dir> ...])SH
/Times-Bold SF
9720 31076 MT
(cfs listcache)SH
/Times-Roman SF
15052 XM
([<dir> <dir> ...])SH
/Times-Bold SF
9720 32181 MT
(cfs listvol)SH
/Times-Roman SF
13942 XM
(<dir> [<dir> <dir> ...])SH
/Times-Bold SF
9720 33286 MT
(cfs lsmount)SH
/Times-Roman SF
14831 XM
(<dir> [<dir> <dir> ...])SH
/Times-Bold SF
9720 34391 MT
(cfs mkmount)SH
/Times-Roman SF
15553 XM
(<directory> <volume name> [-rw])SH
/Times-Bold SF
9720 35496 MT
(cfs purgeml)SH
9720 36601 MT
(cfs reconnect)SH
9720 37706 MT
(cfs replayclosure)SH
9720 38811 MT
(cfs rmmount)SH
/Times-Roman SF
15441 XM
(<dir> [<dir> <dir> ...])SH
/Times-Bold SF
9720 39916 MT
(cfs setacl)SH
/Times-Roman SF
13774 XM
([-clear] [-negative] <dir> <id> <rights> [<id> <rights> ....])SH
/Times-Bold SF
9720 41021 MT
(cfs slow)SH
/Times-Roman SF
13275 XM
(<speed \050bps\051>)SH
/Times-Bold SF
9720 42126 MT
(cfs truncatelog)SH
9720 43231 MT
(cfs uncompress)SH
/Times-Roman SF
16497 XM
(<file> [<file> <file> ...])SH
/Times-Bold SF
9720 44336 MT
(cfs waitforever)SH
/Times-Roman SF
16328 XM
([-on] [-off])SH
/Times-Bold SF
9720 45441 MT
(cfs whereis)SH
/Times-Roman SF
14663 XM
(<dir> [<dir> <dir> ...])SH
/Times-Bold SF
9720 46546 MT
(cfs writedisconnect)SH
/Times-Roman SF
18107 XM
([<dir> <dir> ...])SH
/Times-Bold SF
9720 47651 MT
(cfs writereconnect)SH
/Times-Roman SF
17772 XM
([<dir> <dir> ...])SH
/Times-Bold SF
6120 50281 MT
(DESCRIPTION)SH
9720 51567 MT
(cfs)SH
/Times-Roman SF
11215 XM
(allows users to perform operations specific to the Coda File)
79 W( System.  Most often, people use it to see)80 W
9720 52853 MT
(how much of their)
103 W( allocated storage space they are currently using and to change the protection on their)102 W
9720 54139 MT
(personal directories.)9 W
/Times-Bold SF
18356 XM
(cfs)SH
/Times-Roman SF
19781 XM
(will change the protection or "rights" on directories but not)
9 W( on individual files.  To)10 W
9720 55425 MT
(change permissions on individual files, use)SH
/Times-Italic SF
27191 XM
(chmod\0501\051)SH
/Times-Roman SF
(.)SH
/Times-Bold SF
9720 56711 MT
(bandwidth)SH
/Times-Roman SF
20520 XM
(Provide a hint about network speed.  Use this command to tell venus your)219 W
20520 57997 MT
(network's speed in bits per second.)SH
20520 59283 MT
(Abbreviation:)SH
/Times-Bold SF
26325 XM
(bw)SH
/Times-Roman SF
(.)SH
/Times-Bold SF
9720 60569 MT
(checkpointml)SH
/Times-Roman SF
20520 XM
(Checkpoint volume)
162 W( modify log.  This command will create a checkpoint file)163 W
/Times-Italic SF
20520 61855 MT
(/usr/coda/spool/<uid>/<vol>@<mountpt>)SH
/Times-Roman SF
(. Where)494 W
/Times-Italic SF
42077 XM
(<uid>)SH
/Times-Roman SF
45076 XM
(is your)121 W
/Times-Bold SF
48318 XM
(cfs)SH
/Times-Roman SF
49855 XM
(user id,)121 W
/Times-Italic SF
20520 63141 MT
(<vol>)SH
/Times-Roman SF
23355 XM
(is the volume being checkpointed, and)13 W
/Times-Italic SF
39070 XM
(<mountpt>)SH
/Times-Roman SF
43961 XM
(is the volume's mount)14 W
20520 64427 MT
(point.)SH
20520 65713 MT
(Abbreviation:)SH
/Times-Bold SF
26325 XM
(ck)SH
/Times-Roman SF
(.)SH
/Times-Bold SF
9720 66999 MT
(checkservers)SH
/Times-Roman SF
20520 XM
(Check the status of the Coda file servers.  Report on servers that are down.)SH
/Times-Bold SF
9720 68285 MT
(checkvolumes)SH
/Times-Roman SF
20520 XM
(Check volume/name mappings.)SH
/Times-Bold SF
9720 69571 MT
(clearpriorities)SH
/Times-Roman SF
20520 XM
(Clear short-term priorities used for cache management.)SH
/Times-Bold SF
9720 70857 MT
(compress)SH
/Times-Roman SF
20520 XM
(Compress given files in the cache.  These files will)
441 W( be uncompressed)440 W
6120 75600 MT
(80)SH
25590 XM
(December 21, 1995)SH
45949 XM
(Coda Release 1.0)SH
ES
%%Page: 81 82
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(CFS\0501\051)SH
52135 XM
(CFS\0501\051)SH
22680 7886 MT
(automatically if they are touched or can be)
1 W( explicitely uncompressed with the)2 W
/Times-Italic SF
53969 XM
(cfs)SH
22680 9172 MT
(uncompress)SH
/Times-Roman SF
27707 XM
(command.)SH
/Times-Bold SF
11880 10458 MT
(disconnect)SH
/Times-Roman SF
22680 XM
(Partition your client from the Coda file servers.)SH
/Times-Bold SF
11880 11744 MT
(endrepair)SH
/Times-Roman SF
22680 XM
(Tell venus to end a repair session on file.  Useful if repair is exits without)201 W
22680 13030 MT
(finishing the repair session.)SH
22680 14316 MT
(Abbreviation:)SH
/Times-Bold SF
28485 XM
(er)SH
/Times-Roman SF
(.)SH
/Times-Bold SF
11880 15602 MT
(examineclosure)SH
/Times-Roman SF
22680 XM
(Examine reintegration closure.  Using)279 W
/Times-Bold SF
39517 XM
(cfs examineclosure)280 W
/Times-Roman SF
48353 XM
(will display the)280 W
22680 16888 MT
(fixfile used to)
497 W( reintegrate changes that were made while operating in)496 W
22680 18174 MT
(disconnected mode.)SH
22680 19460 MT
(Abbreviation:)SH
/Times-Bold SF
28485 XM
(ec)SH
11880 20746 MT
(flushcache)SH
/Times-Roman SF
22680 XM
(Flush entire cache.)
350 W( Care)
952 W( must be taken when using the)351 W
/Times-Bold SF
48813 XM
(cfs flushcache)351 W
/Times-Roman SF
22680 22032 MT
(command, as flushing the cache while)
216 W( operating in disconnected mode may)215 W
22680 23318 MT
(result in loss of data.)SH
/Times-Bold SF
11880 24604 MT
(flushobject)SH
/Times-Roman SF
22680 XM
(Flush objects from cache.)230 W
/Times-Bold SF
34606 XM
(cfs flushobject)230 W
/Times-Roman SF
41454 XM
(tells venus to remove the given)231 W
22680 25890 MT
(objects from the cache.)SH
22680 27176 MT
(Abbreviation:)SH
/Times-Bold SF
28485 XM
(fl)SH
11880 28462 MT
(flushvolume)SH
/Times-Roman SF
22680 XM
(Flush all data in specified volumes.  Care must be taken)
166 W( when using the)165 W
/Times-Bold SF
53914 XM
(cfs)SH
22680 29748 MT
(flushvolume)SH
/Times-Roman SF
28278 XM
(command, as flushing the cache while operating in)
125 W( disconnected)126 W
22680 31034 MT
(mode may result in loss of data.)SH
/Times-Bold SF
11880 32320 MT
(getfid)SH
/Times-Roman SF
22680 XM
(Map the given paths to Coda file id's.)SH
22680 33606 MT
(Abbreviation:)SH
/Times-Bold SF
28485 XM
(gf)SH
11880 34892 MT
(getpath)SH
/Times-Roman SF
22680 XM
(Map fid to volume-relative path.)91 W
/Times-Bold SF
36752 XM
(cfs getpath)90 W
/Times-Roman SF
41820 XM
(will display the path for each of)90 W
22680 36178 MT
(the given fid's.)SH
22680 37464 MT
(Abbreviation:)SH
/Times-Bold SF
28485 XM
(gp)SH
11880 38750 MT
(listacl)SH
/Times-Roman SF
22680 XM
(List access control list for each of the given directories.)SH
22680 40036 MT
(Abbreviation:)SH
/Times-Bold SF
28485 XM
(la)SH
11880 41322 MT
(listcache)SH
/Times-Roman SF
22680 XM
(List the contents of the entire cache or the given volumes \050directories\051.)SH
22680 42608 MT
(Abbreviation:)SH
/Times-Bold SF
28485 XM
(lc)SH
11880 43894 MT
(listvol)SH
/Times-Roman SF
22680 XM
(Display the current status of the volume in which the directory is stored.)SH
22680 45180 MT
(Abbreviation:)SH
/Times-Bold SF
28485 XM
(lv)SH
11880 46466 MT
(lsmount)SH
/Times-Roman SF
22680 XM
(List the countents of a mount point.  This command can be used)
134 W( to tell what)135 W
22680 47752 MT
(volume a mount point refers to.)SH
/Times-Bold SF
11880 49038 MT
(mkmount)SH
/Times-Roman SF
22680 XM
(Create a mount)
226 W( point.  Mount)225 W
/Times-Italic SF
36115 XM
(volume name)225 W
/Times-Roman SF
42119 XM
(at the point in the file system)225 W
22680 50324 MT
(described by)68 W
/Times-Italic SF
28148 XM
(filename)SH
/Times-Roman SF
(. If)
387 W( the)69 W
/Times-Italic SF
35005 XM
(-rw)SH
/Times-Roman SF
36713 XM
(flag is set, never use the corresponding read-)69 W
22680 51610 MT
(only volume for a volume.  Otherwise, if a read-only volume exists \050and)
153 W( the)152 W
22680 52896 MT
(parent is also a read-only volume\051, use the read-only volume.)SH
22680 54182 MT
(Abbreviation:)SH
/Times-Bold SF
28485 XM
(mkm)SH
11880 55468 MT
(purgeml)SH
/Times-Roman SF
22680 XM
(Purge volume modify log.  Care must be)
163 W( taken when using the)164 W
/Times-Bold SF
49889 XM
(cfs purgeml)164 W
/Times-Roman SF
22680 56754 MT
(command, as it may result in loss of data.)SH
/Times-Bold SF
11880 58040 MT
(reconnect)SH
/Times-Roman SF
22680 XM
(Reconnect to the Coda file servers.)50 W
/Times-Bold SF
37526 XM
(cfs reconnect)49 W
/Times-Roman SF
43455 XM
(will undo the effects of a)49 W
/Times-Italic SF
53969 XM
(cfs)SH
22680 59326 MT
(disconnect)SH
/Times-Roman SF
(.)SH
/Times-Bold SF
11880 60612 MT
(replayclosure)SH
/Times-Roman SF
22680 XM
(Replay reintegration closure.)SH
22680 61898 MT
(Abbreviation:)SH
/Times-Bold SF
28485 XM
(rc)SH
11880 63184 MT
(rmmount)SH
/Times-Roman SF
22680 XM
(Remove a mount point from the file system.  The volume itself is not changed.)SH
22680 64470 MT
(Abbreviation:)SH
/Times-Bold SF
28485 XM
(rmm)SH
11880 65756 MT
(setacl)SH
/Times-Roman SF
22680 XM
(Set access control list.  Sets the access control list)
11 W( for each)12 W
/Times-Italic SF
46450 XM
(id)SH
/Times-Roman SF
(. The)274 W
/Times-Italic SF
49819 XM
(-clear)SH
/Times-Roman SF
52469 XM
(switch)SH
22680 67042 MT
(clears the access control list except for the)
59 W( entries given on the call to)58 W
/Times-Bold SF
51493 XM
(cfs)SH
/Times-Roman SF
(. The)366 W
/Times-Italic SF
22680 68328 MT
(-negative)SH
/Times-Roman SF
26659 XM
(switch denies the given permissions, rather than granting them.)9 W
/Times-Italic SF
52524 XM
(Rights)SH
/Times-Roman SF
22680 69614 MT
(are a subset of)67 W
/Times-Italic SF
28945 XM
(rwidlak)SH
/Times-Roman SF
32317 XM
(which are read, write, insert, delete, lookup, administer,)66 W
22680 70900 MT
(and lock respectively.  See the section on)7 W
/Times-Italic SF
39483 XM
(File Protection)7 W
/Times-Roman SF
45830 XM
(in the Coda manual)
7 W( for)8 W
8280 75600 MT
(Coda Release 1.0)SH
27750 XM
(December 21, 1995)SH
54080 XM
(81)SH
ES
%%Page: 82 83
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(CFS\0501\051)SH
49975 XM
(CFS\0501\051)SH
20520 7886 MT
(more detail.)SH
20520 9172 MT
(Abbreviation:)SH
/Times-Bold SF
26325 XM
(sa)SH
9720 10458 MT
(slow)SH
/Times-Roman SF
20520 XM
(Set network speed to the given speed in bits per second.)SH
/Times-Bold SF
9720 11744 MT
(truncatelog)SH
/Times-Roman SF
20520 XM
(Truncate the RVM log at this instant.)SH
20520 13030 MT
(Abbreviation:)SH
/Times-Bold SF
26325 XM
(tl)SH
9720 14316 MT
(uncompress)SH
/Times-Roman SF
20520 XM
(Uncompress given)
299 W( cached files.)298 W
/Times-Italic SF
35230 XM
(venus)SH
/Times-Roman SF
38055 XM
(will automatically uncompress any)298 W
20520 15602 MT
(compressed files that it touches in the cache.)SH
/Times-Bold SF
9720 16888 MT
(waitforever)SH
/Times-Roman SF
20520 XM
(Tells venus whether it should wait)
197 W( forever for dead file servers or not.  By)198 W
20520 18174 MT
(default, venus)
111 W( does not wait; it returns ETIMEDOUT.  For certain batch jobs,)110 W
20520 19460 MT
(waiting is better than not waiting.)SH
20520 20746 MT
(Abbreviation:)SH
/Times-Bold SF
26325 XM
(wf)SH
9720 22032 MT
(whereis)SH
/Times-Roman SF
20520 XM
(List the servers that the given files reside on.)SH
/Times-Bold SF
6120 23409 MT
(writedisconnect)SH
/Times-Roman SF
16920 XM
(Tell venus to write disconnect on)
20 W( the given volumes, or all volumes if none are provided.)21 W
16920 24786 MT
(Write disconnected)
189 W( operation will fetch files from the server, but does not propagate)188 W
16920 26163 MT
(changes back immediately.)SH
16920 27540 MT
(Abbreviation:)SH
/Times-Bold SF
22725 XM
(wd)SH
6120 28917 MT
(writereconnect)SH
/Times-Roman SF
16920 XM
(Strongly connect to the servers.)SH
16920 30294 MT
(Abbreviation:)SH
/Times-Bold SF
22725 XM
(wr)SH
6120 32924 MT
(SEE ALSO)SH
/Times-Roman SF
9720 34210 MT
(chmod\0501\051)SH
/Times-Bold SF
6120 36840 MT
(AUTHOR)SH
/Times-Roman SF
9720 38126 MT
(1987, Adapted from AFS-2's fs)SH
9720 40101 MT
(Maria R. Ebling, 1990, Created man page)SH
9720 42076 MT
(M. Satyanarayanan, 1992, cfs rewritten from scratch)SH
9720 44051 MT
(Joshua Raiff, 1993, Man page rewritten)SH
9720 46026 MT
(Joshua Raiff, 1995, Updated)SH
6120 75600 MT
(82)SH
25590 XM
(December 21, 1995)SH
45949 XM
(Coda Release 1.0)SH
ES
%%Page: 83 84
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(CLOG\0501\051)SH
51192 XM
(CLOG\0501\051)SH
/Times-Bold SF
8280 7870 MT
(NAME)SH
600 50 14102 9011 UL
/Times-Roman SF
11880 9156 MT
(clog)SH
14952 XM
(Authenticate yourself to the Coda file system)SH
/Times-Bold SF
8280 11786 MT
(SYNOPSIS)SH
11880 13396 MT
(clog)SH
/Times-Roman SF
13852 XM
([[-x] user [ password ] ])SH
/Times-Bold SF
8280 16026 MT
(DESCRIPTION)SH
/Times-Roman SF
11880 17312 MT
(This command enables)
222 W( users to get tokens to use for authenticated communication with a Coda File)223 W
11880 18598 MT
(System. The)
304 W( given name and password are passed to an)27 W
/Times-Italic SF
34895 XM
(Authentication Server)27 W
/Times-Roman SF
(. The)303 W
/Times-Italic SF
46305 XM
(Authentication Server)26 W
/Times-Roman SF
11880 19884 MT
(returns a set)
48 W( of tokens encoding the chosen identity if the password is correct.)49 W
/Times-Bold SF
44163 XM
(clog)SH
/Times-Roman SF
46184 XM
(passes these tokens to)49 W
11880 21170 MT
(the)SH
/Times-Italic SF
13553 XM
(venus)SH
/Times-Roman SF
16281 XM
(process, which acts as the user's agent for file manipulation.  These tokens have a limited)200 W
11880 22456 MT
(lifetime, becoming invalid after 25 hours. If an)
91 W( attempt is made to operate on a Coda File System object)92 W
11880 23742 MT
(while the user is not authenticated, the user will assume the privileges of the)SH
/Times-Italic SF
42626 XM
(Anonymous)SH
/Times-Roman SF
47542 XM
(user.)SH
/Times-Italic SF
11880 25717 MT
(clog)SH
/Times-Roman SF
13852 XM
(accepts the following arguments:)SH
/Times-Bold SF
11880 27003 MT
(user)SH
/Times-Roman SF
22680 XM
(Login name you wish to be identified as.)SH
/Times-Bold SF
11880 28289 MT
(passwd)SH
/Times-Roman SF
22680 XM
(Password corresponding to the given user name.  \050If)
291 W( not provided on the)290 W
22680 29575 MT
(command line, the user will be prompted for one.\051)SH
/Times-Bold SF
8280 32205 MT
(BUGS)SH
/Times-Roman SF
11880 33491 MT
(The)SH
/Times-Bold SF
13685 XM
(-x)SH
/Times-Roman SF
14768 XM
(switch is not needed.  Specifying a)SH
/Times-Italic SF
28933 XM
(username)SH
/Times-Roman SF
33071 XM
(and)SH
/Times-Italic SF
34765 XM
(passwd)SH
/Times-Roman SF
37960 XM
(is sufficient.)SH
/Times-Bold SF
8280 36121 MT
(SEE ALSO)SH
/Times-Roman SF
11880 37407 MT
(cunlog\0501\051, venus\0508\051)SH
/Times-Bold SF
8280 40037 MT
(AUTHOR)SH
/Times-Roman SF
11880 41323 MT
(1987, Adapted from AFS-2)SH
11880 43298 MT
(Maria R. Ebling, 1990, Created man page)SH
8280 75600 MT
(Coda Release 1.0)SH
28888 XM
(May 12, 1993)SH
54080 XM
(83)SH
ES
%%Page: 84 85
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(CMON\0501\051)SH
48754 XM
(CMON\0501\051)SH
/Times-Bold SF
6120 7870 MT
(NAME)SH
600 50 12442 9011 UL
/Times-Roman SF
9720 9156 MT
(cmon)SH
13292 XM
(Coda server monitor)SH
/Times-Bold SF
6120 11786 MT
(SYNOPSIS)SH
9720 13396 MT
(cmon)SH
/Times-Roman SF
12803 XM
([)SH
/Times-Bold SF
(-a)SH
/Times-Roman SF
(] [)SH
/Times-Bold SF
(-t)SH
/Times-Roman SF
15801 XM
(probeinterval] server1:hz1)
250 W( server2:hz2 ......)SH
/Times-Bold SF
6120 16026 MT
(DESCRIPTION)SH
9720 17312 MT
(cmon)SH
/Times-Roman SF
12334 XM
(probes the specified list of servers)
31 W( once every)32 W
/Times-Italic SF
31080 XM
(probeinterval)SH
/Times-Roman SF
36806 XM
(seconds and reports on their status.  If a)32 W
9720 18598 MT
(server is down or)
61 W( unreachable,)60 W
/Times-Bold SF
22519 XM
(cmon)SH
/Times-Roman SF
25162 XM
(tries to reestablish contact with it once every)60 W
/Times-Italic SF
43750 XM
(probeinterval)SH
/Times-Roman SF
49504 XM
(seconds.)SH
9720 19884 MT
(It uses)
51 W( the)52 W
/Times-Italic SF
14180 XM
(curses\0503\051)SH
/Times-Roman SF
18203 XM
(package for screen management and can be used on dumb terminals.  Run)52 W
/Times-Bold SF
48761 XM
(cmon)SH
/Times-Roman SF
51396 XM
(in a)52 W
9720 21170 MT
(terminal emulator \050like)SH
/Times-Italic SF
19191 XM
(xterm)SH
/Times-Roman SF
(\051 if you are using a window manager \050like)SH
/Times-Italic SF
38492 XM
(X)SH
/Times-Roman SF
(\051.)SH
/Times-Italic SF
9720 23145 MT
(Hz1, hz2,)42 W
/Times-Roman SF
13804 XM
(etc. are the values of the kernel constant)42 W
/Times-Italic SF
30441 XM
(HZ)SH
/Times-Roman SF
32011 XM
(on the respective)
42 W( servers.  This constant is different)41 W
9720 24431 MT
(for each machine type and denotes the)
31 W( number of jiffies per second.  Common values are 64 \050IBM-RT and)32 W
9720 25717 MT
(DEC MIPS\051, 100 \050Vax\051, and 50 \050Sun3\051.  This constant is needed to convert CPU usage \050reported in jiffies)50 W
9720 27003 MT
(by servers\051 to seconds.)SH
9720 28978 MT
(Some)SH
/Times-Bold SF
12342 XM
(cmon)SH
/Times-Roman SF
15019 XM
(data can)
94 W( be displayed in relative or absolute modes.  In relative mode, data is reported with)95 W
9720 30264 MT
(reference to the interval between)
184 W( the last two probes.  In absolute mode, the accumulated value since)183 W
9720 31550 MT
(initialization is reported.)70 W
/Times-Bold SF
20305 XM
(cmon)SH
/Times-Roman SF
22958 XM
(can be toggled between absolute and real modes)
70 W( of presentation from the)71 W
9720 32836 MT
(keyboard. Typing)
592 W( 'a' will)
171 W( cause data to be presented in absolute mode.  Typing 'r' will present it in)170 W
9720 34122 MT
(relative mode.  A mode change will only take place at the next probe.)SH
9720 36097 MT
(The command-line options are:)SH
/Times-Bold SF
9720 37383 MT
(-a)SH
/Times-Roman SF
20520 XM
(Report data in absolute mode.)SH
/Times-Bold SF
9720 38669 MT
(-t)SH
/Times-Roman SF
10636 XM
(probeinterval)SH
20520 XM
(Probe servers every)SH
/Times-Italic SF
28656 XM
(probeinterval)SH
/Times-Roman SF
34350 XM
(seconds. Default)
250 W( is 60.)SH
9720 41279 MT
(The data reported by)SH
/Times-Bold SF
18273 XM
(cmon)SH
/Times-Roman SF
20856 XM
(is organized under four headings:)SH
/Times-Italic SF
34492 XM
(TIM, CPU, RPC,)SH
/Times-Roman SF
41603 XM
(and)SH
/Times-Italic SF
43297 XM
(DSK.)SH
/Times-Roman SF
9720 43254 MT
(The)SH
/Times-Italic SF
11525 XM
(TIM)SH
/Times-Roman SF
13497 XM
(data is as follows:)SH
/Times-Italic SF
9720 44540 MT
(mon)SH
/Times-Roman SF
20520 XM
(time at which this)SH
/Times-Bold SF
27909 XM
(cmon)SH
/Times-Roman SF
30492 XM
(process was created.)SH
/Times-Italic SF
9720 45826 MT
(prob)SH
/Times-Roman SF
20520 XM
(time at which the server was last probed.)SH
/Times-Italic SF
9720 47112 MT
(succ)SH
/Times-Roman SF
20520 XM
(time at which the server last responded to a probe.)SH
/Times-Italic SF
9720 48398 MT
(up)SH
/Times-Roman SF
20520 XM
(time at which the server process was started.)SH
/Times-Italic SF
9720 49684 MT
(bind)SH
/Times-Roman SF
20520 XM
(number of times contact was reestablished after a failed probe.)
3 W( A)
258 W( probe may fail)4 W
20520 50970 MT
(due to server or network failures.)SH
9720 52256 MT
(The)SH
/Times-Italic SF
11525 XM
(CPU)SH
/Times-Roman SF
13775 XM
(data is as follows:)SH
/Times-Italic SF
9720 53542 MT
(sys)SH
/Times-Roman SF
20520 XM
(relative or absolute number of seconds of system CPU time used on the server.)SH
/Times-Italic SF
9720 54828 MT
(user)SH
/Times-Roman SF
20520 XM
(relative or absolute)
30 W( number of seconds of user CPU time \050regular or niced\051 used)29 W
20520 56114 MT
(on the server.)SH
/Times-Italic SF
9720 57400 MT
(util)SH
/Times-Roman SF
20520 XM
(relative or absolute number of system and user)
579 W( seconds divided by)580 W
20520 58686 MT
(corresponding time of accumulation.)SH
9720 59972 MT
(The)SH
/Times-Italic SF
11525 XM
(RPC)SH
/Times-Roman SF
13664 XM
(data is as follows:)SH
/Times-Italic SF
9720 61258 MT
(conn)SH
/Times-Roman SF
20520 XM
(number of RPC connections.)SH
/Times-Italic SF
9720 62544 MT
(wkst)SH
/Times-Roman SF
20520 XM
(number of workstations connected to server.)
97 W( Note)
442 W( that each instance of)96 W
/Times-Bold SF
50587 XM
(cmon)SH
/Times-Roman SF
20520 63830 MT
(shows up as a workstation.)SH
/Times-Italic SF
9720 65116 MT
(call)SH
/Times-Roman SF
20520 XM
(relative or absolute number of RPC calls received.)SH
/Times-Italic SF
9720 66402 MT
(pki)SH
/Times-Roman SF
20520 XM
(relative or absolute number of)
107 W( RPC packets received.  Includes duplicates and)108 W
20520 67688 MT
(other bogus packets. Also includes bulk transfer packets.)SH
/Times-Italic SF
9720 68974 MT
(pko)SH
/Times-Roman SF
20520 XM
(relative or absolute number of packets sent.  Includes)
224 W( retransmissions. Also)223 W
20520 70260 MT
(includes bulk transfer packets.)SH
/Times-Italic SF
9720 71546 MT
(byi)SH
/Times-Roman SF
20520 XM
(bytes corresponding to)SH
/Times-Italic SF
29880 XM
(pki.)SH
/Times-Roman SF
6120 75600 MT
(84)SH
26728 XM
(May 12, 1993)SH
45949 XM
(Coda Release 1.0)SH
ES
%%Page: 85 86
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(CMON\0501\051)SH
50914 XM
(CMON\0501\051)SH
/Times-Italic SF
11880 7886 MT
(byo)SH
/Times-Roman SF
22680 XM
(bytes corresponding to)SH
/Times-Italic SF
32040 XM
(pko.)SH
/Times-Roman SF
11880 9172 MT
(The)SH
/Times-Italic SF
13685 XM
(DSK)SH
/Times-Roman SF
15824 XM
(data is as follows:)SH
/Times-Italic SF
11880 10458 MT
(max1)SH
/Times-Roman SF
22680 XM
(identity and percent usage of most full disk partition)
70 W( on server.  The identity is)71 W
22680 11744 MT
(the name of mount point. Names longer than 5 characters are)
117 W( truncated to the)116 W
22680 13030 MT
(first 3 characters, a '$' character, and the last character.)SH
/Times-Italic SF
11880 14316 MT
(max2)SH
/Times-Roman SF
22680 XM
(identity and percent usage of second most full disk.)SH
/Times-Italic SF
11880 15602 MT
(max3)SH
/Times-Roman SF
22680 XM
(identity and percent usage of third most full disk.)SH
/Times-Bold SF
8280 18232 MT
(DIAGNOSTICS)SH
/Times-Roman SF
11880 19518 MT
(If a server is down or unreachable, statisitics for it are reported as "???".)SH
11880 21493 MT
(Relative data is undefined until two or more probes have)
174 W( been made.  Such data is reported as "***")175 W
11880 22779 MT
(between the very first and second probes.)SH
/Times-Bold SF
8280 25409 MT
(BUGS)SH
/Times-Roman SF
11880 26695 MT
(Relative computations are just based on)
137 W( the difference between the two most recent probes.  A smarter)136 W
11880 27981 MT
(approach \050especially for CPU utilization\051 would be to use some kind of weighted history.)SH
11880 29956 MT
(The display)
70 W( is optimized for maximum packing of information into a small screen area. It may be cryptic)71 W
11880 31242 MT
(for a novice.)SH
11880 33217 MT
(No disk information is available about the root partition on a server.)SH
11880 35192 MT
(Will core dump if run in a window with fewer than 25 lines.)SH
11880 37167 MT
(No way to force a redisplay \050eg ^L\051.)SH
/Times-Bold SF
8280 39797 MT
(SEE ALSO)SH
/Times-Roman SF
11880 41083 MT
(vutil\0508\051, curses\0503\051, codacon\0501\051)SH
/Times-Bold SF
8280 43713 MT
(AUTHOR)SH
/Times-Roman SF
11880 44999 MT
(M. Satyanarayanan, 1990, Created)SH
8280 75600 MT
(Coda Release 1.0)SH
28888 XM
(May 12, 1993)SH
54080 XM
(85)SH
ES
%%Page: 86 87
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(CPASSWD\0501\051)SH
47031 XM
(CPASSWD\0501\051)SH
/Times-Bold SF
6120 7870 MT
(NAME)SH
600 50 13608 9011 UL
/Times-Roman SF
9720 9156 MT
(cpasswd)SH
14458 XM
(change Coda login password)SH
/Times-Bold SF
6120 11786 MT
(SYNOPSIS)SH
9720 13396 MT
(cpasswd)SH
/Times-Roman SF
13526 XM
([-h host] [username])SH
/Times-Bold SF
6120 16026 MT
(DESCRIPTION)SH
/Times-Roman SF
9720 17312 MT
(This command sets the password associated with the current user, or user)112 W
/Times-Italic SF
40642 XM
(username)SH
/Times-Roman SF
44892 XM
(if explicitly)
112 W( named.)111 W
9720 18598 MT
(Only the user or a System Administrator may change a password.)SH
/Times-Italic SF
9720 20573 MT
(cpasswd)SH
/Times-Roman SF
13393 XM
(prompts for the user's old password \050or the password of the administrator)
34 W( performing the change\051)35 W
9720 21859 MT
(and then for the new one.  The new password must be typed twice, to forestall mistakes.  Change requests)46 W
9720 23145 MT
(can be aborted by typing a carriage return when prompted for the new password.)SH
9720 25120 MT
(New passwords must be)
35 W( at least four characters long if they use a sufficiently rich alphabet and at least six)36 W
9720 26406 MT
(characters long if monocase.  These rules are relaxed if you are insistent enough.)SH
/Times-Italic SF
9720 28381 MT
(cpasswd)SH
/Times-Roman SF
13385 XM
(won't be able to change the user's password if the)
26 W( password server is down.  An appropriate error)25 W
9720 29667 MT
(message will be printed, advising the caller to try again later.  Once the password)
131 W( server acknowledges)132 W
9720 30953 MT
(receipt the user's new password,)
41 W( it takes about an hour for the information to propagate to the entire set of)40 W
/Times-Italic SF
9720 32239 MT
(AuthServers)SH
/Times-Roman SF
(.)SH
/Times-Bold SF
9720 34214 MT
(cpasswd)SH
/Times-Roman SF
13526 XM
(support the following option:)SH
/Times-Bold SF
9720 35500 MT
(-h)SH
/Times-Italic SF
10859 XM
(host)SH
/Times-Roman SF
20520 XM
(Tells)SH
/Times-Bold SF
22770 XM
(cpasswd)SH
/Times-Roman SF
26576 XM
(which authentication host to bind to.  This should be the SCM.)SH
/Times-Bold SF
6120 38130 MT
(FILES)SH
/Times-Italic SF
9720 39416 MT
(/vice/db/user.coda)SH
/Times-Bold SF
6120 42046 MT
(BUGS)SH
/Times-Roman SF
9720 43332 MT
(The password file)
260 W( information should be kept in a different data structure allowing indexed access;)261 W
/Times-Italic SF
9720 44618 MT
(dbm\0503X\051)SH
/Times-Roman SF
13469 XM
(would probably be suitable.)SH
/Times-Bold SF
6120 47248 MT
(SEE ALSO)SH
/Times-Roman SF
9720 48534 MT
(clog\0501\051, crypt\0503\051)SH
/Times-Bold SF
6120 51164 MT
(AUTHOR)SH
/Times-Roman SF
9720 52450 MT
(1987, Adapted from AFS-2)SH
9720 54425 MT
(Maria R. Ebling, 1990, Created man page)SH
6120 75600 MT
(86)SH
26728 XM
(May 12, 1993)SH
45949 XM
(Coda Release 1.0)SH
ES
%%Page: 87 88
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(CTOKENS\0501\051)SH
49303 XM
(CTOKENS\0501\051)SH
/Times-Bold SF
8280 7870 MT
(NAME)SH
600 50 15435 9011 UL
/Times-Roman SF
11880 9156 MT
(ctokens)SH
16285 XM
(list all tokens)SH
/Times-Bold SF
8280 11786 MT
(SYNOPSIS)SH
11880 13380 MT
(ctokens)SH
8280 16010 MT
(DESCRIPTION)SH
/Times-Roman SF
11880 17296 MT
(The)SH
/Times-Bold SF
13727 XM
(ctokens)SH
/Times-Roman SF
17241 XM
(command enables users to query)42 W
/Times-Italic SF
30754 XM
(Venus)SH
/Times-Roman SF
33490 XM
(for information about the set of authentication tokens)41 W
11880 18582 MT
(it holds for the user.  The)13 W
/Times-Bold SF
22303 XM
(ctoken)SH
/Times-Roman SF
25399 XM
(command prints out the ID of the current user and)
13 W( whether or not the user)14 W
11880 19868 MT
(is currently authenticated.)SH
/Times-Bold SF
8280 22498 MT
(BUGS)SH
/Times-Roman SF
11880 23784 MT
(If authenticated as another user,)SH
/Times-Bold SF
24876 XM
(ctokens)SH
/Times-Roman SF
28348 XM
(will say that you own the token.)SH
/Times-Bold SF
8280 26414 MT
(SEE ALSO)SH
/Times-Roman SF
11880 27700 MT
(clog\0501\051, login\0501\051, su\0501\051, cunlog\0501\051)SH
/Times-Bold SF
8280 30330 MT
(AUTHOR)SH
/Times-Roman SF
11880 31616 MT
(1987, Adapted from AFS-2's unlog)SH
11880 33591 MT
(David C. Steere, 1990, Created man page)SH
8280 75600 MT
(Coda Release 1.0)SH
28888 XM
(May 12, 1993)SH
54080 XM
(87)SH
ES
%%Page: 88 89
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(CUNLOG\0501\051)SH
47588 XM
(CUNLOG\0501\051)SH
/Times-Bold SF
6120 7870 MT
(NAME)SH
600 50 12942 9011 UL
/Times-Roman SF
9720 9156 MT
(cunlog)SH
13792 XM
(Tell the Coda Venus to release authentication tokens)SH
/Times-Bold SF
6120 11786 MT
(SYSNOPSIS)SH
9720 13380 MT
(cunlog)SH
6120 16010 MT
(DESCRIPTION)SH
/Times-Roman SF
9720 17296 MT
(This command enables a user to inform the)
157 W( Coda Cache Manager,)156 W
/Times-Italic SF
38160 XM
(Venus)SH
/Times-Roman SF
(, to release the authentication)156 W
9720 18582 MT
(tokens for that user. Without these tokens, the user will not be)
21 W( able to access or modify his or her protected)22 W
9720 19868 MT
(files until he or she re-authenticates by running)SH
/Times-Bold SF
28828 XM
(clog)SH
/Times-Roman SF
(.)SH
/Times-Bold SF
6120 22498 MT
(SEE ALSO)SH
/Times-Roman SF
9720 23784 MT
(login\0501\051, su\0501\051, clog\0501\051, ctokens\0501\051)SH
/Times-Bold SF
6120 26414 MT
(AUTHOR)SH
/Times-Roman SF
9720 27700 MT
(1987, Adapted from AFS-2's unlog)SH
9720 29675 MT
(David Steere, 1990, Created man page)SH
6120 75600 MT
(88)SH
26728 XM
(May 12, 1993)SH
45949 XM
(Coda Release 1.0)SH
ES
%%Page: 89 90
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(HEAL\0501\051)SH
51248 XM
(HEAL\0501\051)SH
/Times-Bold SF
8280 7870 MT
(NAME)SH
600 50 14046 9011 UL
/Times-Roman SF
11880 9156 MT
(heal)SH
14896 XM
(Insert or remove Coda failure emulator filters)SH
/Times-Bold SF
8280 11786 MT
(SYNOPSIS)SH
11880 13396 MT
(heal -h)SH
/Times-Roman SF
15047 XM
(hostname1 port1)SH
/Times-Bold SF
21991 XM
(-h)SH
/Times-Roman SF
23130 XM
(hostname2 port2)SH
/Times-Bold SF
11880 14501 MT
(partition -h)SH
/Times-Roman SF
17047 XM
(hostname1 port1)SH
/Times-Bold SF
23991 XM
(-h)SH
/Times-Roman SF
25130 XM
(hostname2 port2)SH
/Times-Bold SF
11880 15606 MT
(slow -h)SH
/Times-Roman SF
15158 XM
(hostname1 port1 speed1)SH
/Times-Bold SF
25129 XM
(-h)SH
/Times-Roman SF
26268 XM
(hostname2 port2 speed2)SH
/Times-Bold SF
8280 18236 MT
(DESCRIPTION)SH
11880 19522 MT
(Heal, partition,)140 W
/Times-Roman SF
18938 XM
(and)SH
/Times-Bold SF
20772 XM
(slow)SH
/Times-Roman SF
23051 XM
(all manipulate the failure emulator's filters.)
140 W( These)
528 W( commands are simplified)139 W
11880 20808 MT
(front-ends to)SH
/Times-Italic SF
17268 XM
(ttyfcon\0501)SH
/Times-Roman SF
(\051.)SH
/Times-Bold SF
11880 22783 MT
(Heal)SH
/Times-Roman SF
14130 XM
(removes all of the filters between)SH
/Times-Italic SF
27738 XM
(hostname1)SH
/Times-Roman SF
32321 XM
(and)SH
/Times-Italic SF
34015 XM
(hostname2)SH
/Times-Roman SF
(.)SH
/Times-Bold SF
11880 24758 MT
(Partition)SH
/Times-Roman SF
16045 XM
(inserts filters on both)82 W
/Times-Italic SF
25095 XM
(hostname1)SH
/Times-Roman SF
29760 XM
(and)SH
/Times-Italic SF
31536 XM
(hostname2)SH
/Times-Roman SF
36201 XM
(to simulate a network failure)
82 W( between the two)83 W
11880 26044 MT
(hosts.)SH
/Times-Bold SF
11880 28019 MT
(slow)SH
/Times-Roman SF
14019 XM
(inserts filters on)SH
/Times-Italic SF
20713 XM
(hostname1)SH
/Times-Roman SF
25296 XM
(and)SH
/Times-Italic SF
26990 XM
(hostname2)SH
/Times-Roman SF
31573 XM
(to control the network speed between the machines.)SH
11880 29994 MT
(The command-line options for these commands are:)SH
/Times-Bold SF
11880 31280 MT
(-h)SH
/Times-Italic SF
13019 XM
(hostname)SH
/Times-Roman SF
22680 XM
(Host to insert or remove filters on.)SH
/Times-Bold SF
11880 32566 MT
(port)SH
/Times-Roman SF
22680 XM
(Port to attatch to.  This should be 1363 for a Coda client and 1361 for a server.)SH
/Times-Bold SF
11880 33852 MT
(speed)SH
/Times-Roman SF
22680 XM
(Speed in bits per second)SH
/Times-Bold SF
8280 36482 MT
(SEE ALSO)SH
/Times-Roman SF
11880 37768 MT
(ttyfcon\0501\051)SH
/Times-Bold SF
8280 40398 MT
(AUTHOR)SH
/Times-Roman SF
11880 41684 MT
(Puneet Kumar, 1990, Created)SH
11880 43659 MT
(Joshua Raiff, 1993, Created man page)SH
8280 75600 MT
(Coda Release 1.0)SH
28888 XM
(May 12, 1993)SH
54080 XM
(89)SH
ES
%%Page: 90 91
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(HOARD\0501\051)SH
48199 XM
(HOARD\0501\051)SH
/Times-Bold SF
6120 7870 MT
(NAME)SH
600 50 12497 9011 UL
/Times-Roman SF
9720 9156 MT
(hoard)SH
13347 XM
(hoard database front-end)SH
/Times-Bold SF
6120 11786 MT
(SYNOPSIS)SH
9720 13396 MT
(hoard)SH
/Times-Roman SF
13026 XM
([ -d ]  [ -f source | 'cmds' ])SH
/Times-Bold SF
6120 16026 MT
(DESCRIPTION)SH
9720 17312 MT
(Hoard)SH
/Times-Roman SF
12751 XM
(is a front-end to the)3 W
/Times-Italic SF
20847 XM
(hoard database)2 W
/Times-Roman SF
27351 XM
(\050HDB\051 managed by the Coda cache manager,)2 W
/Times-Italic SF
45804 XM
(Venus)SH
/Times-Roman SF
(. The)
254 W( HDB)2 W
9720 18598 MT
(provides a means for users to explicitly control Venus' caching behavior.  HDB entries specify the degree)53 W
9720 19884 MT
(of a user's interest in particular file system)
240 W( objects.  Venus combines this information with implicit)239 W
9720 21170 MT
(knowledge that it has about file access patterns to try)
104 W( to keep the "best" set of objects in its cache at all)105 W
9720 22456 MT
(times. The)
250 W( HDB is maintained in non-volatile storage, so it survives Venus restarts and client reboots.)SH
9720 24431 MT
(Users manipulate the HDB by issuing commands to the hoard program.  The following hoard commands)84 W
9720 25717 MT
(are currently recognized:)SH
/Times-Bold SF
15120 27327 MT
(add)SH
/Times-Roman SF
17232 XM
(filename <attributes>)250 W
/Times-Bold SF
15120 28432 MT
(clear)SH
/Times-Roman SF
17730 XM
(<uid>)SH
/Times-Bold SF
15120 29537 MT
(delete)SH
/Times-Roman SF
18119 XM
(filename)SH
/Times-Bold SF
15120 30642 MT
(list)SH
/Times-Roman SF
16898 XM
(outfile <uid>)250 W
/Times-Bold SF
15120 31747 MT
(modify)SH
/Times-Roman SF
18620 XM
(filename <attributes>)250 W
9720 33357 MT
(Commands may be abbreviated by their first letter.  Parameters in angle brackets)
110 W( are optional, and have)111 W
9720 34643 MT
(default values if)
85 W( unspecified.  The)84 W
/Times-Italic SF
24084 XM
(attributes)SH
/Times-Roman SF
28252 XM
(parameter is specified as a string of options separated by ':')84 W
9720 35929 MT
(characters. The)
250 W( currently recognized options are:)SH
/Times-Bold SF
15120 37539 MT
(1-1000)SH
/Times-Roman SF
20520 XM
(assign this object the hoard)SH
/Times-Italic SF
31658 XM
(priority)SH
/Times-Roman SF
34964 XM
(indicated)SH
/Times-Bold SF
15120 38644 MT
(c)SH
/Times-Roman SF
20520 XM
(current)SH
/Times-Italic SF
23602 XM
(children)SH
/Times-Roman SF
27185 XM
(of this directory will inherit its hoard status)SH
/Times-Bold SF
15120 39749 MT
(c+)SH
/Times-Roman SF
20520 XM
(current and future)SH
/Times-Italic SF
27934 XM
(children)SH
/Times-Roman SF
31517 XM
(of this directory will inherit its hoard status)SH
/Times-Bold SF
15120 40854 MT
(d)SH
/Times-Roman SF
20520 XM
(current)SH
/Times-Italic SF
23602 XM
(descendents)SH
/Times-Roman SF
28684 XM
(of this directory will inherit its hoard status)SH
/Times-Bold SF
15120 41959 MT
(d+)SH
/Times-Roman SF
20520 XM
(current and future)SH
/Times-Italic SF
27934 XM
(descendents)SH
/Times-Roman SF
33016 XM
(of this directory will inherit its hoard status)SH
9720 43569 MT
(If the)206 W
/Times-Italic SF
12520 XM
(uid)SH
/Times-Roman SF
14254 XM
(in the clear and list commands is unspecified, the entries of all users are cleared or listed)207 W
9720 44855 MT
(respectively. The)
250 W( default hoard)SH
/Times-Italic SF
22661 XM
(priority)SH
/Times-Roman SF
25967 XM
(is 10.)SH
9720 46830 MT
(An example command file is:)SH
/Times-Bold SF
15120 48424 MT
(clear)SH
15120 49529 MT
(add)SH
/Times-Roman SF
17232 XM
(/coda/project/coda/src 100:d+)250 W
/Times-Bold SF
15120 50634 MT
(add)SH
/Times-Roman SF
17232 XM
(/coda/usr/jjk/.login 1000)250 W
9720 52609 MT
(Access to the hoard database is restricted in the following ways.  All hoard commands fail unless the)169 W
9720 53895 MT
(effective-uid is root---the hoard program should be made setuid to root to ensure)
2 W( this.  Special permission is)3 W
9720 55181 MT
(given to)
24 W( commands where the real-uid is root or that of the)23 W
/Times-Italic SF
33771 XM
(primary)SH
/Times-Roman SF
37266 XM
(user, i.e., the user at the console.  Root)23 W
9720 56467 MT
(and primary users may add entries and access existing)
28 W( entries without restriction.  Other users may not add)29 W
9720 57753 MT
(hoard entries, and they may only clear, delete, list, or modify their own entries.)SH
9720 59728 MT
(The command-line options are:)SH
/Times-Bold SF
9720 61014 MT
(-d)SH
/Times-Roman SF
20520 XM
(Enables debugging output.)SH
/Times-Bold SF
9720 62300 MT
(-f)SH
/Times-Italic SF
10636 XM
(source)SH
/Times-Roman SF
20520 XM
(Take commands from file)119 W
/Times-Italic SF
31605 XM
(source)SH
/Times-Roman SF
(. '-f')
488 W( must be the last argument)
119 W( if specified.)118 W
20520 63586 MT
(An argument of '-' means use)78 W
/Times-Bold SF
33207 XM
(stdin)SH
/Times-Roman SF
35648 XM
(as the source file.  Source statements may)79 W
20520 64872 MT
(be given directly on the command line \050one per line\051 by enclosing them in single)9 W
20520 66158 MT
(quotes.)SH
/Times-Bold SF
6120 68788 MT
(DIAGNOSTICS)SH
/Times-Roman SF
9720 70074 MT
(Hoard copies command lines that it cannot parse to)51 W
/Times-Bold SF
30927 XM
(stderr)SH
/Times-Roman SF
(. If)
354 W( a syntactically correct command is rejected)52 W
9720 71360 MT
(by Venus, the corresponding pioctl, its arguments, and the errno are copied to)SH
/Times-Bold SF
41048 XM
(stderr)SH
/Times-Roman SF
(.)SH
6120 75600 MT
(90)SH
26728 XM
(May 12, 1993)SH
45949 XM
(Coda Release 1.0)SH
ES
%%Page: 91 92
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(HOARD\0501\051)SH
50359 XM
(HOARD\0501\051)SH
/Times-Bold SF
8280 7870 MT
(BUGS)SH
/Times-Roman SF
11880 9156 MT
(Negative priorities should be allowed.)SH
11880 11131 MT
(A mount point of)SH
/Times-Italic SF
19047 XM
(/coda)SH
/Times-Roman SF
21519 XM
(is assumed by the pioctl library.)SH
/Times-Bold SF
8280 13761 MT
(SEE ALSO)SH
/Times-Roman SF
11880 15047 MT
(venus\0508\051)SH
/Times-Bold SF
8280 17677 MT
(AUTHOR)SH
/Times-Roman SF
11880 18963 MT
(Jay Kistler, 1990, Created)SH
8280 75600 MT
(Coda Release 1.0)SH
28888 XM
(May 12, 1993)SH
54080 XM
(91)SH
ES
%%Page: 92 93
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(MVDB\0501\051)SH
48754 XM
(MVDB\0501\051)SH
/Times-Bold SF
6120 7870 MT
(NAME)SH
600 50 12498 9011 UL
/Times-Roman SF
9720 9156 MT
(mvdb)SH
13348 XM
(Atomically update files in a directory)SH
/Times-Bold SF
6120 11786 MT
(SYNOPSIS)SH
9720 13072 MT
(mvdb)SH
/Times-Roman SF
12415 XM
([-l lockfile] file1 file2 ...)SH
9720 15047 MT
(or)SH
/Times-Bold SF
9720 17022 MT
(mvdb)SH
/Times-Roman SF
12415 XM
([-l lockfile] newfile1=file1 newfile2=file2 .....)SH
/Times-Bold SF
6120 19652 MT
(DESCRIPTION)SH
9720 20938 MT
(mvdb)SH
/Times-Roman SF
12436 XM
(is used to lock a directory exclusively and then atomically update a set of)
21 W( files in it.  A file is moved)20 W
9720 22224 MT
(in only if it does not)
54 W( already exist in the current directory, or if the version in this directory is older.  You)55 W
9720 23510 MT
(must be cd'ed into the destination directory)
98 W( already.  If you do not specify a)97 W
/Times-Italic SF
41787 XM
(lockfile)SH
/Times-Roman SF
(, "." is locked.  The)97 W
9720 24796 MT
(Unix primitive)100 W
/Times-Italic SF
16087 XM
(flock)SH
/Times-Roman SF
(\050\051 is used for locking.  For each file moved in, you can choose to retain the original)100 W
9720 26082 MT
(name or give it a new name by using the)120 W
/Times-Italic SF
27362 XM
(newfile=file)SH
/Times-Roman SF
32574 XM
(construct. If)
489 W( a file)119 W
/Times-Italic SF
40779 XM
(filename)SH
/Times-Roman SF
44592 XM
(already exists in the)119 W
9720 27368 MT
(directory, it is first renamed to)SH
/Times-Italic SF
22135 XM
(filename.BAK)SH
/Times-Roman SF
(. The)
250 W( dates of the target are copied from the source files.)SH
9720 29343 MT
(The options are:)SH
/Times-Bold SF
9720 30629 MT
(-v)SH
/Times-Roman SF
20520 XM
(Verbose mode.  Will print out information on the progress of the command.)SH
/Times-Bold SF
9720 31915 MT
(-u)SH
/Times-Roman SF
20520 XM
(Force update.  Moves in the files even if the source files are not newer.)SH
/Times-Bold SF
6120 34545 MT
(EXAMPLE)SH
/Courier-Bold SF
9720 36350 MT
(cd /itcbin/vice/bin)SH
9720 37481 MT
(mvdb /usr/andrew/bin venus2.sun=venus2 file salvage)SH
/Times-Bold SF
6120 40111 MT
(BUGS)SH
/Times-Roman SF
9720 41397 MT
(All the files have to come from the same source directory.)SH
9720 43372 MT
(You have to be cd'\134ed into the target directory.  You need Lock rights in Vice directories for locking.)SH
/Times-Bold SF
6120 46002 MT
(AUTHOR)SH
/Times-Roman SF
9720 47288 MT
(Created: M.Satyanarayanan, 1985)SH
6120 75600 MT
(92)SH
26728 XM
(May 12, 1993)SH
45949 XM
(Coda Release 1.0)SH
ES
%%Page: 93 94
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(REPAIR\0501\051)SH
50358 XM
(REPAIR\0501\051)SH
/Times-Bold SF
8280 7870 MT
(NAME)SH
600 50 14712 9011 UL
/Times-Roman SF
11880 9156 MT
(repair)SH
15562 XM
(repair conflicts in the Coda file system)SH
/Times-Bold SF
8280 11786 MT
(SYNOPSIS)SH
/Times-Roman SF
11880 13396 MT
(repair)SH
/Times-Bold SF
8280 16026 MT
(DESCRIPTION)SH
/Times-Roman SF
11880 17312 MT
(The Coda repair tool allows you to)
226 W( manually resolve two kinds of conflict resulted from partitioned)227 W
11880 18598 MT
(updates. Server-server)
340 W( conflicts are conflicting mutations performed on partitioned servers)
45 W( that can not be)44 W
11880 19884 MT
(automatically resolved.)
28 W( Local-global)
307 W( conflicts are caused by mutations performed on a disconnected client)29 W
11880 21170 MT
(that are in conflict with the global server state.)SH
/Times-Bold SF
11880 23145 MT
(Repair)SH
/Times-Roman SF
15134 XM
(uses the)60 W
/Times-Italic SF
18698 XM
(ci)SH
/Times-Roman SF
19730 XM
(command interpreter to present its user interface. Several instructions may appear on)
60 W( a)59 W
11880 24431 MT
(single line separated by semicolons. You can abbreviate command, variable, and help topic names. To send)12 W
11880 25717 MT
(output into a file, end the command line with >filename.)SH
11880 27692 MT
(To use the repair tool, first type)11 W
/Times-Bold SF
24844 XM
(repair)SH
/Times-Roman SF
27771 XM
(and then use the following commands to start and terminate)
11 W( a repair)10 W
11880 28978 MT
(session or obtain help information:)SH
/Times-Bold SF
11880 30264 MT
(beginrepair)SH
/Times-Italic SF
17130 XM
(object)SH
/Times-Roman SF
22680 XM
(verifies that)133 W
/Times-Italic SF
27945 XM
(object)SH
/Times-Roman SF
30772 XM
(is indeed in conflict.)
133 W( It will print out messages to indicate)134 W
22680 31550 MT
(whether the current repair session is for server-server)
169 W( conflict or local-global)168 W
22680 32836 MT
(conflict.)SH
22680 34122 MT
(For a server-server)
353 W( repair session, this command locks the corresponding)354 W
22680 35408 MT
(volume and and mounts its)
18 W( individual replicas read-only. It will inform the users)17 W
22680 36694 MT
(to only use the)57 W
/Times-Bold SF
29019 XM
(comparedirs)SH
/Times-Roman SF
(,)SH
/Times-Bold SF
34964 XM
(dorepair)SH
/Times-Roman SF
38993 XM
(and)SH
/Times-Bold SF
40744 XM
(removeinc)SH
/Times-Roman SF
45494 XM
(commands to repair the)57 W
22680 37980 MT
(conflict.)SH
22680 39266 MT
(For a local-global repair session, both)
171 W( local and global replicas of)170 W
/Times-Italic SF
50995 XM
(object)SH
/Times-Roman SF
53859 XM
(are)SH
22680 40552 MT
(visible at)133 W
/Times-Italic SF
26836 XM
(object/local)SH
/Times-Roman SF
(\050read-only\051 and)134 W
/Times-Italic SF
38268 XM
(object/global)SH
/Times-Roman SF
(\050mutable and serving as the)134 W
22680 41838 MT
(workspace for)
102 W( storing the repair result for)101 W
/Times-Italic SF
40300 XM
(object)SH
/Times-Roman SF
(\051. You need to iterate through)101 W
22680 43124 MT
(the current session's)270 W
/Times-Italic SF
31905 XM
(local-mutations-list)SH
/Times-Roman SF
40259 XM
(containing all the local updates to)270 W
/Times-Italic SF
22680 44410 MT
(object)SH
/Times-Roman SF
25645 XM
(and its descendants.  Each operation in)271 W
/Times-Italic SF
43317 XM
(local-mutations-list)SH
/Times-Roman SF
51671 XM
(must be)270 W
22680 45696 MT
(accounted for)
48 W( and Venus maintains the)49 W
/Times-Italic SF
38803 XM
(current-mutation)SH
/Times-Roman SF
45935 XM
(being iterated. Use the)49 W
/Times-Bold SF
22680 46982 MT
(checklocal)SH
/Times-Roman SF
27448 XM
(command to find out the conflict between)
74 W( the)73 W
/Times-Italic SF
46480 XM
(current-mutation)SH
/Times-Roman SF
53636 XM
(and)SH
22680 48268 MT
(the server state. Note that not all local mutations are necessarily in)
46 W( conflict, and)47 W
22680 49554 MT
(you can use the)706 W
/Times-Bold SF
31947 XM
(listlocal)SH
/Times-Roman SF
36181 XM
(command to see all the)
706 W( operations in)705 W
/Times-Italic SF
22680 50840 MT
(local-mutations-list)SH
/Times-Roman SF
(. You)
120 W( can advance the iteration to the next operation using)121 W
22680 52126 MT
(either the)8 W
/Times-Bold SF
26695 XM
(preservelocal)SH
/Times-Roman SF
32617 XM
(or the)7 W
/Times-Bold SF
35186 XM
(discardlocal)SH
/Times-Roman SF
40610 XM
(command with the former replaying)7 W
22680 53412 MT
(the)SH
/Times-Italic SF
24234 XM
(current-mutation)SH
/Times-Roman SF
31399 XM
(operation on the relevant global replicas. To)
82 W( speed up the)83 W
22680 54698 MT
(iteration, the)519 W
/Times-Bold SF
29022 XM
(preservealllocal)SH
/Times-Roman SF
36511 XM
(command repeats)518 W
/Times-Bold SF
44823 XM
(preservelocal)SH
/Times-Roman SF
51256 XM
(until the)518 W
/Times-Italic SF
22680 55984 MT
(local-mutations-list)SH
/Times-Roman SF
31082 XM
(is exhausted or the first replay failure.  Similarly, the)318 W
/Times-Bold SF
22680 57270 MT
(discardalllocal)SH
/Times-Roman SF
30044 XM
(command repeats)891 W
/Times-Bold SF
39102 XM
(discardlocal)SH
/Times-Roman SF
45410 XM
(until exhausting)
891 W( the)890 W
/Times-Italic SF
22680 58556 MT
(local-mutations-list)SH
/Times-Roman SF
(. You can)
142 W( use external tools such as)143 W
/Times-Italic SF
46181 XM
(emacs)SH
/Times-Roman SF
49073 XM
(to make direct)143 W
22680 59842 MT
(update on)
68 W( needed replicas under)67 W
/Times-Italic SF
36151 XM
(object/global)SH
/Times-Roman SF
(. Use the)67 W
/Times-Bold SF
45407 XM
(quit)SH
/Times-Roman SF
47447 XM
(command to either)67 W
22680 61128 MT
(commit or abort the session.)SH
/Times-Bold SF
11880 62414 MT
(quit)SH
/Times-Roman SF
22680 XM
(If the current session is repairing a server-server conflict, this command releases)22 W
22680 63700 MT
(all the volume-level locks and causes the repair tool)
46 W( to return to the shell. If the)45 W
22680 64986 MT
(current session is repairing a local-global)
276 W( conflict, this command asks you)277 W
22680 66272 MT
(whether to commit or abort the repair session. If you)
8 W( answer 'yes', the mutations)7 W
22680 67558 MT
(performed on the)
233 W( relevant global replicas will be committed to the servers.)234 W
22680 68844 MT
(Otherwise, the repair result will be)
143 W( aborted as if this repair session has never)142 W
22680 70130 MT
(happened.)SH
/Times-Bold SF
11880 71416 MT
(help)SH
/Times-Roman SF
22680 XM
(prints out a help message.)SH
8280 75600 MT
(Coda Release 2.0)SH
27750 XM
(December 11, 1995)SH
54080 XM
(93)SH
ES
%%Page: 94 95
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(REPAIR\0501\051)SH
48198 XM
(REPAIR\0501\051)SH
9720 7886 MT
(Use the following commands to repair a server-server conflict:)SH
/Times-Bold SF
9720 9172 MT
(comparedirs)SH
/Times-Italic SF
15358 XM
(object fixfile)SH
/Times-Roman SF
20520 XM
(compares the mounted read-only replicas of a directory in conflict and prints the)20 W
20520 10458 MT
(repair commands in fixfile to make the)
36 W( replicas identical. To print out the repair)35 W
20520 11744 MT
(commands on your terminal give 'stdout')
476 W( as the pathname for fixfile.)477 W
20520 13030 MT
(Compensating actions for Name/Name conflicts and)
205 W( Update/Update conflicts)204 W
20520 14316 MT
(are not given. The user is only told about their existence and required to edit the)27 W
20520 15602 MT
(fixfile manually. You should have already done a)4 W
/Times-Bold SF
40575 XM
(beginrepair)SH
/Times-Roman SF
45828 XM
(on)SH
/Times-Italic SF
47081 XM
(object)SH
/Times-Roman SF
49778 XM
(and this)3 W
20520 16888 MT
(command works only if)SH
/Times-Italic SF
30297 XM
(object)SH
/Times-Roman SF
32991 XM
(is a directory.)SH
/Times-Bold SF
9720 18174 MT
(dorepair)SH
/Times-Italic SF
13692 XM
(object fixfile)SH
/Times-Roman SF
20520 XM
(does the actual repair of an)
1 W( object.  If the repair succeeds, each accessible replica)2 W
20520 19460 MT
(will be marked consistent.)
96 W( You will be prompted for the arguments if they are)95 W
20520 20746 MT
(missing, and)
28 W( will be asked to confirm the repair.  You should have already done)29 W
20520 22032 MT
(a)SH
/Times-Bold SF
21362 XM
(beginrepair)SH
/Times-Roman SF
26760 XM
(on this object \050or on on some other object in)
148 W( this volume.\051. If)147 W
/Times-Italic SF
20520 23318 MT
(object)SH
/Times-Roman SF
23272 XM
(is a file or symbolic link,)58 W
/Times-Italic SF
33870 XM
(fixfile)SH
/Times-Roman SF
36456 XM
(must provide its new)
58 W( contents.  If)59 W
/Times-Italic SF
50476 XM
(object)SH
/Times-Roman SF
20520 24604 MT
(is a directory,)64 W
/Times-Italic SF
26433 XM
(fixfile)SH
/Times-Roman SF
29025 XM
(must provide a sequence of directory repair commands for)64 W
20520 25890 MT
(each replica.  The format of fixfile for directories is as follows:)SH
/Courier-Bold SF
22920 27695 MT
(replica <servername> <id of replica1>)SH
25320 28826 MT
(<repair commands for replica1>)SH
22920 29957 MT
(replica <servername> <id of replica2>)SH
25920 31088 MT
(<repair commands for  replica2>)SH
22920 32219 MT
(and so on)SH
/Times-Roman SF
20520 34036 MT
(Repair commands are given one per line.  Blank lines are ok.)51 W
/Times-Italic SF
46097 XM
(id of replica1)52 W
/Times-Roman SF
(,)SH
/Times-Italic SF
52142 XM
(id)SH
20520 35322 MT
(of replica2)72 W
/Times-Roman SF
(, etc.  are numbers that identify each replica.)
72 W( These)
393 W( are the same as)71 W
20520 36608 MT
(the volume id's of read-write volumes corresponding to a replicated)
171 W( volume.)172 W
20520 37894 MT
(The volume id's can)
160 W( be obtained by doing an 'ls' on the inconsistent object,)159 W
20520 39180 MT
(after the)38 W
/Times-Bold SF
24150 XM
(beginrepair)SH
/Times-Roman SF
29438 XM
(command has succeeded.  The directory repair commands)38 W
20520 40466 MT
(are:)SH
/Courier-Bold SF
21720 42271 MT
(createf <filename>)
SH( <fid.0>)
1800 W( <fid.1> <fid.2>)SH
21720 43402 MT
(creates <symlinkname> <fid.0> <fid.1> <fid.2>)SH
21720 44533 MT
(createl <linkname>)
SH( <fid.0>)
1800 W( <fid.1> <fid.2>)SH
21720 45664 MT
(created <dirname>)
SH( <fid.0>)
2400 W( <fid.1> <fid.2>)SH
21720 46795 MT
(removefsl <filename)
600 W( or symlinkname or linkname>)SH
21720 47926 MT
(removed <dirname>)600 W
21720 49057 MT
(mv <srcname> <tgtname> <src <fid.0><fid.1><fid.2>>)SH
35520 50188 MT
(<target <fid.1> <fid.2>>)SH
21720 51319 MT
(setacl <username>)
600 W( [rwlikda])SH
21720 52450 MT
(delacl <username>)600 W
21720 53581 MT
(setmode <newmode>)SH
21720 54712 MT
(setowner <new owner name>)SH
21720 55843 MT
(setmtime <new modified time>)SH
/Times-Roman SF
20520 57660 MT
(Note that for the)79 W
/Times-Bold SF
27668 XM
(setacl)SH
/Times-Roman SF
30385 XM
(command, the short)
79 W( form access rights of)78 W
/Times-Bold SF
47708 XM
(all)SH
/Times-Roman SF
49092 XM
(and)SH
/Times-Bold SF
50864 XM
(none)SH
/Times-Roman SF
20520 58946 MT
(can also be used.)SH
/Times-Bold SF
9720 60232 MT
(removeinc)SH
/Times-Italic SF
14413 XM
(object)SH
/Times-Roman SF
20520 XM
(removes the inconsistent)75 W
/Times-Italic SF
30883 XM
(object)SH
/Times-Roman SF
33652 XM
(if it is file or)
75 W( a symbolic link. If the object is a)76 W
20520 61518 MT
(directory, all the descendants of the object will be)
53 W( removed in all the accessible)52 W
20520 62804 MT
(replicas and the directory itself will be removed as long as)
234 W( its replicas are)235 W
20520 64090 MT
(identical. If the owner or the)
141 W( ACL of the directory replicas are different, you)140 W
20520 65376 MT
(have to repair the conflict first.)SH
9720 66662 MT
(The following commands are used only for repairing local-global conflicts:)SH
/Times-Bold SF
9720 67948 MT
(checklocal)SH
/Times-Roman SF
20520 XM
(checks to see if the)105 W
/Times-Italic SF
28904 XM
(current-mutation)SH
/Times-Roman SF
36092 XM
(being iterated by the current)
105 W( local-global)106 W
20520 69234 MT
(repair session)
156 W( is in conflict with the server state. It displays the operator and)155 W
20520 70520 MT
(operand\050s\051 of the)273 W
/Times-Italic SF
28421 XM
(current-mutation)SH
/Times-Roman SF
35778 XM
(operation and indicates whether it is in)274 W
20520 71806 MT
(conflict with the)
41 W( relevant server replicas. If it is in conflict, a brief reason of the)40 W
6120 75600 MT
(94)SH
25590 XM
(December 11, 1995)SH
45949 XM
(Coda Release 2.0)SH
ES
%%Page: 95 96
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(REPAIR\0501\051)SH
50358 XM
(REPAIR\0501\051)SH
22680 7886 MT
(conflict is given. Note that this)
86 W( command does not advance the iteration of the)87 W
/Times-Italic SF
22680 9172 MT
(local-mutations-list)SH
/Times-Roman SF
(.)SH
/Times-Bold SF
11880 10458 MT
(discardlocal)SH
/Times-Roman SF
22680 XM
(simply advances the iteration of)
191 W( the)190 W
/Times-Italic SF
38322 XM
(local-mutations-list)SH
/Times-Roman SF
46596 XM
(of the current local-)190 W
22680 11744 MT
(global repair session to the next operation. Use this command when the user)161 W
22680 13030 MT
(does not)
132 W( want the)131 W
/Times-Italic SF
30482 XM
(current-mutation)SH
/Times-Roman SF
37696 XM
(operation to have any effect on the repair)131 W
22680 14316 MT
(result.)SH
/Times-Bold SF
11880 15602 MT
(preservelocal)SH
/Times-Roman SF
22680 XM
(tires to replay the)64 W
/Times-Italic SF
30157 XM
(current-mutation)SH
/Times-Roman SF
37305 XM
(of the current local-global repair session on)65 W
22680 16888 MT
(the relevant global replicas. In other words, it will)
93 W( try to preserve the effect of)92 W
22680 18174 MT
(the)SH
/Times-Italic SF
24232 XM
(current mutation)80 W
/Times-Roman SF
31392 XM
(in the repair result. If the)
80 W( replay succeeds, the iteration of)81 W
/Times-Italic SF
22680 19460 MT
(local-mutations-list)SH
/Times-Roman SF
30938 XM
(will be)
174 W( advanced to the next operation. The effect of the)173 W
22680 20746 MT
(replay is visible only on this client)
28 W( and not on the server until the repair result is)29 W
22680 22032 MT
(successfully committed. If the replay fails, information about the reason of)
95 W( the)94 W
22680 23318 MT
(failure will be displayed.)SH
/Times-Bold SF
11880 24604 MT
(discardalllocal)SH
/Times-Roman SF
22680 XM
(repeatedly performs)
91 W( the)92 W
/Times-Bold SF
32702 XM
(discardlocal)SH
/Times-Roman SF
38211 XM
(command until the)92 W
/Times-Italic SF
46237 XM
(local-mutations-list)SH
/Times-Roman SF
54413 XM
(is)SH
22680 25890 MT
(exhausted. Its effect is to finish the iteration and discard the effect of all the)158 W
22680 27176 MT
(remaining mutations on the repair result.)SH
/Times-Bold SF
11880 28462 MT
(preservealllocal)SH
/Times-Roman SF
22680 XM
(repeatedly performs the)196 W
/Times-Bold SF
33015 XM
(preservelocal)SH
/Times-Roman SF
39126 XM
(command until the first failure)
196 W( or the)197 W
22680 29748 MT
(iteration of)93 W
/Times-Italic SF
27531 XM
(local-mutations-list)SH
/Times-Roman SF
35707 XM
(is exhausted. This command is used if the user)92 W
22680 31034 MT
(wants to preserve the effect of all the remaining)
214 W( mutation operations in the)215 W
22680 32320 MT
(repair result.)SH
/Times-Bold SF
11880 33606 MT
(listlocal)SH
/Times-Roman SF
22680 XM
(prints out all the mutation operations in the)130 W
/Times-Italic SF
41220 XM
(local-mutations-list)SH
/Times-Roman SF
49434 XM
(of the)
130 W( current)129 W
22680 34892 MT
(local-global repair session.)SH
/Times-Bold SF
11880 36178 MT
(setglobalview)SH
/Times-Roman SF
22680 XM
(If the current local-global repair session is repairing a conflict on)12 W
/Times-Italic SF
49056 XM
(object)SH
/Times-Roman SF
51762 XM
(given as)13 W
22680 37464 MT
(the argument to the)13 W
/Times-Bold SF
30731 XM
(beginrepair)SH
/Times-Roman SF
35994 XM
(command, the global replica of)13 W
/Times-Italic SF
48778 XM
(object)SH
/Times-Roman SF
51484 XM
(is visible)12 W
22680 38750 MT
(at)SH
/Times-Italic SF
23711 XM
(object/global)SH
/Times-Roman SF
(. This command allows the global replica of)59 W
/Times-Italic SF
47320 XM
(object)SH
/Times-Roman SF
50073 XM
(to be visible)59 W
22680 40036 MT
(at the original location\050pathname\051 of)SH
/Times-Italic SF
37594 XM
(object)SH
/Times-Roman SF
(.)SH
/Times-Bold SF
11880 41322 MT
(setlocalview)SH
/Times-Roman SF
22680 XM
(If the)
13 W( current local-global repair session is repairing a conflict on)12 W
/Times-Italic SF
49057 XM
(object)SH
/Times-Roman SF
51763 XM
(given as)12 W
22680 42608 MT
(the argument to the)59 W
/Times-Bold SF
30915 XM
(beginrepair)SH
/Times-Roman SF
36224 XM
(command, the local replica of)59 W
/Times-Italic SF
48683 XM
(object)SH
/Times-Roman SF
51436 XM
(is visible)60 W
22680 43894 MT
(at)SH
/Times-Italic SF
23718 XM
(object/local)SH
/Times-Roman SF
(. This command)
66 W( allows the local replica of)65 W
/Times-Italic SF
46265 XM
(object)SH
/Times-Roman SF
49024 XM
(to be visible at)65 W
22680 45180 MT
(the original location\050pathname\051 of)SH
/Times-Italic SF
36622 XM
(object)SH
/Times-Roman SF
(.)SH
/Times-Bold SF
11880 46466 MT
(setmixedview)SH
/Times-Roman SF
22680 XM
(If the current local-global repair session is repairing a conflict on)12 W
/Times-Italic SF
49056 XM
(object)SH
/Times-Roman SF
51762 XM
(given as)13 W
22680 47752 MT
(the argument to the)160 W
/Times-Bold SF
31319 XM
(beginrepair)SH
/Times-Roman SF
36729 XM
(command, this command restore)
160 W( the default)159 W
22680 49038 MT
(form of local-global)
84 W( conflict representation in which the local replica is visible)85 W
22680 50324 MT
(at)SH
/Times-Italic SF
23652 XM
(object/local)SH
/Times-Roman SF
28624 XM
(and the global replica is visible at)SH
/Times-Italic SF
42317 XM
(object/global)SH
/Times-Roman SF
(.)SH
11880 51610 MT
(The following commands existed in old versions but are no longer supported:)SH
/Times-Bold SF
11880 52896 MT
(showreplicas)SH
/Times-Italic SF
17630 XM
(object)SH
/Times-Roman SF
22680 XM
(shows the names of the individual replicas of)203 W
/Times-Italic SF
42635 XM
(object)SH
/Times-Roman SF
(, and the pathnames by)202 W
22680 54182 MT
(which these replicas may be examined read-only. A)210 W
/Times-Bold SF
45327 XM
(beginrepair)SH
/Times-Roman SF
50787 XM
(must have)210 W
22680 55468 MT
(been done earlier on this object \050or on another object in the same volume\051.)SH
/Times-Bold SF
11880 56754 MT
(clearinc)SH
/Times-Italic SF
15518 XM
(object)SH
/Times-Roman SF
22680 XM
(compares the)
154 W( mounted read only replicas of a directory in conflict and if the)153 W
22680 58040 MT
(replicas are identical it clears the inconsistency flag of the)
36 W( replicas. Otherwise it)37 W
22680 59326 MT
(will inform you about)
319 W( the inequality of the replicas. You should run the)318 W
/Times-Bold SF
22680 60612 MT
(comparedirs)SH
/Times-Roman SF
28353 XM
(command to find out the cause of conflict.  This command should)36 W
22680 61898 MT
(be used)
287 W( only for directories. Files and symbolic links are cleared of their)286 W
22680 63184 MT
(inconsistency with the)SH
/Times-Bold SF
31874 XM
(dorepair)SH
/Times-Roman SF
35846 XM
(command.)SH
/Times-Bold SF
11880 64470 MT
(unlockvolume)SH
/Times-Italic SF
18131 XM
(pathname)SH
/Times-Roman SF
22680 XM
(tells Venus)
40 W( to unlock the specified volume in repair.  No check is done to see if)41 W
22680 65756 MT
(you locked the volume during)
224 W( this repair session.  The primary use of this)223 W
22680 67042 MT
(command is to unlock)
185 W( volumes that were locked during a previous, aborted,)186 W
22680 68328 MT
(invocation of the repair tool.  The command will fail if Venus discovers that you)11 W
22680 69614 MT
(do not hold the repair lock on the server.  This)
123 W( could happen, for example, if)124 W
22680 70900 MT
(your aborted repair)
351 W( occurred on another workstation, or if you were not)350 W
8280 75600 MT
(Coda Release 2.0)SH
27750 XM
(December 11, 1995)SH
54080 XM
(95)SH
ES
%%Page: 96 97
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(REPAIR\0501\051)SH
48198 XM
(REPAIR\0501\051)SH
20520 7886 MT
(repairing the volume in the first place.)SH
/Times-Bold SF
6120 10516 MT
(SEE ALSO)SH
/Times-Roman SF
9720 11802 MT
(ci\0503\051)SH
/Times-Bold SF
6120 14432 MT
(AUTHOR)SH
/Times-Roman SF
9720 15718 MT
(M. Satyanarayanan, 1989, Created)SH
9720 17693 MT
(Puneet Kumar, 1991, Substantially revised)SH
9720 19668 MT
(Joshua Raiff, 1993, Created man page)SH
9720 21643 MT
(Qi Lu, 1995, Added local-global repair commands and revised man page)SH
6120 75600 MT
(96)SH
25590 XM
(December 11, 1995)SH
45949 XM
(Coda Release 2.0)SH
ES
%%Page: 97 98
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(SPY\0501\051)SH
52080 XM
(SPY\0501\051)SH
/Times-Bold SF
8280 7870 MT
(NAME)SH
600 50 13769 9011 UL
/Times-Roman SF
11880 9156 MT
(spy)SH
14619 XM
(Report all CFS files that are opened)SH
/Times-Bold SF
8280 11786 MT
(SYNOPSIS)SH
11880 13072 MT
(spy)SH
/Times-Roman SF
13575 XM
([ -host <hostname> ] [ -uid <uid> ])SH
/Times-Bold SF
8280 15702 MT
(DESCRIPTION)SH
11880 16988 MT
(spy)SH
/Times-Roman SF
13674 XM
(will connect to)99 W
/Times-Italic SF
20165 XM
(venus)SH
/Times-Roman SF
22791 XM
(on the)
99 W( given host and report all Coda files that are opened.  This is useful for)100 W
11880 18274 MT
(generating)SH
/Times-Italic SF
16390 XM
(hoard)SH
/Times-Roman SF
19068 XM
(files as programs can have)
39 W( hidden dependencies.  Using spy will ensure that any file that)38 W
11880 19560 MT
(is opened gets included in the)53 W
/Times-Italic SF
24308 XM
(hoard)SH
/Times-Roman SF
27000 XM
(database. Sending)356 W
/Times-Bold SF
34880 XM
(spy)SH
/Times-Roman SF
36628 XM
(a)SH
/Times-Italic SF
37375 XM
(SIGTERM)SH
/Times-Roman SF
41844 XM
(will cause)53 W
/Times-Bold SF
46227 XM
(spy)SH
/Times-Roman SF
47975 XM
(to flush all of it's)54 W
11880 20846 MT
(output buffers and terminate.)SH
/Times-Bold SF
11880 22821 MT
(spy)SH
/Times-Roman SF
13575 XM
(supports the following options:)SH
/Times-Bold SF
11880 24107 MT
(-host)SH
/Times-Italic SF
14241 XM
(hostname)SH
/Times-Roman SF
22680 XM
(Name of Coda coda client to bind to.  If this option is omitted, then)
60 W( the current)59 W
22680 25393 MT
(host will be used.)SH
/Times-Bold SF
11880 26679 MT
(-uid)SH
/Times-Italic SF
13853 XM
(uid)SH
/Times-Roman SF
22680 XM
(Only report on file activity from user)39 W
/Times-Italic SF
38034 XM
(uid)SH
/Times-Roman SF
(. If)
328 W( the)39 W
/Times-Bold SF
42606 XM
(-uid)SH
/Times-Roman SF
44618 XM
(switch is omitted, then all)39 W
22680 27965 MT
(CFS file activity is reported.)SH
11880 29251 MT
(To use)57 W
/Times-Bold SF
14937 XM
(spy)SH
/Times-Roman SF
16688 XM
(to create a)56 W
/Times-Italic SF
21215 XM
(hoard)SH
/Times-Roman SF
23910 XM
(file sort the output and remove any duplicates, By using)56 W
/Times-Bold SF
47107 XM
(spy)SH
/Times-Roman SF
48858 XM
(you ensure that)56 W
11880 30537 MT
(you did not forget to)92 W
/Times-Italic SF
20812 XM
(hoard)SH
/Times-Roman SF
23543 XM
(a file with a hidden dependency.  For example, when you)92 W
/Times-Italic SF
47745 XM
(hoard X)93 W
/Times-Roman SF
(, you will)93 W
11880 31823 MT
(need the)SH
/Times-Italic SF
15490 XM
(uncompress\0501)SH
/Times-Roman SF
(\051 program in order to use the fonts.)SH
/Times-Bold SF
8280 34453 MT
(SEE ALSO)SH
/Times-Roman SF
11880 35739 MT
(hoard\0501\051)SH
/Times-Bold SF
8280 38369 MT
(AUTHOR)SH
/Times-Roman SF
11880 39655 MT
(Joshua Raiff, 1993, Created man page)SH
8280 75600 MT
(Coda Release 1.0)SH
28888 XM
(May 12, 1993)SH
54080 XM
(97)SH
ES
%%Page: 98 99
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(TTYFCON\0501\051)SH
47143 XM
(TTYFCON\0501\051)SH
/Times-Bold SF
6120 7870 MT
(NAME)SH
600 50 13053 9011 UL
/Times-Roman SF
9720 9156 MT
(ttyfcon)SH
13903 XM
(tty interface to failure emulator)SH
/Times-Bold SF
6120 11786 MT
(SYNOPSIS)SH
9720 13380 MT
(ttyfcon)SH
6120 16010 MT
(DESCRIPTION)SH
/Times-Roman SF
9720 17296 MT
(The Coda failure emulation package consists of two pieces: a library)
86 W( of routines \050)85 W
/Times-Italic SF
(libfail)SH
/Times-Roman SF
(\051 that is linked in)85 W
9720 18582 MT
(with each client and server, and a user)
2 W( interface program \050)3 W
/Times-Italic SF
(ttyfcon)SH
/Times-Roman SF
(\051 that controls the behavior of the linked-in)3 W
9720 19868 MT
(libraries. These)
630 W( components allow a wide range of failure scenarios to be emulated,)
190 W( including server)189 W
9720 21154 MT
(failure, network failure, asymmetric and non-transitive communication, and lossy networks.)SH
9720 23129 MT
(At each client and server, every incoming and outgoing packet is presented to the failure)
236 W( emulation)237 W
9720 24415 MT
(package. Each)
422 W( packet is checked against an ordered list of filters. The first filter whose address)
86 W( matches)85 W
9720 25701 MT
(the IP address on the packet \050destination for)56 W
/Times-Italic SF
27998 XM
(send)SH
/Times-Roman SF
30137 XM
(filters, or source)
56 W( for)57 W
/Times-Italic SF
38555 XM
(receive)SH
/Times-Roman SF
41749 XM
(filters\051 is used to determine)57 W
9720 26987 MT
(what action should be taken on the packet.)SH
9720 28962 MT
(A filter consists of three parts: a)163 W
/Times-Italic SF
23942 XM
(probability)SH
/Times-Roman SF
(, a)163 W
/Times-Italic SF
29906 XM
(predicate)SH
/Times-Roman SF
(, and a)162 W
/Times-Italic SF
37057 XM
(delay.)SH
/Times-Roman SF
40297 XM
(The probability specifies what)162 W
9720 30248 MT
(fraction of packets that match)
41 W( the predicate are allowed to pass through unharmed. The)42 W
/Times-Italic SF
45379 XM
(delay)SH
/Times-Roman SF
47837 XM
(may be used)42 W
9720 31534 MT
(to delay packets in order to simulate a slow connection to those machines matching the filter's)
9 W( address. The)8 W
9720 32820 MT
(delay will apply)
111 W( regardless of the probability.  Filters may either apply to)112 W
/Times-Italic SF
40671 XM
(in)SH
/Times-Roman SF
(coming \050receive\051 packets or)112 W
/Times-Italic SF
9720 34106 MT
(out)SH
/Times-Roman SF
(going \050send\051 packets.)SH
/Times-Italic SF
9720 36081 MT
(ttyfcon)SH
/Times-Roman SF
12789 XM
(enables a user to manipulate filters.  The user)
97 W( interface presented by)96 W
/Times-Italic SF
41414 XM
(ttyfcon)SH
/Times-Roman SF
44482 XM
(is based on the)96 W
/Times-Italic SF
51032 XM
(ci\0503\051)SH
/Times-Roman SF
9720 37367 MT
(library. A)
522 W( command with arguments can be issued in)
136 W( two ways.  If only the command name is typed,)137 W
/Times-Italic SF
9720 38653 MT
(ttyfcon)SH
/Times-Roman SF
12949 XM
(will prompt the user for)
257 W( the arguments.  The command name may be uniquely abbreviated.)256 W
9720 39939 MT
(Alternatively, all the arguments to a command may be given on the command line.)
73 W( If)
397 W( any arguments are)74 W
9720 41225 MT
(missing, the command will fail; there is no)
42 W( partial prompting.  This feature is intended to allow the user to)41 W
9720 42511 MT
(produce command scripts to be executed with)SH
/Times-Italic SF
28300 XM
(ci)SH
/Times-Roman SF
29272 XM
('s built-in `@' command.)SH
9720 44486 MT
(The following commands are available.)SH
/Times-Bold SF
9720 45772 MT
(addclient)SH
/Times-Italic SF
13915 XM
(host port)SH
/Times-Roman SF
20520 XM
(Connects to a client at IP port number)61 W
/Times-Italic SF
36452 XM
(port)SH
/Times-Roman SF
38431 XM
(on the host named)62 W
/Times-Italic SF
46234 XM
(host)SH
/Times-Roman SF
(. \050For)
374 W( Coda)62 W
20520 47058 MT
(clients and servers, use 1363 and 1361 respectively.\051)SH
/Times-Bold SF
9720 48344 MT
(deleteclient)SH
/Times-Italic SF
14802 XM
(clientnum)SH
/Times-Roman SF
20520 XM
(Disconnects from client number)SH
/Times-Italic SF
33629 XM
(clientnum)SH
/Times-Roman SF
(.)SH
/Times-Bold SF
9720 49630 MT
(listclients)SH
/Times-Roman SF
20520 XM
(Lists the current set of connected clients.)SH
/Times-Bold SF
9720 50916 MT
(insertfilter)SH
/Times-Italic SF
14524 XM
(clientnum side id host color lenmin lenmax probability speed)SH
/Times-Roman SF
20520 52202 MT
(Inserts a filter into client number)46 W
/Times-Italic SF
34183 XM
(clientnum)SH
/Times-Roman SF
('s table on the specified)46 W
/Times-Italic SF
48105 XM
(side)SH
/Times-Roman SF
50013 XM
(\050one of)47 W
/Times-Italic SF
20520 53488 MT
(in, out)158 W
/Times-Roman SF
(\051. The)
566 W( filter will be inserted after the existing filter)
158 W( with identifier)157 W
/Times-Italic SF
51892 XM
(id)SH
/Times-Roman SF
(.)SH
20520 54774 MT
(\050Inserting after the filter with identifier)50 W
/Times-Italic SF
36650 XM
(0)SH
/Times-Roman SF
37450 XM
(will insert)
50 W( the filter before all existing)51 W
20520 56060 MT
(filters.\051 The)
574 W( characteristics)
162 W( of the new filter are)161 W
/Times-Italic SF
41299 XM
(host, color, lenmin, lenmax,)161 W
20520 57346 MT
(probablitlity)SH
/Times-Roman SF
25780 XM
(and)SH
/Times-Italic SF
27483 XM
(speed. Host)268 W
/Times-Roman SF
32676 XM
(is specified as a name or an IP address of the form)10 W
20520 58632 MT
("a.b.c.d". Any)
344 W( of the 4 IP components can be wildcarded by specifying a value)46 W
20520 59918 MT
(of -1.)
8 W( Thus)
267 W( "-1.-1.-1.-1" matches any host, while "128.2.-1.-1" matches any host)9 W
20520 61204 MT
(on subnet 2 at CMU.)74 W
/Times-Italic SF
29825 XM
(Lenmin)SH
/Times-Roman SF
33149 XM
(and)SH
/Times-Italic SF
34917 XM
(lenmax)SH
/Times-Roman SF
38128 XM
(specify the minimum and maximum)73 W
20520 62490 MT
(RPC packet sizes)
26 W( that match this filter.)27 W
/Times-Italic SF
36484 XM
(Color)SH
/Times-Roman SF
39095 XM
(is a number in the range from 0 to)27 W
20520 63776 MT
(254. A)
360 W( value of -1 specifies that any color matches.  RPC2)
55 W( connections can be)54 W
20520 65062 MT
(colored using the call RPC2_SetColor\050\051.)
243 W( Packets)
738 W( sent out on a connection)244 W
20520 66348 MT
(acquire the color)
32 W( of the connection.  Note that reply packets acquire the color of)31 W
20520 67634 MT
(the reply connection, which may be different.)
1 W( Colors)
254 W( are particularly valuable in)2 W
20520 68920 MT
(stressing critical phases of higher-level protocols. By)
33 W( changing connection color)32 W
20520 70206 MT
(between phases, one can easily investigate the effect of failures on specific)224 W
20520 71492 MT
(phases. Probability is specified as an integer in)
77 W( the range from 0 to 10000, and)76 W
6120 75600 MT
(98)SH
26340 XM
(March 18, 1994)SH
45949 XM
(Coda Release 1.0)SH
ES
%%Page: 99 100
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(TTYFCON\0501\051)SH
49303 XM
(TTYFCON\0501\051)SH
22680 7886 MT
(correspond to floating point numbers in the range 0.00 to 1.00.  The)
23 W( speed is the)24 W
22680 9172 MT
(speed in bits per second)
83 W( that data should be transmitted between the machines.)82 W
22680 10458 MT
(The value returned from this)
3 W( routine is the filter's unique identifier. Speeds other)4 W
22680 11744 MT
(than the default cannot be applied on)SH
/Times-Italic SF
37705 XM
(receive)SH
/Times-Roman SF
40842 XM
(filters)SH
/Times-Bold SF
11880 13030 MT
(removefilter)SH
/Times-Italic SF
17405 XM
(clientnum side id)SH
/Times-Roman SF
22680 14316 MT
(Removes the filter with identifier)SH
/Times-Italic SF
36262 XM
(id)SH
/Times-Roman SF
37290 XM
(on the given side of client)SH
/Times-Italic SF
47900 XM
(clientnum.)SH
/Times-Bold SF
11880 15602 MT
(getfilters)SH
/Times-Italic SF
15906 XM
(clientnum)SH
/Times-Roman SF
22680 XM
(Lists the filters at client)SH
/Times-Italic SF
32374 XM
(clientnum.)SH
/Times-Bold SF
11880 16888 MT
(purgeFilters)SH
/Times-Italic SF
17407 XM
(clientnum side)SH
/Times-Roman SF
22680 18174 MT
(Removes all filters from the set specified by)83 W
/Times-Italic SF
41286 XM
(side)SH
/Times-Roman SF
(.)SH
/Times-Italic SF
43479 XM
(side)SH
/Times-Roman SF
45422 XM
(can be either)82 W
/Times-Italic SF
51027 XM
(in)SH
/Times-Roman SF
(,)SH
/Times-Italic SF
52387 XM
(out)SH
/Times-Roman SF
(, or)82 W
/Times-Italic SF
22680 19460 MT
(both)SH
/Times-Roman SF
24708 XM
(\050the default\051.)SH
/Times-Bold SF
11880 20746 MT
(quit)SH
/Times-Roman SF
22680 XM
(Terminates the program.  Note that this does not clear any filters.)SH
/Times-Bold SF
8280 23376 MT
(BUGS)SH
/Times-Roman SF
11880 24662 MT
(You cannot currently designate a host by IP address of the form a.b.c.d as described above when)
13 W( binding to)14 W
11880 25948 MT
(a process.)SH
11880 27923 MT
(May confuse the user with the error message ``RPC2_SUCCESS''.)SH
11880 29898 MT
(No authentication)
59 W( or security checks are done.  Denial of service attacks are trivial, since any user can set)58 W
11880 31184 MT
(up filters on any other client or server.)SH
/Times-Bold SF
8280 33814 MT
(SEE ALSO)SH
/Times-Roman SF
11880 35100 MT
(heal\0501\051, ci\0503\051, libfail\0503\051, RPC2 Reference Manual)SH
/Times-Bold SF
8280 37730 MT
(AUTHOR)SH
/Times-Roman SF
11880 39016 MT
(Walter Smith, 1988, created.)SH
11880 40991 MT
(M. Satyanarayanan, 1990, updated.)SH
11880 42966 MT
(Maria R. Ebling, 1991, updated.)SH
11880 44941 MT
(Lily Mummert, 1992, Added support for)SH
/Times-Italic SF
28379 XM
(speed)SH
/Times-Roman SF
(.)SH
11880 46916 MT
(David Steere, 1994, Added "purgeFilters", slight rewrite.)SH
8280 75600 MT
(Coda Release 1.0)SH
28500 XM
(March 18, 1994)SH
54080 XM
(99)SH
ES
%%Page: 100 101
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(BACKUP\0505\051)SH
47698 XM
(BACKUP\0505\051)SH
/Times-Bold SF
6120 7870 MT
(NAME)SH
600 50 13108 9011 UL
/Times-Roman SF
9720 9156 MT
(backup)SH
13958 XM
(Format of a Coda backup tape)SH
/Times-Bold SF
6120 11786 MT
(DESCRIPTION)SH
/Times-Roman SF
9720 13072 MT
(Each backup tape contains a series of tar files, the first and last)
122 W( of which are labels.  The start and end)123 W
9720 14358 MT
(labels are identical and)
118 W( contain version information, the date the backup was taken, and an index which)117 W
9720 15644 MT
(maps individual dump files into offests of)
17 W( the tape.  Thus to find a dump file, read the label, then use)18 W
/Times-Bold SF
50588 XM
(mt)SH
/Times-Roman SF
(\0501\051)SH
9720 16930 MT
(to fast forward to the file specified by the label's index.)SH
/Times-Bold SF
6120 19560 MT
(SEE ALSO)SH
/Times-Roman SF
9720 20846 MT
(backup\0508\051, mt\0501\051)SH
/Times-Bold SF
6120 23476 MT
(AUTHOR)SH
/Times-Roman SF
9720 24762 MT
(Joshua Raiff, 1993, Taken from system adminstrators guide.)SH
6120 75600 MT
(100)SH
26728 XM
(May 10, 1993)SH
45949 XM
(Coda Release 1.0)SH
ES
%%Page: 101 102
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(DUMPLIST\0505\051)SH
48914 XM
(DUMPLIST\0505\051)SH
/Times-Bold SF
8280 7870 MT
(NAME)SH
600 50 15881 9011 UL
/Times-Roman SF
11880 9156 MT
(dumplist)SH
16731 XM
(List of volumes to be archived by the Coda backup mechanism)SH
/Times-Bold SF
8280 11786 MT
(DESCRIPTION)SH
/Times-Roman SF
11880 13072 MT
(The dumplist file contains information for)
15 W( the)14 W
/Times-Bold SF
30565 XM
(backup)SH
/Times-Roman SF
(\0508\051 program. It contains two lists. The first is a list of)14 W
11880 14358 MT
(partitions which will hold the dumpfiles from the)
111 W( backup process. The second is a list of volumes to be)112 W
11880 15644 MT
(archived.)SH
11880 17619 MT
(The first is a list of directories in which to store dump files. This list is preceeded by a line consisting of the)8 W
11880 18905 MT
(keyword)SH
/Times-Bold SF
15657 XM
(Partitions)SH
/Times-Roman SF
(. It allows the administrator to evenly spread the)
28 W( dump files over many paritions on the)29 W
11880 20191 MT
(backup coordinator, allowing the collective dumped state to be larger than a)
214 W( single Unix partition \0502)213 W
11880 21477 MT
(Gigabytes\051.)SH
11880 23452 MT
(The second list contains the volumes to be backed up. The first line)
99 W( \050which also terminates the first list\051)100 W
11880 24738 MT
(contains the keyword)151 W
/Times-Bold SF
21137 XM
(Volumes)SH
/Times-Roman SF
(. Each entry in the list contains three tab separated)
151 W( fields: the volumeId)150 W
11880 26024 MT
(\050groupId\051, the schedule for full and incremental dumps, and a)
16 W( comment used to facilitate reading the output)17 W
11880 27310 MT
(of the)263 W
/Times-Bold SF
14961 XM
(backup)SH
/Times-Roman SF
18642 XM
(program. The schedule contains a number of)
263 W( "F" and "I" characters. Each character)262 W
11880 28596 MT
(represents what form of dump to take for that day in the schedule. The length of the)
7 W( period is the number of)8 W
11880 29882 MT
(characters in the schedule. For instance, "FIIIIII" means take one full)
108 W( dump followed by 6 incrementals,)107 W
11880 31168 MT
(whereas "F" means take a full dump every day. For convenience,)
111 W( the first character in a 7 day schedule)112 W
11880 32454 MT
(refers to Sunday.)SH
/Times-Bold SF
8280 35084 MT
(EXAMPLE)SH
/Times-Roman SF
11880 36370 MT
(The following does a full backup of)122 W
/Times-Italic SF
27315 XM
(coda_root)SH
/Times-Roman SF
(,)SH
/Times-Italic SF
32048 XM
(coda_root.i386)SH
/Times-Roman SF
(, and)122 W
/Times-Italic SF
40624 XM
(coda_root.tmp)SH
/Times-Roman SF
46856 XM
(on Monday while it)121 W
11880 37656 MT
(does a full backup of)163 W
/Times-Italic SF
21332 XM
(coda_root.project)SH
/Times-Roman SF
28939 XM
(and)SH
/Times-Italic SF
30797 XM
(coda_root.usr)SH
/Times-Roman SF
36850 XM
(on Wednesday.  It uses)164 W
/Times-Italic SF
47168 XM
(/vicepa/backup)SH
/Times-Roman SF
53636 XM
(and)SH
/Times-Italic SF
11880 38942 MT
(/usr/codabackup/backup)SH
/Times-Roman SF
21962 XM
(to store the dump files.)SH
/Courier-Bold SF
11880 40747 MT
(Partitions)SH
11880 41878 MT
(/vicepa/backup)SH
11880 43009 MT
(/usr/codabackup/backup)SH
11880 44140 MT
(Volumes)SH
11880 45271 MT
(7F000000 IFIIIII)
4200 W( coda_root)4800 W
11880 46402 MT
(7F000001 IFIIIII)
4200 W( coda_root.i386)4800 W
11880 47533 MT
(7F000002 IIIFIII)
4200 W( coda_root.project)4800 W
11880 48664 MT
(7F000003 IFIIIII)
4200 W( coda_root.tmp)4800 W
11880 49795 MT
(7F000004 IIIFIII)
4200 W( coda_root.usr)4800 W
11880 50926 MT
(7F000005 IFIIIII)
4200 W( coda_root.misc)4800 W
/Times-Bold SF
8280 53556 MT
(SEE ALSO)SH
/Times-Roman SF
11880 54842 MT
(backup\0508\051, creatvol\0508\051, createvol_rep\0508\051)SH
/Times-Bold SF
8280 57472 MT
(AUTHOR)SH
/Times-Roman SF
11880 58758 MT
(David C. Steere, 1991, Created)SH
8280 75600 MT
(Coda Release 1.0)SH
28888 XM
(May 12, 1993)SH
53580 XM
(101)SH
ES
%%Page: 102 103
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(DUMP FILE\0505\051)SH
46504 XM
(DUMP FILE\0505\051)SH
/Times-Bold SF
6120 7870 MT
(NAME)SH
600 50 14081 9011 UL
/Times-Roman SF
9720 9156 MT
(dump file)SH
14931 XM
(Format of a dump file)SH
/Times-Bold SF
6120 11786 MT
(DESCRIPTION)SH
/Times-Roman SF
9720 13072 MT
(The dump files are formatted as tagged byte streams.  Each piece of the dump is marked)
75 W( by a tag byte, a)74 W
9720 14358 MT
(number between 1 and)
68 W( 20.  Each piece may also be broken into subpieces, each marked by a letter of the)69 W
9720 15644 MT
(alphabet. Each)
250 W( subpiece is uniquely marked, but tags can be reused in different parts of the dump.)SH
9720 17619 MT
(The first 60 bytes of the)
182 W( dump contain header information.  This header info identifies which backup)181 W
9720 18905 MT
(volume was used to create the dump, and when and from which volume the backup)
59 W( clone was created.  It)60 W
9720 20191 MT
(also indicates whether the dump was incremental,)
43 W( and provides information to be used later in placing this)42 W
9720 21477 MT
(dump in)
31 W( the proper sequence for merging.  Following the dump header is the volume information structure)32 W
9720 22763 MT
(used by the Coda internals.  Following this are two sequences of vnodes, one for directories)
95 W( and one for)94 W
9720 24049 MT
(files. Each)
250 W( sequence consists of a header and a stream of vnodes.)SH
9720 26024 MT
(The vnode sequence header contains the number of vnodes and the)
59 W( size of the vnode list.  These numbers)60 W
9720 27310 MT
(are not necessarily the same since not every list needs to have a vnode on it and some lists may have more)35 W
9720 28596 MT
(than one.  This is an artifact of the way vnodes are stored in the Coda servers.)SH
9720 30571 MT
(After these two fields comes a list of vnodes.)
168 W( Each)
588 W( vnode consists of two parts, the first is the meta)169 W
9720 31857 MT
(information associated)
44 W( with the file or directory and the second is the data for that vnode.  This data could)43 W
9720 33143 MT
(either be directory pages or file data.  The first word after the tag for the)
33 W( file or directory data is a count of)34 W
9720 34429 MT
(bytes or directory pages.  For directory vnodes, the access list for that directory is)
77 W( included as part of the)76 W
9720 35715 MT
(meta information.)SH
/Times-Bold SF
6120 38345 MT
(SEE ALSO)SH
/Times-Roman SF
9720 39631 MT
(backup\0508\051, dumplist\0505\051, volutil\0508\051)SH
/Times-Bold SF
6120 42261 MT
(AUTHOR)SH
/Times-Roman SF
9720 43547 MT
(Joshua Raiff, 1993, Taken from system adminstrators guide.)SH
6120 75600 MT
(102)SH
26978 XM
(May 7, 1993)SH
45949 XM
(Coda Release 1.0)SH
ES
%%Page: 103 104
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(GROUPS.CODA\0505\051)SH
46886 XM
(GROUPS.CODA\0505\051)SH
/Times-Bold SF
8280 7870 MT
(NAME)SH
600 50 17240 9011 UL
/Times-Roman SF
11880 9156 MT
(groups.coda)SH
18090 XM
(Coda group file specification)SH
/Times-Bold SF
8280 11786 MT
(DESCRIPTION)SH
/Times-Roman SF
11880 13072 MT
(The Coda groups file specifies what groups exist and)
22 W( what users belong to these groups.  The format of the)23 W
11880 14358 MT
(file is:)SH
/Courier-Bold SF
11880 16163 MT
(<Group Name> <Group Id> <Member1> <Member2> ...)SH
/Times-Roman SF
11880 20400 MT
(This file is then compiled with)SH
/Times-Italic SF
24380 XM
(pwd2pdb)SH
/Times-Roman SF
28297 XM
(to create a vice.pdb file which vice uses for its password database.)SH
/Times-Bold SF
8280 23030 MT
(EXAMPLE)SH
/Courier-Bold SF
11880 24835 MT
(System:coda -221)
7200 W( jjk)
1800 W( satya pkumar dcs mre mashburn)SH
11880 25966 MT
(System:guests -222)
6000 W( stevep)
1800 W( pds rpd cokasaki mattz acha)SH
/Times-Bold SF
8280 28596 MT
(SEE ALSO)SH
/Times-Roman SF
11880 29882 MT
(pwd2pdb\0508\051, vice.pcf\0505\051)SH
/Times-Bold SF
8280 32512 MT
(AUTHOR)SH
/Times-Roman SF
11880 33798 MT
(Joshua Raiff, 1993, Created man page)SH
8280 75600 MT
(Coda Release 1.0)SH
28888 XM
(May 12, 1993)SH
53580 XM
(103)SH
ES
%%Page: 104 105
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(MAXGROUPID\0505\051)SH
44977 XM
(MAXGROUPID\0505\051)SH
/Times-Bold SF
6120 7870 MT
(NAME)SH
600 50 15053 9011 UL
/Times-Roman SF
9720 9156 MT
(maxgroupid)SH
15903 XM
(replicated volume number allocation mechanism)SH
/Times-Bold SF
6120 11786 MT
(DESCRIPTION)SH
/Times-Roman SF
9720 13072 MT
(The system control machine \050SCM\051 has a file,)309 W
/Times-Italic SF
30884 XM
(/vice/vol/maxgroupid)SH
/Times-Roman SF
(, which contains the maximum)308 W
9720 14358 MT
(replicated \050aka group\051 volume number that has ever been allocated in the system.  This is used)
40 W( as a simple)41 W
9720 15644 MT
(way to guarantee that group volume numbers are unique.)SH
9720 17619 MT
(Replicated \050or group\051 volume ids are allocated out of the)
24 W( same namespace as replica ids and non-replicated)23 W
9720 18905 MT
(volumes ids.  The latter)
13 W( two types of ids have a 1 byte \0508 bit\051 prefix to identify the server on which they are)14 W
9720 20191 MT
(stored. We)
386 W( suggest using prefixes in the range 00-7F for replicated volume ids, and prefixes in the range)67 W
9720 21477 MT
(80-FF for other volumes.  When initializing a system, put the number)
230 W( you wish to use for the first)231 W
9720 22763 MT
(replicated volume in)10 W
/Times-Italic SF
18221 XM
(/vice/vol/maxgroupid)SH
/Times-Roman SF
(. For)
270 W( example,)
10 W( if you wish to use 7f000000 as the first replicated)9 W
9720 24049 MT
(volume, create)SH
/Times-Italic SF
15857 XM
(/vice/vol/maxgroupid)SH
/Times-Roman SF
24606 XM
(with the number 2130706432.)SH
/Times-Bold SF
6120 26679 MT
(FILES)SH
/Times-Italic SF
9720 27965 MT
(/vice/vol/maxgroupid)SH
/Times-Roman SF
18469 XM
(on the SCM)SH
/Times-Bold SF
6120 30595 MT
(BUGS)SH
/Times-Roman SF
9720 31881 MT
(This file should be salvaged, but it is not.)SH
9720 33856 MT
(Removing this file \050without reinitializing the whole system\051 is a recipe for disaster.  Grave)
63 W( confusion will)64 W
9720 35142 MT
(result if group \050or any other\051 volumes are created with the same number.)SH
/Times-Bold SF
6120 37772 MT
(SEE ALSO)SH
/Times-Roman SF
9720 39058 MT
(servers\0505\051, createvol_rep\0508\051)SH
/Times-Bold SF
6120 41688 MT
(AUTHOR)SH
/Times-Roman SF
9720 42974 MT
(Jay Kistler, 1990, Created)SH
6120 75600 MT
(104)SH
26728 XM
(May 12, 1993)SH
45949 XM
(Coda Release 1.0)SH
ES
%%Page: 105 106
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(SERVERS\0505\051)SH
49524 XM
(SERVERS\0505\051)SH
/Times-Bold SF
8280 7870 MT
(NAME)SH
600 50 15212 9011 UL
/Times-Roman SF
11880 9156 MT
(servers)SH
16062 XM
(map server names to numbers)SH
/Times-Bold SF
8280 11786 MT
(DESCRIPTION)SH
/Times-Roman SF
11880 13072 MT
(Each file)
33 W( server has a file,)32 W
/Times-Italic SF
22708 XM
(/vice/db/servers)SH
/Times-Roman SF
(, which maps server names to numbers.  The server numbers are)32 W
11880 14358 MT
(8 bit numbers so)
29 W( a maximum of 256 servers can be supported.  Once a server number has been assigned, it)30 W
11880 15644 MT
(may)SH
/Times-Bold SF
13852 XM
(not)SH
/Times-Roman SF
15491 XM
(be reused.  You should not reassign a server a new id without initializing the server.)SH
11880 17619 MT
(The server numbers are used in too many places,)
12 W( probably the most important is in the creation of volumes.)11 W
11880 18905 MT
(The server creating a volume)
36 W( uses its server number as the first byte of the four-byte volume identification)37 W
11880 20191 MT
(number in order to ensure uniqueness.)SH
11880 22166 MT
(NOTE: Replicated volume numbers must)
13 W( also be unique, so we reserve part of the range, 0-127 \0500-7F hex\051,)12 W
11880 23452 MT
(for this purpose.  Real server numbers must)SH
/Times-Bold SF
29572 XM
(not)SH
/Times-Roman SF
31211 XM
(be allocated from the other subrange, and vice-versa.)SH
11880 25427 MT
(The format of the file is the full)
45 W( server name \050e.g. mahler.coda.cs.cmu.edu\051 followed by a tab and then the)46 W
11880 26713 MT
(server's number.  Any line beginning with a "#" is considered a comment and is ignored.)
28 W( The)
304 W( following is)27 W
11880 27999 MT
(an example 'servers' file:)SH
/Courier-Bold SF
11880 29804 MT
(MAHLER.CODA.CS.CMU.EDU 201)5400 W
11880 30935 MT
(GRIEG.CODA.CS.CMU.EDU 204)6000 W
11880 32066 MT
(HAYDN.CODA.CS.CMU.EDU 205)6000 W
11880 33197 MT
(WAGNER.CODA.CS.CMU.EDU 206)5400 W
11880 34328 MT
(DEBUSSY.CODA.CS.CMU.EDU 212)4800 W
11880 35459 MT
(SCARLATTI.CODA.CS.CMU.EDU 214)3600 W
11880 36590 MT
(ROSSINI.CODA.CS.CMU.EDU 215)4800 W
11880 37721 MT
(PUCCINI.CODA.CS.CMU.EDU 216)4800 W
11880 38852 MT
(GERSHWIN.CODA.CS.CMU.EDU 218)4200 W
11880 39983 MT
(SCHUMANN.CODA.CS.CMU.EDU 219)4200 W
/Times-Bold SF
8280 42613 MT
(FILES)SH
/Times-Roman SF
11880 43899 MT
(/vice/db/servers)SH
/Times-Bold SF
8280 46529 MT
(BUGS)SH
/Times-Roman SF
11880 47815 MT
(The server numbers and replicated volume prefixes are pulled from the same number space.)
46 W( Separation)
343 W( is)47 W
11880 49101 MT
(enforced only by convention.)SH
11880 51076 MT
(This file and /vice/db/hosts should be combined.)SH
/Times-Bold SF
8280 53706 MT
(SEE ALSO)SH
/Times-Roman SF
11880 54992 MT
(vrdb\0505\051, vsgdb\0505\051, maxgroupid\0505\051, hosts\0505\051)SH
/Times-Bold SF
8280 57622 MT
(AUTHOR)SH
/Times-Roman SF
11880 58908 MT
(Maria R. Ebling, 1990, Created)SH
8280 75600 MT
(Coda Release 1.0)SH
28888 XM
(May 12, 1993)SH
53580 XM
(105)SH
ES
%%Page: 106 107
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(USER.CODA\0505\051)SH
46115 XM
(USER.CODA\0505\051)SH
/Times-Bold SF
6120 7870 MT
(NAME)SH
600 50 14024 9011 UL
/Times-Roman SF
9720 9156 MT
(user.coda)SH
14874 XM
(Coda user identification file)SH
/Times-Bold SF
6120 11786 MT
(DESCRIPTION)SH
/Times-Roman SF
9720 13072 MT
(This file specifies each users' Coda user id.  The format of the file is:)SH
/Courier-Bold SF
9720 14877 MT
(<User Name>::<User Id>::<Extra Text>::)SH
/Times-Roman SF
9720 16694 MT
(This file is then compiled with)48 W
/Times-Italic SF
22508 XM
(pwd2pdb)SH
/Times-Roman SF
26473 XM
(to create a vice.pdb file which Coda uses for its user id database.)47 W
9720 17980 MT
(Note that actual passwords are maintained by the authentication server.)SH
/Times-Bold SF
6120 20610 MT
(SEE ALSO)SH
/Times-Roman SF
9720 21896 MT
(passwd\0505\051, vice.pcf\0505\051, pwd2pdb\0508\051)SH
/Times-Bold SF
6120 24526 MT
(AUTHOR)SH
/Times-Roman SF
9720 25812 MT
(Joshua Raiff, 1993, Created man page)SH
6120 75600 MT
(106)SH
26728 XM
(May 12, 1993)SH
45949 XM
(Coda Release 1.0)SH
ES
%%Page: 107 108
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(VOLUMELIST\0505\051)SH
47526 XM
(VOLUMELIST\0505\051)SH
/Times-Bold SF
8280 7870 MT
(NAME)SH
600 50 16603 9011 UL
/Times-Roman SF
11880 9156 MT
(volumelist)SH
17453 XM
(volumelist file specification)SH
/Times-Bold SF
8280 11786 MT
(DESCRIPTION)SH
/Times-Roman SF
11880 13072 MT
(Every server keeps a list of volumes for which it is the custodian.  This list is in)147 W
/Times-Italic SF
46608 XM
(/vice/vol/VolumeList)SH
/Times-Roman SF
(.)SH
11880 14358 MT
(Every time a volume is created, an entry corresponding to that volume is made in)
81 W( this list.)80 W
/Times-Italic SF
49775 XM
(bldvldb.sh)SH
/Times-Roman SF
(\0508\051)SH
11880 15644 MT
(uses this list to generate the Volume Location Data Base \050VLDB\051.)SH
11880 17619 MT
(The first few lines of this file contain information pertaining to the disk partitions.)
96 W( These)
443 W( lines have the)97 W
11880 18905 MT
(following format:)SH
11880 21515 MT
(P<partition-name> H<hostname> T<total usable space on this partition> F<free space on this partition>)SH
11880 23490 MT
(There is one line entry for each volume on the server.  Each line begins with W, R or B depending)
125 W( on)124 W
11880 24776 MT
(whether the volume is read-Write, Readonly or Backup.  The format is as follows:)SH
11880 27386 MT
(R|W|B<volume-name> I<volume-id> H<server id> P<partition name> m<min)
235 W( quota> M<max quota>)236 W
11880 28672 MT
(U<disk space used> W<parent id> C<creation date> D<copy date> B<backup date> A<volume usage>)SH
/Times-Bold SF
8280 31302 MT
(FILES)SH
/Times-Italic SF
11880 32588 MT
(/vice/vol/VolumeList)SH
/Times-Bold SF
8280 35218 MT
(SEE ALSO)SH
/Times-Roman SF
11880 36504 MT
(createvol\0508\051, createvol_rep\0508\051, volutil\0508\051, bldvldb.sh\0508\051)SH
/Times-Bold SF
8280 39134 MT
(AUTHOR)SH
/Times-Roman SF
11880 40420 MT
(Puneet Kumar, 1990, created)SH
8280 75600 MT
(Coda Release 1.0)SH
28888 XM
(May 12, 1993)SH
53580 XM
(107)SH
ES
%%Page: 108 109
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(VRDB\0505\051)SH
48976 XM
(VRDB\0505\051)SH
/Times-Bold SF
6120 7870 MT
(NAME)SH
600 50 12053 9011 UL
/Times-Roman SF
9720 9156 MT
(vrdb)SH
12903 XM
(Volume Replication Data Base specification)SH
/Times-Bold SF
6120 11786 MT
(DESCRIPTION)SH
/Times-Roman SF
9720 13072 MT
(The volume replication data base is stored in binary form in /vice/db/VRDB on each)
166 W( file server.  The)165 W
/Times-Italic SF
9720 14358 MT
(makevrdb)SH
/Times-Roman SF
13913 XM
(option of the)SH
/Times-Italic SF
19274 XM
(volutil)SH
/Times-Roman SF
(\0508\051 program constructs the VRDB on the system control machine \050SCM\051.)SH
9720 16333 MT
(The data base consists of fixed-length records, each of which describes a replicated \050aka)
101 W( group\051 volume.)102 W
9720 17619 MT
(Each file server copies the VRDB into memory at start-up and whenever)
207 W( an updated version of it is)206 W
9720 18905 MT
(received. The)
567 W( data base is used to map group volume names and numbers into a VSG and the set of)159 W
9720 20191 MT
(read-write volumes which comprise it.)SH
9720 22166 MT
(The VRDB is generated)
114 W( from an ASCII version stored on the SCM in /vice/vol/VRList.  The VRList is)113 W
9720 23452 MT
(updated as a side-effect of every create and purge of a replicated volume.  Its format is:)SH
9720 25427 MT
(<group volname> <group volnum> <# of replicas> <rwvol 1> ...  <rwvol 8> <VSG num>)SH
9720 27402 MT
(A sample line from the VRList is:)SH
/Times-Bold SF
9720 29377 MT
(project.coda.src 7f000010 3 c9000012 ca000013 cb000013 0 0 0 0 0 E0000107)SH
/Times-Roman SF
9720 31352 MT
(Note that all volume and VSG numbers are given in hex.  Details of the VRDB)
67 W( structure can be found in)68 W
9720 32638 MT
(<vrdb.h>.)SH
/Times-Bold SF
6120 35268 MT
(FILES)SH
/Times-Italic SF
9720 36554 MT
(/vice/db/VRDB)SH
9720 38529 MT
(/vice/vol/VRList)SH
/Times-Bold SF
6120 41159 MT
(BUGS)SH
/Times-Roman SF
9720 42445 MT
(File servers keep the in-memory copy as a singly-linked list.  It should)
1 W( be converted to a pair of hash-tables,)SH
9720 43731 MT
(one keyed by group volname, the other by group volnum, for fast lookup.)SH
9720 45706 MT
(The maximum number of replication sites is fixed at 8.)
41 W( Adding,)
333 W( deleting, or moving replication sites after)42 W
9720 46992 MT
(creation is not supported.)SH
/Times-Bold SF
6120 49622 MT
(SEE ALSO)SH
/Times-Roman SF
9720 50908 MT
(volutil\0508\051, maxgroupid\0505\051, vsgdb\0505\051)SH
/Times-Bold SF
6120 53538 MT
(AUTHOR)SH
/Times-Roman SF
9720 54824 MT
(Jay Kistler, 1990, created)SH
6120 75600 MT
(108)SH
26728 XM
(May 12, 1993)SH
45949 XM
(Coda Release 1.0)SH
ES
%%Page: 109 110
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(VSGDB\0505\051)SH
50525 XM
(VSGDB\0505\051)SH
/Times-Bold SF
8280 7870 MT
(NAME)SH
600 50 14769 9011 UL
/Times-Roman SF
11880 9156 MT
(vsgdb)SH
15619 XM
(Volume Storage Group Data Base specification)SH
/Times-Bold SF
8280 11786 MT
(DESCRIPTION)SH
/Times-Roman SF
11880 13072 MT
(The volume storage group data base is stored in ASCII form in)145 W
/Times-Italic SF
39061 XM
(/vice/db/VSGDB)SH
/Times-Roman SF
46065 XM
(on the system control)144 W
11880 14358 MT
(machine \050SCM\051.)
174 W( It)
600 W( maps VSG numbers into the sets of servers which comprise them.  Each VSG is)175 W
11880 15644 MT
(represented by a single line with the following format:)SH
11880 17619 MT
(<VSG number> <server-name 1> ...  <server-name n>)SH
11880 19594 MT
(VSG numbers are in hexadecimal, and must correspond to a legal)
147 W( multicast address as specified in the)146 W
11880 20880 MT
(multicastgroups\0505\051 file.)
98 W( Server)
447 W( names must correspond to entries in the servers\0505\051 data base.  There is a)99 W
11880 22166 MT
(limit of 8 on the number of servers in any one VSG.  A sample entry from the VSGDB is:)SH
/Times-Bold SF
11880 24141 MT
(E0000107 mahler vivaldi ravel)SH
/Times-Roman SF
11880 26116 MT
(The VSGDB is consulted by the)151 W
/Times-Italic SF
25952 XM
(createvol_rep\0508)SH
/Times-Roman SF
(\051 script when creating a replicated volume.)
151 W( The)
551 W( VSG)150 W
11880 27402 MT
(number specified is)
57 W( looked up in the VSGDB to determine which sites will host the supporting read-write)58 W
11880 28688 MT
(volumes. The)
380 W( VSG number is then wired-into the)
65 W( VRList \050and then)64 W
/Times-Italic SF
40126 XM
(vrdb)SH
/Times-Roman SF
(\0505\051\051 entry for the new replicated)64 W
11880 29974 MT
(volume.)SH
/Times-Bold SF
8280 32604 MT
(FILES)SH
/Times-Italic SF
11880 33890 MT
(/vice/db/VSGDB)SH
/Times-Bold SF
8280 36520 MT
(SEE ALSO)SH
/Times-Roman SF
11880 37806 MT
(servers\0505\051, vrdb\0505\051, createvol_rep\0508\051)SH
/Times-Bold SF
8280 40436 MT
(AUTHOR)SH
/Times-Roman SF
11880 41722 MT
(Jay Kistler, 1990, Created)SH
8280 75600 MT
(Coda Release 1.0)SH
28888 XM
(May 12, 1993)SH
53580 XM
(109)SH
ES
%%Page: 110 111
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(VSTAB\0505\051)SH
48476 XM
(VSTAB\0505\051)SH
/Times-Bold SF
6120 7870 MT
(NAME)SH
600 50 12331 9011 UL
/Times-Roman SF
9720 9156 MT
(vstab)SH
13181 XM
(vstab file specification)SH
/Times-Bold SF
6120 11786 MT
(DESCRIPTION)SH
/Times-Roman SF
9720 13072 MT
(The file)48 W
/Times-Italic SF
13204 XM
(/usr/coda/etc/vstab)SH
/Times-Roman SF
21113 XM
(contains configuration parameters for the Coda cache manager,)48 W
/Times-Italic SF
47074 XM
(venus\0508)SH
/Times-Roman SF
(\051. The)348 W
9720 14358 MT
(parameters override default values)
51 W( compiled into Venus, and may themselves be overridden by command-)50 W
9720 15644 MT
(line arguments supplied to Venus at startup.)SH
9720 17619 MT
(The file should contain a single line with the following format:)SH
9720 19594 MT
(<mount point>:<kernel device>:<default-host list>:<cache directory>:<cache blocks>:<1>)SH
9720 21569 MT
(A sample vstab entry is:)SH
/Times-Bold SF
9720 23544 MT
(/coda:/dev/cfs0:rossini,scarlatti,puccini:/usr/coda/venus.cache:10000:1)SH
/Times-Roman SF
9720 25519 MT
(Note that the format of the default-host list is <host)79 W
/Times-Italic SF
(1)SH
/Times-Roman SF
(,host)SH
/Times-Italic SF
(2)SH
/Times-Roman SF
(,...,host)SH
/Times-Italic SF
(n)SH
/Times-Roman SF
(>. There)
410 W( should be no space between)80 W
9720 26805 MT
(the separator character ':' and the beginning or end of a field.)SH
/Times-Bold SF
6120 29435 MT
(FILES)SH
/Times-Italic SF
9720 30721 MT
(/usr/coda/etc/vstab)SH
9720 32696 MT
(<vstab.h>)SH
/Times-Bold SF
6120 35326 MT
(BUGS)SH
/Times-Roman SF
9720 36612 MT
(The last parameter is deprecated and should be removed.)SH
9720 38587 MT
(This file is also read by)1 W
/Times-Italic SF
19336 XM
(clog\0508)SH
/Times-Roman SF
(\051 \050and perhaps other programs\051 which assume)
1 W( that host-list specifies the hosts)SH
9720 39873 MT
(running auth servers.)SH
/Times-Bold SF
6120 42503 MT
(SEE ALSO)SH
/Times-Roman SF
9720 43789 MT
(venus\0508\051, vutil\0508\051)SH
/Times-Bold SF
6120 46419 MT
(AUTHOR)SH
/Times-Roman SF
9720 47705 MT
(Jay Kistler, 1990, Created)SH
6120 75600 MT
(110)SH
26728 XM
(May 12, 1993)SH
45949 XM
(Coda Release 1.0)SH
ES
%%Page: 111 112
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(AU\0508\051)SH
52470 XM
(AU\0508\051)SH
/Times-Bold SF
8280 7870 MT
(NAME)SH
600 50 13324 9011 UL
/Times-Roman SF
11880 9156 MT
(au)SH
14174 XM
(add a user)SH
/Times-Bold SF
8280 11786 MT
(SYNONPSIS)SH
11880 13396 MT
(au)SH
/Times-Roman SF
13186 XM
([-x] [-h host] [-p portal]  <cp | cu | nu | du>)SH
/Times-Bold SF
8280 16026 MT
(DESCRIPTION)SH
11880 17312 MT
(au)SH
/Times-Roman SF
13187 XM
(is used)
1 W( to add, delete, or change user information.)2 W
/Times-Bold SF
33619 XM
(au)SH
/Times-Roman SF
34927 XM
(will first prompt for a current Coda user name and)2 W
11880 18598 MT
(password. If)
486 W( it can authenticate using your user name and password, it will)
118 W( proceed to ask for the new)117 W
11880 19884 MT
(information.)SH
/Times-Bold SF
17352 XM
(au)SH
/Times-Roman SF
18658 XM
(supports the following options:)SH
/Times-Bold SF
11880 21170 MT
(-x)SH
/Times-Roman SF
22680 XM
(Turns on debugging.)SH
/Times-Bold SF
11880 22456 MT
(-h)SH
/Times-Italic SF
13019 XM
(hostname)SH
/Times-Roman SF
22680 XM
(Attatch to)SH
/Times-Italic SF
26902 XM
(hostname)SH
/Times-Roman SF
30985 XM
(to do the authentication.)SH
/Times-Italic SF
41151 XM
(hostname)SH
/Times-Roman SF
45234 XM
(should be the)SH
/Times-Italic SF
50817 XM
(SCM)SH
/Times-Roman SF
(.)SH
/Times-Bold SF
11880 23742 MT
(-p)SH
/Times-Italic SF
13019 XM
(portal)SH
/Times-Roman SF
22680 XM
(Port to bind to.  The default portal is 'coda_auth.')SH
/Times-Bold SF
11880 25028 MT
(cp)SH
/Times-Roman SF
22680 XM
(Change password.  Use this to change a user's vice password.)SH
/Times-Bold SF
11880 26314 MT
(cu)SH
/Times-Roman SF
22680 XM
(Change user information.  Use this to)
400 W( change password and other user)401 W
22680 27600 MT
(information.)SH
/Times-Bold SF
11880 28886 MT
(nu)SH
/Times-Roman SF
22680 XM
(New user.  The)177 W
/Times-Bold SF
29747 XM
(nu)SH
/Times-Roman SF
31285 XM
(option tells)176 W
/Times-Bold SF
36360 XM
(au)SH
/Times-Roman SF
37842 XM
(to add a new password entry to the vice)176 W
22680 30172 MT
(password database.)SH
/Times-Bold SF
11880 31458 MT
(du)SH
/Times-Roman SF
22680 XM
(Delete user.)
63 W( The)378 W
/Times-Bold SF
30016 XM
(du)SH
/Times-Roman SF
31442 XM
(option tells)64 W
/Times-Bold SF
36293 XM
(au)SH
/Times-Roman SF
37663 XM
(to delete the given user from the password)64 W
22680 32744 MT
(database.)SH
/Times-Bold SF
8280 35374 MT
(DIAGNOSTICS)SH
/Times-Roman SF
11880 36660 MT
(You must be a Coda system administrator to ru)SH
/Times-Bold SF
31018 XM
(au)SH
/Times-Roman SF
(.)SH
/Times-Bold SF
8280 39290 MT
(BUGS)SH
11880 40576 MT
(au)SH
/Times-Roman SF
13186 XM
(echos new passwords to the terminal as they are typed in.)SH
/Times-Bold SF
8280 43206 MT
(AUTHOR)SH
/Times-Roman SF
11880 44492 MT
(1987, Adapted from AFS-2)SH
11880 46467 MT
(Joshua Raiff, 1993, Created man page)SH
8280 75600 MT
(Coda Release 1.0)SH
28888 XM
(May 12, 1993)SH
53580 XM
(111)SH
ES
%%Page: 112 113
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(AUTH2\0508\051)SH
48477 XM
(AUTH2\0508\051)SH
/Times-Bold SF
6120 7870 MT
(NAME)SH
600 50 12442 9011 UL
/Times-Roman SF
9720 9156 MT
(auth2)SH
13292 XM
(authentication server)SH
/Times-Bold SF
6120 11786 MT
(SYNOPSIS)SH
9720 13396 MT
(auth2)SH
/Times-Roman SF
12415 XM
([-r] [-chk] [-x debuglevel] [-p pwfile] [-tk tokenkey] [-fk filekey])SH
/Times-Bold SF
6120 16026 MT
(DESCRIPTION)SH
9720 17312 MT
(auth2)SH
/Times-Roman SF
12454 XM
(is the Coda)
39 W( authentication server.  Clients need to have an authentication token from)38 W
/Times-Bold SF
47011 XM
(auth2)SH
/Times-Roman SF
49744 XM
(in order)38 W
9720 18598 MT
(to establish authenticated connections to Coda file servers.)SH
/Times-Bold SF
9720 20573 MT
(auth2)SH
/Times-Roman SF
12415 XM
(supports the following commands line options:)SH
/Times-Bold SF
9720 21859 MT
(-r)SH
/Times-Roman SF
20520 XM
(Tells)SH
/Times-Bold SF
22770 XM
(auth2)SH
/Times-Roman SF
25465 XM
(to print log entries to the controlling tty rather than a log file.)SH
/Times-Bold SF
9720 23145 MT
(-chk)SH
/Times-Roman SF
20520 XM
(Causes)SH
/Times-Bold SF
23811 XM
(auth2)SH
/Times-Roman SF
26714 XM
(to only validate passwords.)
208 W( New)
667 W( password entries cannot be)209 W
20520 24431 MT
(added via this server instance.  Servers started with the)134 W
/Times-Bold SF
44050 XM
(-chk)SH
/Times-Roman SF
46322 XM
(option are slave)133 W
20520 25717 MT
(servers. There)
250 W( should only be one master server in the system.)SH
/Times-Bold SF
9720 27003 MT
(-x)SH
/Times-Italic SF
10803 XM
(debuglevel)SH
/Times-Roman SF
20520 XM
(Sets the server)
299 W( debug level.  This level control the amount of debugging)300 W
20520 28289 MT
(information printed by the server.)SH
/Times-Bold SF
9720 29575 MT
(-p)SH
/Times-Italic SF
10859 XM
(pwfile)SH
/Times-Roman SF
20520 XM
(Used to tell)SH
/Times-Bold SF
25381 XM
(auth2)SH
/Times-Roman SF
28076 XM
(where its password file is.)SH
/Times-Bold SF
9720 30861 MT
(-tk)SH
/Times-Italic SF
11192 XM
(tokenkey)SH
/Times-Roman SF
20520 XM
(Specifies where the token key file)SH
/Times-Bold SF
34350 XM
(auth2)SH
/Times-Roman SF
37045 XM
(should use when encrypting tokens.)SH
/Times-Bold SF
9720 32147 MT
(-fk)SH
/Times-Italic SF
11192 XM
(filekey)SH
/Times-Roman SF
20520 XM
(Name of file containing the key decrypt password file with.)SH
/Times-Bold SF
6120 34777 MT
(SEE ALSO)SH
/Times-Roman SF
9720 36063 MT
(authmon\0508\051)SH
/Times-Bold SF
6120 38693 MT
(AUTHOR)SH
/Times-Roman SF
9720 39979 MT
(1987, Adapted from AFS-2.)SH
9720 41954 MT
(Joshua Raiff, 1993, Created man page.)SH
6120 75600 MT
(112)SH
26728 XM
(May 12, 1993)SH
45949 XM
(Coda Release 1.0)SH
ES
%%Page: 113 114
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(AUTHMON\0508\051)SH
48804 XM
(AUTHMON\0508\051)SH
/Times-Bold SF
8280 7870 MT
(NAME)SH
600 50 15880 9011 UL
/Times-Roman SF
11880 9156 MT
(authmon)SH
16730 XM
(authentication monitor)SH
/Times-Bold SF
8280 11786 MT
(SYNOPSIS)SH
11880 13396 MT
(authmon)SH
/Times-Roman SF
15964 XM
([-d chdir] [auth2 options])SH
/Times-Bold SF
8280 16026 MT
(DESCRIPTION)SH
11880 17312 MT
(authmon)SH
/Times-Roman SF
16356 XM
(is the authentication server watchdog process.)
392 W( If)1033 W
/Times-Italic SF
39291 XM
(auth2)SH
/Times-Roman SF
42210 XM
(dies,)SH
/Times-Bold SF
44712 XM
(authmon)SH
/Times-Roman SF
49187 XM
(will restart it)391 W
11880 18598 MT
(automatically.)SH
/Times-Bold SF
11880 20573 MT
(authmon)SH
/Times-Roman SF
15964 XM
(supports the following command line arguments:)SH
/Times-Bold SF
11880 21859 MT
(-d)SH
/Times-Italic SF
13019 XM
(chdir)SH
/Times-Roman SF
22680 XM
(Specifies where)100 W
/Times-Bold SF
29489 XM
(authmon)SH
/Times-Roman SF
33673 XM
(should run from, and what directory to put log files)101 W
22680 23145 MT
(in.)SH
/Times-Bold SF
11880 24431 MT
(auth2 options)SH
/Times-Roman SF
22680 XM
(Valid)SH
/Times-Italic SF
25264 XM
(auth2)SH
/Times-Roman SF
27904 XM
(command line options.  These options will be passed on to)112 W
/Times-Italic SF
52802 XM
(auth2)SH
/Times-Roman SF
22680 25717 MT
(when it is started.)SH
/Times-Bold SF
8280 28347 MT
(SEE ALSO)SH
/Times-Roman SF
11880 29633 MT
(auth2\0508\051)SH
/Times-Bold SF
8280 32263 MT
(AUTHOR)SH
/Times-Roman SF
11880 33549 MT
(1987, Adpapted from AFS-2.)SH
11880 35524 MT
(Joshua Raiff, 1993, Created man page.)SH
8280 75600 MT
(Coda Release 1.0)SH
28888 XM
(May 12, 1993)SH
53580 XM
(113)SH
ES
%%Page: 114 115
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(BACKUP\0508\051)SH
47698 XM
(BACKUP\0508\051)SH
/Times-Bold SF
6120 7870 MT
(NAME)SH
600 50 13108 9011 UL
/Times-Roman SF
9720 9156 MT
(backup)SH
13958 XM
(Volume by volume backup of the Coda File System)SH
/Times-Bold SF
6120 11786 MT
(SYNOPSIS)SH
9720 13396 MT
(backup)SH
/Times-Roman SF
13138 XM
([-p poll_period] [-t timeout] <dumplist> [dumpdir])SH
/Times-Bold SF
6120 16026 MT
(DESCRIPTION)SH
9720 17312 MT
(backup)SH
/Times-Roman SF
13362 XM
(performs the clone and dump phases of the Coda backup)
224 W( mechanism.)225 W
/Times-Italic SF
44298 XM
(dumplist)SH
/Times-Roman SF
48218 XM
(is a file as)225 W
9720 18598 MT
(described in)SH
/Times-Italic SF
14830 XM
(dumplist)SH
/Times-Roman SF
(\0505\051)SH
9720 20573 MT
(The backup program)
48 W( creates many lines of information as the phases progress. It is a good idea to redirect)47 W
9720 21859 MT
(standard output)
137 W( to a log file. After both phases are completed, it prints out a list of volumes in several)138 W
9720 23145 MT
(groupings, and some histograms detailing size and speed of the dumpfiles transferred. The first group)
75 W( are)74 W
9720 24431 MT
(the volumes)
170 W( that were successfully backed up on all servers in their VSG. The second group contains)171 W
9720 25717 MT
(volumes that were)
106 W( successful on some, but not all of their VSGs. The third group contains volumes that)105 W
9720 27003 MT
(were complete failures.  The last group contains volumes that are in the)
104 W( VLDB or VRDB but not in the)105 W
/Times-Italic SF
9720 28289 MT
(dumplist)SH
/Times-Roman SF
(.)SH
9720 30264 MT
(The second and third groups use an n-letter)
8 W( word to describe the last successful operation that succeeded on)7 W
9720 31550 MT
(each replica. The kth position in the n-letter)
19 W( word corresponds to the kth replica in the VRDB entry for this)20 W
9720 32836 MT
(volume. One of four letters appears in each position: "L", "C", "D", and "M".  "L" means the replica was)71 W
9720 34122 MT
(only locked, "C" means it was cloned but not dumped, "D" means it was dumped \050but not marked)
49 W( as such)50 W
9720 35408 MT
(on the server, see the discusion in the manual chapter on backup\051,)
110 W( and "M" means all phases completed)109 W
9720 36694 MT
(successfully.)SH
/Times-Bold SF
9720 38669 MT
(backup)SH
/Times-Roman SF
13138 XM
(supports the following command line options:)SH
/Times-Bold SF
9720 39955 MT
(-p)SH
/Times-Italic SF
10859 XM
(poll_period)SH
/Times-Roman SF
20520 XM
(Number of seconds to sleep between polls a servers)
200 W( that)201 W
/Times-Bold SF
45184 XM
(backup)SH
/Times-Roman SF
48803 XM
(thinks are)201 W
20520 41241 MT
(down.)SH
/Times-Bold SF
9720 42527 MT
(-t)SH
/Times-Italic SF
10636 XM
(timeout)SH
/Times-Roman SF
20520 XM
(Timout value, in seconds, for RPC2 calls.)SH
/Times-Bold SF
6120 45157 MT
(SEE ALSO)SH
/Times-Roman SF
9720 46443 MT
(backup.sh\0508\051, volutil\0508\051, dumplist\0505\051, Backup chapter of the Coda Manual.)SH
/Times-Bold SF
6120 49073 MT
(AUTHOR)SH
/Times-Roman SF
9720 50359 MT
(David C. Steere, 1991, Created)SH
6120 75600 MT
(114)SH
26728 XM
(May 12, 1993)SH
45949 XM
(Coda Release 1.0)SH
ES
%%Page: 115 116
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(BLDVLDB.SH\0508\051)SH
47664 XM
(BLDVLDB.SH\0508\051)SH
/Times-Bold SF
8280 7870 MT
(NAME)SH
600 50 16575 9011 UL
/Times-Roman SF
11880 9156 MT
(bldvldb.sh)SH
17425 XM
(build a new Volume Location Data Base \050VLDB\051)SH
/Times-Bold SF
8280 11786 MT
(SYNOPSIS)SH
11880 13380 MT
(bldvldb.sh)SH
8280 16010 MT
(DESCRIPTION)SH
11880 17296 MT
(bldvldb.sh)SH
/Times-Roman SF
16702 XM
(builds a new volume location data base)97 W
/Times-Bold SF
33351 XM
(VLDB)SH
/Times-Roman SF
(. It)
444 W( uses the)97 W
/Times-Italic SF
41669 XM
(/vice/db/hosts)SH
/Times-Roman SF
47516 XM
(file to)
97 W( get a list of)96 W
11880 18582 MT
(servers to)
80 W( use to retrieve the current list of volumes.  It gets the list from the)81 W
/Times-Italic SF
43863 XM
(/vice/vol/VolumeList)SH
/Times-Roman SF
52416 XM
(file on)81 W
11880 19868 MT
(each server.  It combines the list into)60 W
/Times-Italic SF
27330 XM
(/vice/vol/BigVolumeList)SH
/Times-Roman SF
37251 XM
(and passes the combined)
60 W( list as a parameter)59 W
11880 21154 MT
(to the)11 W
/Times-Bold SF
14403 XM
(volutil makevldb)12 W
/Times-Roman SF
21873 XM
(command. This)
274 W( command produces a new)12 W
/Times-Bold SF
39343 XM
(VLDB)SH
/Times-Roman SF
42383 XM
(in)SH
/Times-Italic SF
43423 XM
(/vice/db)SH
/Times-Roman SF
46851 XM
(and updates the files)12 W
/Times-Italic SF
11880 22440 MT
(AllVolumes)SH
/Times-Roman SF
16741 XM
(and)SH
/Times-Italic SF
18435 XM
(partitions)SH
/Times-Roman SF
22575 XM
(in)SH
/Times-Italic SF
23603 XM
(/vice/vol)SH
/Times-Roman SF
(. You)
250 W( must have root priveledges to run this command.)SH
/Times-Bold SF
8280 25070 MT
(DIAGNOSTICS)SH
/Times-Roman SF
11880 26356 MT
(This command can only be)
66 W( issued on the System Control Machine \050SCM\051. Bldvldb uses two mechanisms)65 W
11880 27642 MT
(to get the VolumeList files from the various servers in)91 W
/Times-Italic SF
34732 XM
(/vice/db/hosts)SH
/Times-Roman SF
(. The first is ftp. In order)
91 W( for this to)92 W
11880 28928 MT
(succeed, there has to be a file)
148 W( called ".anonr" in the directory)147 W
/Times-Italic SF
38237 XM
(/vice/vol)SH
/Times-Roman SF
(, which is globally readable and)147 W
11880 30214 MT
(contains a line with the word "VolumeList" in it. If)148 W
/Times-Bold SF
34036 XM
(bldvldb.sh)SH
/Times-Roman SF
38909 XM
(is unable to get)
148 W( the file via ftp, it will)149 W
11880 31500 MT
(attempt to)
95 W( use the CMU RFS remote file system. If neither mechanism works,)94 W
/Times-Bold SF
44573 XM
(bldvldb.sh)SH
/Times-Roman SF
49392 XM
(will skip over)94 W
11880 32786 MT
(that server's volumes when)
126 W( building the)127 W
/Times-Bold SF
28915 XM
(VLDB)SH
/Times-Roman SF
(. The)
504 W( databases are propagated via the update protocol.)127 W
11880 34072 MT
(This takes up to five minutes.  Attempts to access a new volume from a)
55 W( client, prior to the propagation of)54 W
11880 35358 MT
(all the databases to all servers, may fail.)SH
/Times-Bold SF
8280 37988 MT
(FILES)SH
/Times-Italic SF
11880 39274 MT
(/vice/vol/AllVolumes)SH
/Times-Roman SF
22680 XM
(is created)SH
/Times-Italic SF
11880 40560 MT
(/vice/db/VLDB)SH
/Times-Roman SF
22680 XM
(is created)SH
/Times-Italic SF
11880 41846 MT
(/vice/vol/VolumeList)SH
/Times-Roman SF
22680 XM
(on each server is used to build the VLDB)SH
/Times-Italic SF
11880 43132 MT
(/vice/db/hosts)SH
/Times-Roman SF
22680 XM
(is a list of the active servers)SH
/Times-Italic SF
11880 44418 MT
(/vice/vol/BigVolumeList)SH
/Times-Roman SF
22680 XM
(is the result of combining)SH
/Times-Italic SF
33152 XM
(/vice/vol/VolumeList)SH
/Times-Roman SF
41624 XM
(from each server)SH
/Times-Bold SF
8280 47048 MT
(SEE ALSO)SH
/Times-Roman SF
11880 48334 MT
(update\0508\051, volutil\0508\051)SH
/Times-Bold SF
8280 50964 MT
(AUTHOR)SH
/Times-Roman SF
11880 52250 MT
(Puneet Kumar, 1990, Created)SH
8280 75600 MT
(Coda Release 1.0)SH
28888 XM
(May 12, 1993)SH
53580 XM
(115)SH
ES
%%Page: 116 117
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(CLONE\0508\051)SH
48421 XM
(CLONE\0508\051)SH
/Times-Bold SF
6120 7870 MT
(NAME)SH
600 50 12386 9011 UL
/Times-Roman SF
9720 9156 MT
(clone)SH
13236 XM
(Create a read only clone of a read write volume.)SH
/Times-Bold SF
6120 11786 MT
(SYNOPSIS)SH
9720 13072 MT
(clone)SH
/Times-Roman SF
12192 XM
(<volume-name> <new-volume-name>)SH
/Times-Bold SF
6120 15702 MT
(DESCRIPTION)SH
9720 16988 MT
(clone)SH
/Times-Roman SF
12234 XM
(creates a read only clone of the)
42 W( volume)43 W
/Times-Italic SF
28512 XM
(<volume-name>)SH
/Times-Roman SF
(. The)
336 W( vnodes associated with)43 W
/Times-Italic SF
47533 XM
(volume-name)SH
/Times-Roman SF
9720 18274 MT
(are actually copied, but)
68 W( the inodes are marked copy-on-write.  The name on the read only volume will be)67 W
/Times-Italic SF
9720 19560 MT
(<new-volume-name>)SH
/Times-Roman SF
(.)SH
/Times-Bold SF
19151 XM
(clone)SH
/Times-Roman SF
21623 XM
(expects the following arguments:)SH
/Times-Bold SF
9720 20846 MT
(<volume-name>)SH
/Times-Roman SF
20520 XM
(Name of volume to replicate.)SH
/Times-Bold SF
9720 22132 MT
(<new-volume-name>)SH
/Times-Roman SF
20520 XM
(Name of new read only volume.)SH
/Times-Bold SF
6120 24762 MT
(DIAGNOSTICS)SH
9720 26048 MT
(clone)SH
/Times-Roman SF
12192 XM
(must be run as root.)SH
9720 28023 MT
(Must be run on a Coda server.)SH
/Times-Bold SF
6120 30653 MT
(FILES)SH
/Times-Italic SF
9720 31939 MT
(/vice/vol/AllVolumes)SH
/Times-Bold SF
6120 34569 MT
(SEE ALSO)SH
/Times-Roman SF
9720 35855 MT
(bldvldb\0508\051, createvol\0508\051, createvol_rep\0508\051, volutil\0508\051)SH
/Times-Bold SF
6120 38485 MT
(AUTHOR)SH
/Times-Roman SF
9720 39771 MT
(David Steere, 1991, Created)SH
9720 41746 MT
(Joshua Raiff, 1993, Created man page)SH
6120 75600 MT
(116)SH
26728 XM
(May 12, 1993)SH
45949 XM
(Coda Release 1.0)SH
ES
%%Page: 117 118
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(CREATEVOL\0508\051)SH
47970 XM
(CREATEVOL\0508\051)SH
/Times-Bold SF
8280 7870 MT
(NAME)SH
600 50 16045 9011 UL
/Times-Roman SF
11880 9156 MT
(createvol)SH
16895 XM
(create a non-replicated volume)SH
/Times-Bold SF
8280 11786 MT
(SYNOPSIS)SH
11880 13396 MT
(createvol)SH
/Times-Roman SF
16017 XM
(<volume-name> <server-name> <partition-name>)SH
/Times-Bold SF
8280 16026 MT
(DESCRIPTION)SH
11880 17312 MT
(createvol)SH
/Times-Roman SF
16066 XM
(is used to create a Coda non-replicated volume)
49 W( on the specified partition \050)50 W
/Times-Italic SF
(<partion-name>)SH
/Times-Roman SF
(\051 and)50 W
11880 18598 MT
(server \050)274 W
/Times-Italic SF
(<server-name>)SH
/Times-Roman SF
(\051. The)
798 W( volume number is assigned by)
274 W( the server automatically; the name is)273 W
11880 19884 MT
(specified by the invoker \050)SH
/Times-Italic SF
(<volume-name>)SH
/Times-Roman SF
(\051.)SH
/Times-Bold SF
11880 21859 MT
(createvol)SH
/Times-Roman SF
16083 XM
(first checks in)66 W
/Times-Italic SF
22141 XM
(/vice/vol/AllVolumes)SH
/Times-Roman SF
30734 XM
(to see if the volume-name already exists.  If not, it)
66 W( uses the)67 W
/Times-Italic SF
11880 23145 MT
(volutil create)37 W
/Times-Roman SF
17509 XM
(command to)
37 W( create the volume at the specified server.  It then uses)36 W
/Times-Italic SF
44861 XM
(bldvldb.sh\0508)SH
/Times-Roman SF
(\051 to build the)36 W
11880 24431 MT
(Volume Location Data Base\050VLDB\051.)SH
11880 26406 MT
(The default access control list of the volume gives the group System:Anyuser read and)
38 W( lookup rights.  The)39 W
11880 27692 MT
(owner of the root directory, as well as a more reasonable access list, must be set later by a)
223 W( system)222 W
11880 28978 MT
(administrator using the)SH
/Times-Italic SF
21352 XM
(cfs)SH
/Times-Roman SF
(\0501\051 command.)SH
/Times-Bold SF
8280 31608 MT
(EXAMPLE)SH
/Times-Roman SF
11880 32894 MT
(To Create a volume for user "hbovik" on server "mahler":)SH
/Courier-Bold SF
11880 34699 MT
(createvol user.hbovik mahler /vicepa)SH
/Times-Bold SF
8280 37329 MT
(NOTES)SH
/Times-Roman SF
11880 38615 MT
(This command does not create the mount point to the volume within the file system hierarchy.  This must)56 W
11880 39901 MT
(be created by the)SH
/Times-Bold SF
18933 XM
(cfs mkmount)SH
/Times-Roman SF
(\0501\051 command.)SH
/Times-Bold SF
8280 42531 MT
(DIAGNOSTICS)SH
/Times-Roman SF
11880 43817 MT
(This command must be issued at the System Control Machine \050SCM\051.  Also,)
164 W( it must be invoked with)163 W
11880 45103 MT
(effective user id of root.)
57 W( This)
366 W( command does not check for return codes from the servers once the volutil)58 W
11880 46389 MT
(command is made.)
38 W( The)
325 W( invoker must check by hand in the)37 W
/Times-Italic SF
36185 XM
(/vice/vol/VolumeList)SH
/Times-Roman SF
44694 XM
(file on the server to see if)37 W
11880 47675 MT
(the volume name exists at that server.)SH
/Times-Bold SF
8280 50305 MT
(FILES)SH
/Times-Italic SF
11880 51591 MT
(/vice/vol/AllVolumes)SH
/Times-Roman SF
22680 XM
(used to find out if volume already exists)SH
/Times-Italic SF
11880 52877 MT
(/vice/vol/VolumeList)SH
/Times-Roman SF
22680 XM
(name of volume created is appended to it)SH
/Times-Bold SF
8280 55507 MT
(SEE ALSO)SH
/Times-Roman SF
11880 56793 MT
(cfs\0501\051, bldvldb.sh\0508\051, volutil\0508\051)SH
/Times-Bold SF
8280 59423 MT
(AUTHOR)SH
/Times-Roman SF
11880 60709 MT
(Puneet Kumar, 1990, created)SH
8280 75600 MT
(Coda Release 1.0)SH
28888 XM
(May 12, 1993)SH
53580 XM
(117)SH
ES
%%Page: 118 119
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(CREATEVOL_REP\0508\051)SH
43476 XM
(CREATEVOL_REP\0508\051)SH
/Times-Bold SF
6120 7870 MT
(NAME)SH
600 50 15662 9011 UL
/Times-Roman SF
9720 9156 MT
(createvol_rep)SH
16512 XM
(create read-write replicated volume)SH
/Times-Bold SF
6120 11786 MT
(SYNOPSIS)SH
9720 13396 MT
(createvol_rep)SH
/Times-Roman SF
15801 XM
(<volume-name> <vsgaddr> <partition-name> [rep group id])SH
/Times-Bold SF
6120 16026 MT
(DESCRIPTION)SH
9720 17312 MT
(createvol_rep)SH
/Times-Roman SF
15946 XM
(is a front end to)145 W
/Times-Italic SF
23198 XM
(volutil createvol_rep)145 W
/Times-Roman SF
32098 XM
(and is used to create a Coda read/write)
145 W( replicated)146 W
9720 18598 MT
(volume. The)
324 W( invoker must specify the volume name \050)37 W
/Times-Italic SF
(<volume-name>)SH
/Times-Roman SF
(\051, the replication)
37 W( sites via a Volume)36 W
9720 19884 MT
(Server Group address \050)647 W
/Times-Italic SF
(<vsgaddr>)SH
/Times-Roman SF
(\051, the partition on which the volume should be created)648 W
9720 21170 MT
(\050)SH
/Times-Italic SF
(<partition-name>)SH
/Times-Roman SF
(\051, and an optional)SH
/Times-Italic SF
24652 XM
(Group Id)SH
/Times-Roman SF
(.)SH
/Times-Bold SF
9720 23145 MT
(createvol_rep)SH
/Times-Roman SF
15871 XM
(first checks in)70 W
/Times-Italic SF
21941 XM
(/vice/vol/AllVolumes)SH
/Times-Roman SF
30538 XM
(and)SH
/Times-Italic SF
32301 XM
(/vice/vol/VRList)SH
/Times-Roman SF
39009 XM
(to see if the volume name already)69 W
9720 24431 MT
(exists. If)
364 W( not, it uses the)57 W
/Times-Italic SF
20091 XM
(volutil create_rep)58 W
/Times-Roman SF
27595 XM
(command to create the volume at each of the replication sites.)58 W
9720 25717 MT
(It then builds the Volume Location Data Base \050VLDB\051 and the Volume Replication Data Base \050VRDB\051.)SH
9720 27692 MT
(The replication sites are determined from the)45 W
/Times-Italic SF
28281 XM
(<vsgaddr>)SH
/Times-Roman SF
33148 XM
(and the)45 W
/Times-Italic SF
36404 XM
(/vice/db/VSGDB)SH
/Times-Roman SF
43309 XM
(file. The)340 W
/Times-Italic SF
47332 XM
(Rep Group)
45 W( Id)44 W
/Times-Roman SF
9720 28978 MT
(specifies the "replicated" volumeid of the volume being)
431 W( created.  By default, the group id in)432 W
/Times-Italic SF
9720 30264 MT
(/vice/vol/maxgroupid)SH
/Times-Roman SF
18469 XM
(is used.  Each time it is used it is also updated by adding 1 to it.)SH
9720 32239 MT
(After the replicas are created at each replication site, a new VLDB)
366 W( is built automatically using)365 W
/Times-Italic SF
9720 33525 MT
(bldvldb.sh)SH
/Times-Roman SF
(\0508\051, and the Volume Replication List)
111 W( in)112 W
/Times-Italic SF
30637 XM
(/vice/vol/VRList)SH
/Times-Roman SF
37388 XM
(is updated.  The VRList contains one)112 W
9720 34811 MT
(line for each replicated volume.  Each line specifies the)
168 W( replicated volume name, group id, number of)167 W
9720 36097 MT
(replication sites, local volume id at each replication site)
114 W( and the VSG address.  This file is now used to)115 W
9720 37383 MT
(create a new Volume Replication Data Base \050VRDB\051 using the)290 W
/Times-Italic SF
38114 XM
("volutil makevrdb /vice/vol/VRList")289 W
/Times-Roman SF
9720 38669 MT
(command.)SH
/Times-Bold SF
6120 41299 MT
(EXAMPLES)SH
/Times-Roman SF
9720 42585 MT
(To create a replicated volume "coda.rep" on 3 sites foo, bar and gorp use:)SH
/Times-Bold SF
9720 43871 MT
(createvol_rep coda.rep E0000107 /vicapa)SH
/Times-Roman SF
9720 45157 MT
(where)SH
/Times-Italic SF
12413 XM
(/vice/db/VSGDB)SH
/Times-Roman SF
19273 XM
(has an entry "E0000107 foo bar gorp" in it.)SH
9720 47132 MT
(To assign a predetermined Group Id, use)SH
/Times-Bold SF
9720 48418 MT
(createvol_rep coda.rep E0000107 /vicepa 7F000003)SH
/Times-Roman SF
9720 49704 MT
(where "7F000003" is the Group Id.)SH
/Times-Bold SF
6120 52334 MT
(DIAGNOSTICS)SH
/Times-Roman SF
9720 53620 MT
(This command must be issued at)
163 W( the System Control Machine \050SCM\051.  Also, it must be invoked with)164 W
9720 54906 MT
(effective user id of root.  This command does not check for return codes from the)192 W
/Times-Italic SF
45590 XM
(volutil create_rep)192 W
/Times-Roman SF
9720 56192 MT
(command. The)
290 W( invoker must check)20 W
/Times-Italic SF
24422 XM
(/vice/vol/VRList)SH
/Times-Roman SF
31082 XM
(and)SH
/Times-Italic SF
32797 XM
(/vice/vol/VolumeList)SH
/Times-Roman SF
41290 XM
(at each replication site to see)21 W
9720 57478 MT
(if the volume was created.)SH
/Times-Bold SF
6120 60108 MT
(FILES)SH
/Times-Italic SF
9720 61394 MT
(/vice/vol/VRList)SH
/Times-Roman SF
20520 XM
(contains information on replicated volumes)SH
/Times-Italic SF
9720 62680 MT
(/vice/vol/VolumeList)SH
/Times-Roman SF
20520 XM
(name of volume created at each site is appended to it)SH
/Times-Italic SF
9720 63966 MT
(/vice/db/VRDB)SH
/Times-Roman SF
20520 XM
(is used to describe the replicated)
358 W( volumes in terms of its non-replicated)357 W
20520 65252 MT
(members.)SH
/Times-Italic SF
9720 66538 MT
(/vice/db/VSGDB)SH
/Times-Roman SF
20520 XM
(is used to translate the VSG address to replication sites)SH
/Times-Italic SF
9720 67824 MT
(/vice/vol/AllVolumes)SH
/Times-Roman SF
20520 XM
(is used to check if volume exists)SH
/Times-Italic SF
9720 69110 MT
(/vice/vol/maxgroupid)SH
/Times-Roman SF
20520 XM
(is used to assign a group id to the replicated volume)SH
/Times-Bold SF
6120 71740 MT
(SEE ALSO)SH
/Times-Roman SF
6120 75600 MT
(118)SH
26728 XM
(May 12, 1993)SH
45949 XM
(Coda Release 1.0)SH
ES
%%Page: 119 120
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(CREATEVOL_REP\0508\051)SH
45636 XM
(CREATEVOL_REP\0508\051)SH
11880 7886 MT
(bldvldb.sh\0508\051, volutil\0508\051, createvol\0508\051)SH
/Times-Bold SF
8280 10516 MT
(AUTHOR)SH
/Times-Roman SF
11880 11802 MT
(Puneet Kumar, 1990, Created)SH
8280 75600 MT
(Coda Release 1.0)SH
28888 XM
(May 12, 1993)SH
53580 XM
(119)SH
ES
%%Page: 120 121
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(INITPW\0508\051)SH
48255 XM
(INITPW\0508\051)SH
/Times-Bold SF
6120 7870 MT
(NAME)SH
600 50 12776 9011 UL
/Times-Roman SF
9720 9156 MT
(initpw)SH
13626 XM
(Initialize the auth2 password database.)SH
/Times-Bold SF
6120 11786 MT
(SYNOPSIS)SH
9720 13072 MT
(initpw)SH
/Times-Roman SF
12693 XM
([-k key])SH
/Times-Bold SF
6120 15702 MT
(DESCRIPTION)SH
9720 16988 MT
(initpw)SH
/Times-Roman SF
12790 XM
(initialises the)97 W
/Times-Italic SF
18541 XM
(auth2)SH
/Times-Roman SF
21167 XM
(password database by reading lines from stdin and writing the corresponding)98 W
9720 18274 MT
(database entries to stdout.)SH
/Times-Bold SF
20552 XM
(initpw)SH
/Times-Roman SF
23525 XM
(supports the following command line options:)SH
/Times-Bold SF
9720 19560 MT
(-k)SH
/Times-Italic SF
10859 XM
(key)SH
/Times-Roman SF
20520 XM
(Using the)256 W
/Times-Bold SF
25143 XM
(-k)SH
/Times-Roman SF
26538 XM
(option allows)
256 W( you to specify the encription key to use when)255 W
20520 20846 MT
(encrypting clear text passwords.)SH
/Times-Bold SF
9720 22132 MT
(initpw)SH
/Times-Roman SF
12693 XM
(expects to receive lines of the form:)SH
/Courier-Bold SF
9720 23937 MT
(<ViceId> <Clear Password> <Other user info>)SH
/Times-Roman SF
9720 25754 MT
(Where:)SH
/Times-Bold SF
9720 27040 MT
(<ViceId>)SH
/Times-Roman SF
20520 XM
(is a Coda user id.)SH
/Times-Bold SF
9720 28326 MT
(<Clear Password>)SH
/Times-Roman SF
20520 XM
(is the password to use for)SH
/Times-Italic SF
30963 XM
(ViceId)SH
/Times-Roman SF
(.)SH
/Times-Bold SF
9720 29612 MT
(<Other user info>)SH
/Times-Roman SF
20520 XM
(is other information about)
105 W( the user you want to include in the)106 W
/Times-Italic SF
46509 XM
(auth2)SH
/Times-Roman SF
49143 XM
(password)SH
20520 30898 MT
(database.)SH
/Times-Bold SF
6120 33528 MT
(SEE ALSO)SH
/Times-Roman SF
9720 34814 MT
(auth2\0508\051)SH
/Times-Bold SF
6120 37444 MT
(AUTHOR)SH
/Times-Roman SF
9720 38730 MT
(1987, Adapted from AFS-2)SH
9720 40705 MT
(Joshua Raiff, 1993, Created man page)SH
6120 75600 MT
(120)SH
26728 XM
(May 12, 1993)SH
45949 XM
(Coda Release 1.0)SH
ES
%%Page: 121 122
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(INSTALLCLIENT\0508\051)SH
46193 XM
(INSTALLCLIENT\0508\051)SH
/Times-Bold SF
8280 7870 MT
(NAME)SH
600 50 17047 9011 UL
/Times-Roman SF
11880 9156 MT
(installclient)SH
17897 XM
(client installation script)SH
/Times-Bold SF
8280 11786 MT
(SYNOPSIS)SH
11880 13396 MT
(installclient)SH
/Times-Roman SF
18575 XM
([install | clean | update])SH
/Times-Bold SF
8280 16026 MT
(DESCRIPTION)SH
/Times-Roman SF
11880 17312 MT
(The)SH
/Times-Bold SF
13836 XM
(installclient)SH
/Times-Roman SF
19182 XM
(script automates much of the installation)
151 W( of Coda on client workstations.  The)150 W
/Times-Bold SF
52468 XM
(install)SH
/Times-Roman SF
11880 18598 MT
(option creates necessary directories and installs)
139 W( the Coda binaries in the proper places within them.  In)140 W
11880 19884 MT
(addition, this option creates some)
57 W( devices necessary for Coda to run.  The)56 W
/Times-Bold SF
42357 XM
(clean)SH
/Times-Roman SF
44885 XM
(option removes the Coda)56 W
11880 21170 MT
(directories on the client workstation.  The)18 W
/Times-Bold SF
28948 XM
(update)SH
/Times-Roman SF
32161 XM
(option updates the Coda binaries from those found in the)19 W
11880 22456 MT
(installation directory.)SH
/Times-Bold SF
8280 25086 MT
(AUTHOR)SH
/Times-Roman SF
11880 26372 MT
(Maria Ebling Okasaki)SH
8280 75600 MT
(Coda Release 1.0)SH
28888 XM
(May 12, 1993)SH
53580 XM
(121)SH
ES
%%Page: 122 123
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(MERGE\0508\051)SH
48254 XM
(MERGE\0508\051)SH
/Times-Bold SF
6120 7870 MT
(NAME)SH
600 50 12719 9011 UL
/Times-Roman SF
9720 9156 MT
(merge)SH
13569 XM
(merge incremental dumps onto full dumps for restore)SH
/Times-Bold SF
6120 11786 MT
(SYNOPSIS)SH
9720 13396 MT
(merge)SH
/Times-Roman SF
12635 XM
(<output file> <full dump> <incremental dump>)SH
/Times-Bold SF
6120 16026 MT
(DESCRIPTION)SH
9720 17312 MT
(merge)SH
/Times-Roman SF
12673 XM
(is a utility that allows one to apply incremental dumps to a full dump and produce a new full dump)38 W
9720 18598 MT
(which reflects a later state of the volume.)
19 W( The)
289 W( new dump can then be used to restore the volume, or can be)20 W
9720 19884 MT
(merged with other incrementals.)SH
9720 21859 MT
(An incremental or full dump reflects the state of)
40 W( the volume at the time it was dumped. Full dumps can be)39 W
9720 23145 MT
(restored so that a)
71 W( user may access an older state of a volume. Incremental dumps do not necessarily have)72 W
9720 24431 MT
(sufficient information to be restored. For instance, all the vnodes)
140 W( in the dump may not be present. The)139 W
9720 25717 MT
(merging process allows a full image of a state that was only incrementally dumped to be restored.)SH
9720 27692 MT
(Currently incrementals apply to the last successful full dump that was done.  As an example, say)
2 W( full dumps)3 W
9720 28978 MT
(for a volume are done on Sundays, with incrementals being taken the rest of the)
55 W( week. If an administrator)54 W
9720 30264 MT
(wishes to restore a volume)
3 W( to Wednesday's state, he would have to fetch the full dumpfile from Sunday and)4 W
9720 31550 MT
(the incremental dumpfile for Wednesday.)
103 W( Once these are present, the administrator would use the merge)102 W
9720 32836 MT
(program to create a new updated full dump for)
185 W( Wednesday's state, and restore it to the server \050using)186 W
9720 34122 MT
(volutil\0508\051 restore\051.)SH
9720 36097 MT
(Information in)
51 W( the dump header is used to place a total ordering on the dumps. This way incrementals can)50 W
9720 37383 MT
(only be applied to the dump with repect to which they were taken. In)
141 W( addition, incrementals cannot be)142 W
9720 38669 MT
(applied to other incrementals, and the dumps to be merged must have been)
55 W( created from the same volume)54 W
9720 39955 MT
(replica. The merge program checks these things, and reports failures if they are violated.)SH
/Times-Bold SF
6120 42585 MT
(SEE ALSO)SH
/Times-Roman SF
9720 43871 MT
(volutil\0508\051)SH
/Times-Bold SF
6120 46501 MT
(AUTHOR)SH
/Times-Roman SF
9720 47787 MT
(David C Steere, 1991, Created)SH
6120 75600 MT
(122)SH
26728 XM
(May 12, 1993)SH
45949 XM
(Coda Release 1.0)SH
ES
%%Page: 123 124
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(PCFGEN\0508\051)SH
50080 XM
(PCFGEN\0508\051)SH
/Times-Bold SF
8280 7870 MT
(NAME)SH
600 50 15101 9011 UL
/Times-Roman SF
11880 9156 MT
(pcfgen)SH
15951 XM
(Create a binary Coda configuration file.)SH
/Times-Bold SF
8280 11786 MT
(SYNOPSIS)SH
11880 13072 MT
(pcfgen)SH
/Times-Roman SF
14963 XM
([-c] [-x] <database_file>)SH
/Times-Bold SF
8280 15702 MT
(DESCRIPTION)SH
11880 16988 MT
(pcfgen)SH
/Times-Roman SF
15130 XM
(converts a)167 W
/Times-Italic SF
19796 XM
(protection database file)167 W
/Times-Roman SF
(, generated by)167 W
/Times-Italic SF
36019 XM
(pwd2pdb)SH
/Times-Roman SF
(\0501\051 to a binary configuration file the)168 W
11880 18274 MT
(Coda servers can read.)SH
/Times-Bold SF
11880 20249 MT
(pcfgen)SH
/Times-Roman SF
14963 XM
(supports the following options:)SH
/Times-Bold SF
11880 21535 MT
(-c)SH
/Times-Roman SF
22680 XM
(Avoid checksum.  Tells)SH
/Times-Bold SF
32429 XM
(pcfgen)SH
/Times-Roman SF
35512 XM
(not to compute checksums.)SH
/Times-Bold SF
11880 22821 MT
(-x)SH
/Times-Roman SF
22680 XM
(Turn on debugging.)SH
/Times-Bold SF
8280 25451 MT
(SEE ALSO)SH
/Times-Roman SF
11880 26737 MT
(mvdb\0501\051, pwd2pdb\0508\051)SH
/Times-Bold SF
8280 29367 MT
(AUTHOR)SH
/Times-Roman SF
11880 30653 MT
(Joshua Raiff, 1993, Created man page)SH
8280 75600 MT
(Coda Release 1.0)SH
28888 XM
(May 12, 1993)SH
53580 XM
(123)SH
ES
%%Page: 124 125
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(PURGEVOL\0508\051)SH
46421 XM
(PURGEVOL\0508\051)SH
/Times-Bold SF
6120 7870 MT
(NAME)SH
600 50 13775 9011 UL
/Times-Roman SF
9720 9156 MT
(purgevol)SH
14625 XM
(delete a non-replicated volume)SH
/Times-Bold SF
6120 11786 MT
(SYNOPSIS)SH
9720 13396 MT
(purgevol)SH
/Times-Roman SF
13748 XM
(<volumename>)SH
/Times-Bold SF
6120 16026 MT
(DESCRIPTION)SH
9720 17312 MT
(purgevol)SH
/Times-Roman SF
13749 XM
(is a front-end to the)1 W
/Times-Italic SF
21836 XM
(volutil purgevol)1 W
/Times-Roman SF
28449 XM
(command and is used)
1 W( to delete a non-replicated volume from)SH
9720 18598 MT
(the Coda system.)38 W
/Times-Bold SF
17233 XM
(purgevol)SH
/Times-Roman SF
21299 XM
(determines the location of the volume using the readable version)
38 W( of the)39 W
/Times-Italic SF
50420 XM
(VLDB)SH
/Times-Roman SF
9720 19884 MT
(located in)138 W
/Times-Italic SF
14162 XM
(/vice/vol/AllVolumes)SH
/Times-Roman SF
(. It then uses the)138 W
/Times-Italic SF
29906 XM
(volutil)SH
/Times-Roman SF
32850 XM
(utility to purge)
138 W( the volume at the volume's site.)137 W
9720 21170 MT
(Finally, it builds a new)SH
/Times-Italic SF
19165 XM
(VLDB)SH
/Times-Roman SF
21915 XM
(using the)SH
/Times-Italic SF
25804 XM
(bldvldb)SH
/Times-Roman SF
(\0508\051 script.)SH
9720 23145 MT
(Purgevol is)
63 W( similar to the)64 W
/Times-Italic SF
20345 XM
(volutil purge)64 W
/Times-Roman SF
(, except that it accepts different parameters, can only be run on the)64 W
9720 24431 MT
(SCM, and builds a new vldb. The user must be root to execute this script.)SH
/Times-Bold SF
6120 27061 MT
(FILES)SH
/Times-Italic SF
9720 28347 MT
(/vice/vol/AllVolumes)SH
/Times-Roman SF
20520 XM
(updated by deleting the entry for the purged volume.)SH
/Times-Italic SF
9720 29633 MT
(/vice/vol/VolumeList)SH
/Times-Roman SF
20520 XM
(updated by the remote server as a side effect of purging the volume.)SH
/Times-Bold SF
6120 32263 MT
(SEE ALSO)SH
/Times-Roman SF
9720 33549 MT
(bldvldb.sh\0508\051, purgevol_rep\0508\051, volutil\0508\051)SH
/Times-Bold SF
6120 36179 MT
(AUTHOR)SH
/Times-Roman SF
9720 37465 MT
(David Steere, 1990, Created)SH
6120 75600 MT
(124)SH
26728 XM
(May 12, 1993)SH
45949 XM
(Coda Release 1.0)SH
ES
%%Page: 125 126
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(PURGEVOL_REP\0508\051)SH
46247 XM
(PURGEVOL_REP\0508\051)SH
/Times-Bold SF
8280 7870 MT
(NAME)SH
600 50 17712 9011 UL
/Times-Roman SF
11880 9156 MT
(purgevol_rep)SH
18562 XM
(delete a replicated volume)SH
/Times-Bold SF
8280 11786 MT
(SYNOPSIS)SH
11880 13396 MT
(purgevol_rep)SH
/Times-Roman SF
17852 XM
(<volumename>)SH
/Times-Bold SF
8280 16026 MT
(DESCRIPTION)SH
11880 17312 MT
(purgevol_rep)SH
/Times-Roman SF
17869 XM
(is a front-end to the)17 W
/Times-Italic SF
26035 XM
(volutil purgevol_rep)16 W
/Times-Roman SF
34511 XM
(command and is used to delete a replicated volume)16 W
11880 18598 MT
(from the Coda system.)92 W
/Times-Bold SF
21895 XM
(purgevol_rep)SH
/Times-Roman SF
27960 XM
(determines the replicated volumeIds corresponding to this volume)93 W
11880 19884 MT
(by examining the readable version)
16 W( of the)15 W
/Times-Italic SF
28569 XM
(VRDB)SH
/Times-Roman SF
31389 XM
(located in)15 W
/Times-Italic SF
35585 XM
(/vice/vol/VRList)SH
/Times-Roman SF
(. It then uses the)15 W
/Times-Italic SF
48826 XM
(volutil)SH
/Times-Roman SF
51647 XM
(utility to)15 W
11880 21170 MT
(purge the)
88 W( individual replicas at the sites of replication. Next, it removes the entry for the deleted volume)89 W
11880 22456 MT
(from the)138 W
/Times-Italic SF
15822 XM
(/vice/vol/VRList)SH
/Times-Roman SF
22599 XM
(and builds a new)138 W
/Times-Italic SF
30150 XM
(VRDB)SH
/Times-Roman SF
(. Finally,)
526 W( it builds a)
138 W( new)137 W
/Times-Italic SF
43864 XM
(VLDB)SH
/Times-Roman SF
46751 XM
(using the)137 W
/Times-Italic SF
50914 XM
(bldvldb)SH
/Times-Roman SF
(\0508\051)SH
11880 23742 MT
(script. Like the other volume utilities,)SH
/Times-Bold SF
27213 XM
(purgevol_rep)SH
/Times-Roman SF
33185 XM
(must be run on the SCM by root.)SH
/Times-Bold SF
8280 26372 MT
(FILES)SH
/Times-Italic SF
11880 27658 MT
(/vice/vol/AllVolumes)SH
/Times-Roman SF
22680 XM
(updated by removing the entriesfor the replicas of the purged volume.)SH
/Times-Italic SF
11880 28944 MT
(/vice/vol/VolumeList)SH
/Times-Roman SF
22680 XM
(updated by the remote server as a side effect of purging the volume.)SH
/Times-Italic SF
11880 30230 MT
(/vice/vol/VRList)SH
/Times-Roman SF
22680 XM
(updated by deleting the entry for the purged volume.)SH
/Times-Bold SF
8280 32860 MT
(SEE ALSO)SH
/Times-Roman SF
11880 34146 MT
(bldvldb.sh\0508\051, purgevol\0508\051, volutil\0508\051)SH
/Times-Bold SF
8280 36776 MT
(AUTHOR)SH
/Times-Roman SF
11880 38062 MT
(David Steere, 1990, Created)SH
8280 75600 MT
(Coda Release 1.0)SH
28888 XM
(May 12, 1993)SH
53580 XM
(125)SH
ES
%%Page: 126 127
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(PWD2PDB\0508\051)SH
47087 XM
(PWD2PDB\0508\051)SH
/Times-Bold SF
6120 7870 MT
(NAME)SH
600 50 13942 9011 UL
/Times-Roman SF
9720 9156 MT
(pwd2pdb)SH
14792 XM
(Translate user and group files to Coda protection database.)SH
/Times-Bold SF
6120 11786 MT
(SYNOPSIS)SH
9720 13072 MT
(pwd2pdb)SH
/Times-Roman SF
13972 XM
(-p <userfile> [ -g <groupfile> ])SH
/Times-Bold SF
6120 15702 MT
(DESCRIPTION)SH
9720 16988 MT
(pwd2pdb)SH
/Times-Roman SF
14082 XM
(will take a Coda user file and Coda group file, translate it to a Coda protection)
110 W( database, and)111 W
9720 18274 MT
(output the database on)SH
/Times-Italic SF
18941 XM
(stdout)SH
/Times-Roman SF
(.)SH
/Times-Bold SF
9720 20249 MT
(pwd2pdb)SH
/Times-Roman SF
13972 XM
(supports the following options:)SH
/Times-Bold SF
9720 21535 MT
(-p)SH
/Times-Italic SF
10859 XM
(userfile)SH
/Times-Roman SF
20520 XM
(Name of user file to include the the protection database.)SH
/Times-Bold SF
9720 22821 MT
(-g)SH
/Times-Italic SF
10803 XM
(groupfile)SH
/Times-Roman SF
20520 XM
(Name of the group file to include in the protection database.)SH
/Times-Bold SF
6120 25451 MT
(SEE ALSO)SH
/Times-Roman SF
9720 26737 MT
(mvdb\0501\051, user.coda\0505\051, group.coda\0505\051, pcfgen\0508\051)SH
/Times-Bold SF
6120 29367 MT
(AUTHOR)SH
/Times-Roman SF
9720 30653 MT
(Joshua Raiff, 1993, Created man page)SH
6120 75600 MT
(126)SH
26728 XM
(May 12, 1993)SH
45949 XM
(Coda Release 1.0)SH
ES
%%Page: 127 128
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(READDUMP\0508\051)SH
48303 XM
(READDUMP\0508\051)SH
/Times-Bold SF
8280 7870 MT
(NAME)SH
600 50 16379 9011 UL
/Times-Roman SF
11880 9156 MT
(readdump)SH
17229 XM
(Utility to examine dumpfiles created by the Coda backup facility)SH
/Times-Bold SF
8280 11786 MT
(SYNOPSIS)SH
11880 13396 MT
(readdump)SH
/Times-Roman SF
16575 XM
([dumpfile])SH
/Times-Bold SF
8280 16026 MT
(DESCRIPTION)SH
/Times-Roman SF
11880 17312 MT
(The)SH
/Times-Bold SF
13820 XM
(readdump)SH
/Times-Roman SF
18650 XM
(program is an interactive facility to allow the user)
135 W( to get information from a dump file)134 W
11880 18598 MT
(produced by the Coda backup mechanism. For now it)
92 W( is simply a way of looking at the information in a)93 W
11880 19884 MT
(dump file. One cannot use it to modify the dump file.)SH
11880 21859 MT
(The)SH
/Times-Bold SF
13685 XM
(readdump)SH
/Times-Roman SF
18380 XM
(program supports the following commands:)SH
/Times-Bold SF
17280 23469 MT
(openDumpFile)SH
/Times-Roman SF
24114 XM
(<dumpfile>)SH
/Times-Bold SF
17280 24574 MT
(showHeader)SH
17280 25679 MT
(showVolumeDiskData)SH
17280 26784 MT
(setIndex)SH
/Times-Roman SF
21391 XM
(<index type>)SH
/Times-Bold SF
17280 27889 MT
(nextVnode)SH
17280 28994 MT
(skipVnodes)SH
/Times-Roman SF
22476 XM
(<nVnodes>)SH
/Times-Bold SF
17280 30099 MT
(quit)SH
11880 32074 MT
(readdump)SH
/Times-Roman SF
16844 XM
(uses the)269 W
/Times-Italic SF
20826 XM
(ci)SH
/Times-Roman SF
22067 XM
(command interface, which allows the use of)
269 W( unique prefixes for commands.)268 W
11880 33360 MT
(Unspecified parameters will be prompted for, and default)
70 W( values can be used. The)71 W
/Times-Italic SF
45760 XM
(showHeader)SH
/Times-Roman SF
51136 XM
(command)SH
11880 34646 MT
(prints out the header of the)
57 W( dump, which is seperate from the header of the volume that was dumped. The)56 W
/Times-Italic SF
11880 35932 MT
(showVolumeDiskData)SH
/Times-Roman SF
21074 XM
(prints out the header of the volume.)SH
11880 37907 MT
(The dump contains two streams of vnodes, one for)
108 W( directories and one for files and symbolic links. The)109 W
/Times-Italic SF
11880 39193 MT
(setIndex)SH
/Times-Roman SF
15598 XM
(command specifies to)136 W
/Times-Bold SF
24977 XM
(readdump)SH
/Times-Roman SF
29808 XM
(which stream you wish to examine. Once an index has been)136 W
11880 40479 MT
(specified, the)133 W
/Times-Italic SF
17728 XM
(nextVnode)SH
/Times-Roman SF
22332 XM
(command displays the next Vnode \050object\051 in the stream. Note that movement)134 W
11880 41765 MT
(through the stream is one-directional. To revisit a Vnode, use the)72 W
/Times-Italic SF
38918 XM
(setIndex)SH
/Times-Roman SF
42572 XM
(command to reset the program)72 W
11880 43051 MT
(back to the beginning of the stream.  One can)
41 W( jump through the index by use of the)42 W
/Times-Italic SF
46039 XM
(skipVnodes)SH
/Times-Roman SF
50886 XM
(command,)SH
11880 44337 MT
(which takes the number of vnodes to skip, and reads past \050without)
130 W( displaying\051 that many vnodes in the)129 W
11880 45623 MT
(stream.)SH
/Times-Bold SF
8280 48253 MT
(FUTURE WORK)SH
/Times-Roman SF
11880 49539 MT
(Usage of this facility should suggest more commands to)
38 W( help administrators parse dumpfiles. In particular,)39 W
11880 50825 MT
(a command to seek ahead to a specified offset in the dump would be useful.)SH
/Times-Bold SF
8280 53455 MT
(SEE ALSO)SH
/Times-Roman SF
11880 54741 MT
(merge\0508\051, backup\0508\051, volutil\0508\051, Coda Manual)SH
/Times-Bold SF
8280 57371 MT
(AUTHOR)SH
/Times-Roman SF
11880 58657 MT
(David C. Steere, 1991, Created)SH
8280 75600 MT
(Coda Release 1.0)SH
28888 XM
(May 12, 1993)SH
53580 XM
(127)SH
ES
%%Page: 128 129
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(SRV\0508\051)SH
49809 XM
(SRV\0508\051)SH
/Times-Bold SF
6120 7870 MT
(NAME)SH
600 50 11442 9011 UL
/Times-Roman SF
9720 9156 MT
(srv)SH
12292 XM
(CFS file server)SH
/Times-Bold SF
6120 11786 MT
(SYNOPSIS)SH
9720 13396 MT
(srv)SH
/Times-Roman SF
11303 XM
([-d \050debug level\051] [-p \050number of processes\051] [-b \050buffers\051])SH
11220 14501 MT
([-l \050large vnodes\051] [-s \050small vnodes\051] [-k \050stack size\051])SH
11220 15606 MT
([-w \050wait interval\051] [-r \050RPC retry count\051])SH
11220 16711 MT
([-o \050RPC timeout\051] [-c \050check interval\051])SH
11220 17816 MT
([-t \050RPC trace buffers\051] [-forcesalvage])SH
11220 18921 MT
([-quicksalvage] [-rvm logdevice datadevice length] [-nores])SH
11220 20026 MT
([-trunc percent] [-nocmp] [-nopy] [-nodumpvm] [-nosalvageonshutdown])SH
11220 21131 MT
([-mondhost hostname] [-mondportal port] [-debarrenize] [-optstore])SH
11220 22236 MT
([-rvmopt] [-newchecklevel checklevel])SH
/Times-Bold SF
6120 24866 MT
(DESCRIPTION)SH
9720 26152 MT
(srv)SH
/Times-Roman SF
11381 XM
(is the CFS)78 W
/Times-Italic SF
16033 XM
(vice)SH
/Times-Roman SF
17971 XM
(file server.  It services)
78 W( requests from client machine's)77 W
/Times-Bold SF
40329 XM
(venus)SH
/Times-Roman SF
43101 XM
(processes and maintains)77 W
9720 27438 MT
(the file system.)SH
/Times-Bold SF
9720 29413 MT
(Srv)SH
/Times-Roman SF
('s command line options are:)SH
/Times-Bold SF
9720 30699 MT
(-d)SH
/Times-Italic SF
10859 XM
(<debug level>)SH
/Times-Roman SF
20520 XM
(Sets the internal debugging level to)21 W
/Times-Italic SF
35034 XM
(<debug level>)21 W
/Times-Roman SF
(. This)
292 W( controls the)
21 W( amount of)22 W
20520 31985 MT
(debugging output)SH
/Times-Bold SF
27798 XM
(srv)SH
/Times-Roman SF
29381 XM
(will generate.)SH
/Times-Bold SF
9720 33271 MT
(-p)SH
/Times-Italic SF
10859 XM
(<number of processes>)SH
/Times-Roman SF
20520 XM
(Sets the number of)
34 W( light weight processes that will be used to handle concurrent)33 W
20520 34557 MT
(requests.)SH
/Times-Bold SF
9720 35843 MT
(-b)SH
/Times-Italic SF
10859 XM
(buffers)SH
/Times-Roman SF
20520 XM
(Sets the number of internal buffers used by)SH
/Times-Bold SF
38017 XM
(srv)SH
/Times-Roman SF
39600 XM
(for the dir package.)SH
/Times-Bold SF
9720 37129 MT
(-l)SH
/Times-Italic SF
10581 XM
(<large vnodes>)SH
/Times-Roman SF
20520 XM
(number of large vnodes in lru cache)SH
/Times-Bold SF
9720 38415 MT
(-s)SH
/Times-Italic SF
10692 XM
(<small vnodes>)SH
/Times-Roman SF
20520 XM
(number of small vnodes in lru cache)SH
/Times-Bold SF
9720 39701 MT
(-k)SH
/Times-Italic SF
10859 XM
(<stack size>)SH
/Times-Roman SF
20520 XM
(stack size of LWP threads in Kbytes)SH
/Times-Bold SF
9720 40987 MT
(-w)SH
/Times-Italic SF
11025 XM
(<wait interval>)SH
/Times-Roman SF
20520 XM
(interval for CallBackCheckLWP to see which clients are alive)SH
/Times-Bold SF
9720 42273 MT
(-r)SH
/Times-Italic SF
10747 XM
(<RPC retry count>)SH
/Times-Roman SF
20520 XM
(number of times a call is retried before reporting death)SH
/Times-Bold SF
9720 43559 MT
(-o)SH
/Times-Italic SF
10803 XM
(<RPC timeout>)SH
/Times-Roman SF
20520 XM
(default timeout for all rpcs)SH
/Times-Bold SF
9720 44845 MT
(-c)SH
/Times-Italic SF
10747 XM
(<check interval>)SH
/Times-Roman SF
20520 XM
(The interval at which shutdown is checked)SH
/Times-Bold SF
9720 46131 MT
(-t)SH
/Times-Italic SF
10636 XM
(<RPC trace buffers>)SH
/Times-Roman SF
20520 XM
(number of entries in the rpc trace buffer)SH
/Times-Bold SF
9720 47417 MT
(-forcesalvage)SH
/Times-Roman SF
20520 XM
(force a full salvage on all volumes)SH
/Times-Bold SF
9720 48703 MT
(-quicksalvage)SH
/Times-Roman SF
20520 XM
(salvage only the headers of the volumes - currently it always does a full)SH
/Times-Bold SF
9720 49989 MT
(-rvm)SH
/Times-Italic SF
12080 XM
(logdevice datadevice length)SH
/Times-Roman SF
20520 51275 MT
(The)SH
/Times-Bold SF
22506 XM
(-rvm)SH
/Times-Roman SF
25047 XM
(switch allows you to specify the locaction of the)
181 W( log device, data)180 W
20520 52561 MT
(device, and length of the)
1 W( recoverable segment used by the server. This parameter)2 W
20520 53847 MT
(is not optional.)SH
/Times-Bold SF
9720 55133 MT
(-nores)SH
/Times-Roman SF
20520 XM
(Turn off resolution on the servers)SH
/Times-Bold SF
9720 56419 MT
(-trunc)SH
/Times-Italic SF
12636 XM
(percent)SH
/Times-Roman SF
20520 XM
(Specify how full the log can get before it is truncated.  Default is 50%)SH
/Times-Bold SF
9720 57705 MT
(-nocmp)SH
/Times-Roman SF
20520 XM
(Directory replica contents will not be checked for equality at end of resolution)SH
/Times-Bold SF
9720 58991 MT
(-nopy)SH
/Times-Roman SF
20520 XM
(Suppress polling and yielding by threads that run for a long period)SH
/Times-Bold SF
9720 60277 MT
(-nodumpvm)SH
/Times-Roman SF
20520 XM
(Do not dump in-memory copy of recoverable segment before shutdown)SH
/Times-Bold SF
9720 61563 MT
(-nosalvageonshutdown)SH
/Times-Roman SF
20520 XM
(Do not salvage volumes on shutdown)SH
/Times-Bold SF
9720 62849 MT
(-mondhost)SH
/Times-Italic SF
14526 XM
(hostname)SH
/Times-Roman SF
20520 XM
(Host where)SH
/Times-Italic SF
25352 XM
(mond)SH
/Times-Roman SF
27824 XM
(database is stored)SH
/Times-Bold SF
9720 64135 MT
(-mondportal)SH
/Times-Italic SF
15359 XM
(port)SH
/Times-Roman SF
20520 XM
(Port to use when contacting the)SH
/Times-Italic SF
33352 XM
(mond)SH
/Times-Roman SF
35824 XM
(host.)SH
/Times-Bold SF
9720 65421 MT
(-debarrenize)SH
/Times-Roman SF
20520 XM
(Create an inode for a vnode if the inode cannot be found by the salvager)SH
/Times-Bold SF
9720 66707 MT
(-opstore)SH
/Times-Roman SF
20520 XM
(Optimized Stores - return to the client before sftp completes)SH
/Times-Bold SF
9720 67993 MT
(-rvmopt)SH
/Times-Roman SF
20520 XM
(Turn on inter/intra transaction rvm optimizations)SH
/Times-Bold SF
9720 69279 MT
(-newchecklevel)SH
/Times-Italic SF
16413 XM
(checklevel)SH
/Times-Roman SF
20520 70565 MT
(Set the level of checking done by new plumber.)SH
6120 75600 MT
(128)SH
26728 XM
(May 12, 1993)SH
45949 XM
(Coda Release 1.0)SH
ES
%%Page: 129 130
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(SRV\0508\051)SH
51969 XM
(SRV\0508\051)SH
/Times-Bold SF
8280 7870 MT
(FILES)SH
/Times-Roman SF
11880 9156 MT
(/vice/srv/SrvErr)SH
11880 11131 MT
(/vice/srv/SrvLog*)SH
/Times-Bold SF
8280 13761 MT
(SEE ALSO)SH
/Times-Roman SF
11880 15047 MT
(startserver\0508\051)SH
/Times-Bold SF
8280 17677 MT
(AUTHOR)SH
/Times-Roman SF
11880 18963 MT
(Joshua Raiff, 1993, Created man page)SH
8280 75600 MT
(Coda Release 1.0)SH
28888 XM
(May 12, 1993)SH
53580 XM
(129)SH
ES
%%Page: 130 131
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(STARTSERVER\0508\051)SH
44753 XM
(STARTSERVER\0508\051)SH
/Times-Bold SF
6120 7870 MT
(NAME)SH
600 50 14385 9011 UL
/Times-Roman SF
9720 9156 MT
(startserver)SH
15235 XM
(Start the CFS file server)SH
/Times-Bold SF
6120 11786 MT
(SYNOPSIS)SH
9720 13072 MT
(startserver)SH
6120 15702 MT
(DESCRIPTION)SH
9720 16988 MT
(startserver)SH
/Times-Roman SF
14686 XM
(is used to start the CFS file server process.  It will clean up old log files,)
52 W( then start the server.)53 W
9720 18274 MT
(This script is useful for starting the server with the same configuration every time its run.)SH
/Times-Bold SF
6120 20904 MT
(FILES)SH
/Times-Italic SF
9720 22190 MT
(/vice/bin/srv)SH
9720 24165 MT
(/vice/srv/SrvErr)SH
9720 26140 MT
(/vice/srv/SrvLog*)SH
/Times-Bold SF
6120 28770 MT
(SEE ALSO)SH
/Times-Roman SF
9720 30056 MT
(srv\0508\051)SH
/Times-Bold SF
6120 32686 MT
(AUTHOR)SH
/Times-Roman SF
9720 33972 MT
(Joshua Raiff, 1993, Created man page)SH
6120 75600 MT
(130)SH
26728 XM
(May 12, 1993)SH
45949 XM
(Coda Release 1.0)SH
ES
%%Page: 131 132
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(UPDATECLNT\0508\051)SH
47359 XM
(UPDATECLNT\0508\051)SH
/Times-Bold SF
8280 7870 MT
(NAME)SH
600 50 16546 9011 UL
/Times-Roman SF
11880 9156 MT
(updateclnt)SH
17396 XM
(update client executables)SH
/Times-Bold SF
8280 11786 MT
(SYNOPSIS)SH
11880 13396 MT
(updateclnt)SH
/Times-Roman SF
16686 XM
([ -d debug_level ] [ -h host_name ] [ -q service_name ] [ -w wait_interval ] [ -r reps ])SH
/Times-Bold SF
8280 16026 MT
(DESCRIPTION)SH
/Times-Roman SF
11880 17312 MT
(The)SH
/Times-Bold SF
13752 XM
(updateclnt)SH
/Times-Roman SF
18625 XM
(command is a client process to)
67 W( the)66 W
/Times-Italic SF
33118 XM
(updatesrv)SH
/Times-Roman SF
37378 XM
(process. It)
382 W( is used to keep the binaries and)66 W
11880 18598 MT
(data bases on a file server in sync with those on a control machine.  The arguments include:)SH
/Times-Bold SF
11880 19884 MT
(-d)SH
/Times-Italic SF
13019 XM
(debug_level)SH
/Times-Roman SF
22680 XM
(This option changes the debugging level.  The higher)
38 W( the debug_level, the more)39 W
22680 21170 MT
(information is printed.  Maximum debugging level is 10.)SH
/Times-Bold SF
11880 22456 MT
(-h)SH
/Times-Italic SF
13019 XM
(host_name)SH
/Times-Roman SF
22680 XM
(This is the hostname of the)
224 W( control machine with which this process keeps)223 W
22680 23742 MT
(up-to-date.)SH
33480 XM
(default: scm)SH
/Times-Bold SF
11880 25028 MT
(-q)SH
/Times-Italic SF
13019 XM
(service_name)SH
/Times-Roman SF
22680 XM
(This is the name in)73 W
/Times-Italic SF
30906 XM
(/etc/services)SH
/Times-Roman SF
36172 XM
(that should be used as the portal)
73 W( to connect to)74 W
22680 26314 MT
(on the machine specified by)SH
/Times-Bold SF
34150 XM
(host_name)SH
/Times-Roman SF
39011 XM
(above.)SH
22680 27600 MT
(default: rupdsrv)SH
/Times-Bold SF
11880 28886 MT
(-w)SH
/Times-Roman SF
13185 XM
(i\050wait_interval\051)SH
22680 XM
(The number of seconds between probes.)
208 W( The)
667 W( lower this number is set, the)209 W
22680 30172 MT
(quicker the servers)
38 W( will be updated when a change occurs and the more cpu and)37 W
22680 31458 MT
(network resources will be required.)SH
22680 32744 MT
(default: 300 seconds or 5 minutes)SH
/Times-Bold SF
11880 34030 MT
(-b)SH
/Times-Roman SF
22680 XM
(This option forces a .BAK file to be kept for any file that is changed.)SH
/Times-Bold SF
11880 35316 MT
(-r)SH
/Times-Italic SF
12907 XM
(reps)SH
/Times-Roman SF
22680 XM
(This is the number of wait intervals between long checks.)
67 W( Files)
383 W( are checked at)66 W
22680 36602 MT
(two intervals.  The interval specified by)124 W
/Times-Bold SF
39712 XM
(-w)SH
/Times-Roman SF
41141 XM
(is used for those files)
124 W( in)125 W
/Times-Italic SF
51664 XM
(/vice/db)SH
/Times-Roman SF
(.)SH
22680 37888 MT
(All other files are checked once each)SH
/Times-Bold SF
37702 XM
(-r)SH
/Times-Roman SF
38729 XM
(repetitions of length)SH
/Times-Bold SF
47034 XM
(-w)SH
/Times-Roman SF
(.)SH
22680 39174 MT
(default: 6 so the long interval is 30 minutes)SH
/Times-Bold SF
11880 40460 MT
(Updateclnt)SH
/Times-Roman SF
16888 XM
(checks)SH
/Times-Italic SF
19895 XM
(/vice/db)SH
/Times-Roman SF
23347 XM
(every)SH
/Times-Italic SF
25854 XM
(wait_interval)SH
/Times-Roman SF
31474 XM
(seconds. These)
324 W( directory has a file in it called)37 W
/Times-Italic SF
50590 XM
(files)SH
/Times-Roman SF
(. Each)324 W
11880 41746 MT
(file specified in it has its current)
22 W( date checked at the server, and a new copy of the file is fetched if the date)21 W
11880 43032 MT
(does not match that on the control machine.  The format of the)SH
/Times-Italic SF
37154 XM
(files)SH
/Times-Roman SF
39071 XM
(file is defined below.)SH
/Times-Bold SF
8280 45662 MT
(EXAMPLES)SH
/Times-Roman SF
11880 46948 MT
(The command)75 W
/Times-Bold SF
18029 XM
(updateclnt -h mahler)75 W
/Times-Roman SF
27504 XM
(would cause the client machine to check)
75 W( every 5 minutes with host)76 W
11880 48234 MT
(mahler to)
13 W( see if any of the files in)12 W
/Times-Italic SF
25681 XM
(/vice/db)SH
/Times-Roman SF
29109 XM
(have changed and every 30 minutes to see if any other files have)12 W
11880 49520 MT
(changed. Normally)
640 W( the command is invoked by issuing the)195 W
/Times-Bold SF
37856 XM
(updatemon \0508\051)195 W
/Times-Roman SF
44746 XM
(command with the same)195 W
11880 50806 MT
(operands.)SH
/Times-Bold SF
8280 53436 MT
(FORMAT)SH
/Times-Roman SF
11880 54722 MT
(The format of the)18 W
/Times-Italic SF
19228 XM
(files)SH
/Times-Roman SF
21163 XM
(file is one file name per line. A "-")
18 W( as the first character on the line causes the file to)17 W
11880 56008 MT
(be deleted instead of copied.)SH
/Times-Bold SF
8280 58638 MT
(DIAGNOSTICS)SH
/Times-Roman SF
11880 59924 MT
(The updateclnt program can have its debug level turned on while it is running by)
116 W( sending a)117 W
/Times-Bold SF
50489 XM
(kill -TSTP)117 W
/Times-Roman SF
11880 61210 MT
(signal to a running updateclnt.  To reset the debug level back to zero, send a)166 W
/Times-Bold SF
45197 XM
(kill -HUP)165 W
/Times-Roman SF
49861 XM
(signal to the)165 W
11880 62496 MT
(running updateclnt. This also causes the UpdateLog file to not be written anymore.)SH
/Times-Bold SF
8280 65126 MT
(FILES)SH
/Times-Italic SF
11880 66412 MT
(/vice/srv/UpdateLog)SH
/Times-Roman SF
22680 XM
(is the name of the log file for the updateclnt command.  It)
131 W( can be viewed by)132 W
22680 67698 MT
(using the command)78 W
/Times-Italic SF
30997 XM
(tail -f)
78 W( /vice/file/UpdateLog)77 W
/Times-Roman SF
(. It)
404 W( is only written if debugging)77 W
22680 68984 MT
(has been started.)SH
/Times-Italic SF
11880 70270 MT
(/vice/srv/UpdatePid)SH
/Times-Roman SF
22680 XM
(is the pid of the updateclnt process.)SH
/Times-Italic SF
11880 71556 MT
(/vice/srv/UpdateMon)SH
/Times-Roman SF
22680 XM
(is the pid of the updatemon process that is keeping updateclnt running.)SH
8280 75600 MT
(Coda Release 1.0)SH
28888 XM
(May 12, 1993)SH
53580 XM
(131)SH
ES
%%Page: 132 133
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(UPDATECLNT\0508\051)SH
45199 XM
(UPDATECLNT\0508\051)SH
/Times-Bold SF
6120 7870 MT
(BUGS)SH
/Times-Roman SF
9720 9156 MT
(There is no easy way to add to the list of directories checked.)SH
9720 11131 MT
(The)SH
/Times-Italic SF
11525 XM
(-r)SH
/Times-Roman SF
12497 XM
(option is now obsolete as)SH
/Times-Bold SF
22858 XM
(updateclnt)SH
/Times-Roman SF
27664 XM
(does not update any directory other then)SH
/Times-Italic SF
44022 XM
(/vice/db)SH
/Times-Roman SF
(.)SH
/Times-Bold SF
6120 13761 MT
(SEE ALSO)SH
/Times-Roman SF
9720 15047 MT
(updatesrv\0508\051)SH
/Times-Bold SF
6120 17677 MT
(AUTHOR)SH
/Times-Roman SF
9720 18963 MT
(Maria R. Ebling, 1990, Adapted from AFS)SH
6120 75600 MT
(132)SH
26728 XM
(May 12, 1993)SH
45949 XM
(Coda Release 1.0)SH
ES
%%Page: 133 134
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(UPDATEMON\0508\051)SH
47637 XM
(UPDATEMON\0508\051)SH
/Times-Bold SF
8280 7870 MT
(NAME)SH
600 50 16824 9011 UL
/Times-Roman SF
11880 9156 MT
(updatemon)SH
17674 XM
(monitor process for the update system)SH
/Times-Bold SF
8280 11786 MT
(SYNOPSIS)SH
/Times-Roman SF
11880 13396 MT
(For updateclnt:)SH
/Times-Bold SF
11880 15606 MT
(updatemon)SH
/Times-Roman SF
16964 XM
([)SH
/Times-Bold SF
17547 XM
(-d)SH
/Times-Roman SF
18686 XM
(debug_level ] [)SH
/Times-Bold SF
24990 XM
(-h)SH
/Times-Roman SF
26129 XM
(host_name ] [)SH
/Times-Bold SF
31878 XM
(-q)SH
/Times-Roman SF
33017 XM
(service_name ] [)SH
/Times-Bold SF
39931 XM
(-w)SH
/Times-Roman SF
41236 XM
(wait_interval ] [)SH
/Times-Bold SF
47929 XM
(-r)SH
/Times-Roman SF
48956 XM
(reps ])SH
11880 17816 MT
(For updatesrv:)SH
/Times-Bold SF
11880 20026 MT
(updatemon -s)SH
/Times-Roman SF
17936 XM
([)SH
/Times-Bold SF
18519 XM
(-d)SH
/Times-Roman SF
19658 XM
(debug_level ] [)SH
/Times-Bold SF
25962 XM
(-l)SH
/Times-Roman SF
26823 XM
(number_of_lwps ] [)SH
/Times-Bold SF
35016 XM
(-p)SH
/Times-Roman SF
36155 XM
(prefix ] [)SH
/Times-Bold SF
39959 XM
(-q)SH
/Times-Roman SF
41098 XM
(service_number ])SH
/Times-Bold SF
8280 22656 MT
(DESCRIPTION)SH
/Times-Roman SF
11880 23942 MT
(The update system keeps binaries and data bases)
8 W( which are read-only replicated on many servers up-to-date)9 W
11880 25228 MT
(with the custodian for the read-write copies.  The)91 W
/Times-Bold SF
32639 XM
(updatesrv \0508\051)91 W
/Times-Roman SF
38765 XM
(runs on)
91 W( the custodian for the read-write)90 W
11880 26514 MT
(copy while the)SH
/Times-Bold SF
18018 XM
(updateclnt \0508\051)SH
/Times-Roman SF
24240 XM
(runs on each of the file servers with read-only replicas.)SH
11880 28489 MT
(The)SH
/Times-Bold SF
13743 XM
(updatemon)SH
/Times-Roman SF
18885 XM
(process monitors either the)58 W
/Times-Bold SF
30171 XM
(updatesrv)SH
/Times-Roman SF
34757 XM
(process or the)58 W
/Times-Bold SF
40735 XM
(updateclnt)SH
/Times-Roman SF
45600 XM
(process and restarts the)59 W
11880 29775 MT
(correct process if the original should exit.  The monitor process allows the file servers)
130 W( to run relatively)129 W
11880 31061 MT
(unattended by ensuring that the update system is running at all times.)SH
/Times-Bold SF
11880 33036 MT
(updatemon)SH
/Times-Roman SF
16964 XM
(should be run from)SH
/Times-Italic SF
24852 XM
(/etc/rc.local)SH
/Times-Roman SF
29907 XM
(of each server machine.)SH
/Times-Bold SF
8280 35666 MT
(EXAMPLES)SH
/Times-Roman SF
11880 36952 MT
(The command)136 W
/Times-Bold SF
18151 XM
(updatemon -h mahler)136 W
/Times-Roman SF
28087 XM
(would cause the update monitor process to start up.  The)
136 W( update)137 W
11880 38238 MT
(monitor would then invoke an)103 W
/Times-Bold SF
24700 XM
(updateclnt)SH
/Times-Roman SF
29609 XM
(process \050passing along its arguments\051.  This invocation of the)102 W
/Times-Italic SF
11880 39524 MT
(updateclnt)SH
/Times-Roman SF
16355 XM
(process would cause the client machine to)
3 W( check the host mahler every 5 minutes to see if any of)4 W
11880 40810 MT
(the files in)SH
/Times-Italic SF
16352 XM
(/vice/db)SH
/Times-Roman SF
19768 XM
(have changed and every 30 minutes to see if any other files have changed.)SH
11880 42785 MT
(The command)39 W
/Times-Bold SF
17957 XM
(updatemon -s -p /vice/bin)38 W
/Times-Roman SF
29166 XM
(would cause the update monitor process to start up.  The update)38 W
11880 44071 MT
(monitor would then invoke an)291 W
/Times-Bold SF
25640 XM
(updatesrv)SH
/Times-Roman SF
30459 XM
(process \050passing along the arguments\051.)
291 W( All)
833 W( files in this)292 W
11880 45357 MT
(invokation would be relative to /vice/bin.)SH
/Times-Bold SF
8280 47987 MT
(BUGS)SH
/Times-Roman SF
11880 49273 MT
(No known bugs)SH
/Times-Bold SF
8280 51903 MT
(SEE ALSO)SH
/Times-Roman SF
11880 53189 MT
(updateclnt\0508\051 updatesrv\0508\051)SH
/Times-Bold SF
8280 55819 MT
(AUTHOR)SH
/Times-Roman SF
11880 57105 MT
(Maria R. Ebling, 1990, Adapted from AFS-2)SH
8280 75600 MT
(Coda Release 1.0)SH
28888 XM
(May 12, 1993)SH
53580 XM
(133)SH
ES
%%Page: 134 135
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(UPDATESRV\0508\051)SH
45865 XM
(UPDATESRV\0508\051)SH
/Times-Bold SF
6120 7870 MT
(NAME)SH
600 50 14108 9011 UL
/Times-Roman SF
9720 9156 MT
(updatesrv)SH
14958 XM
(update server files)SH
/Times-Bold SF
6120 11786 MT
(SYNOPSIS)SH
9720 13396 MT
(updatesrv)SH
/Times-Roman SF
14248 XM
([)SH
/Times-Bold SF
14831 XM
(-d)SH
/Times-Roman SF
15970 XM
(debug_level ] [)SH
/Times-Bold SF
22274 XM
(-l)SH
/Times-Roman SF
23135 XM
(number_of_lwps ] [)SH
/Times-Bold SF
31328 XM
(-p)SH
/Times-Roman SF
32467 XM
(prefix ] [)SH
/Times-Bold SF
36271 XM
(-s)SH
/Times-Roman SF
37243 XM
(] [)SH
/Times-Bold SF
38409 XM
(-q)SH
/Times-Roman SF
39548 XM
(service_number ])SH
/Times-Bold SF
6120 16026 MT
(DESCRIPTION)SH
/Times-Roman SF
9720 17312 MT
(The)SH
/Times-Bold SF
11597 XM
(updatesrv)SH
/Times-Roman SF
16196 XM
(command is a read-only server that responds to requests for files by name.  The operands)71 W
9720 18598 MT
(that it accepts are:)SH
/Times-Bold SF
9720 19884 MT
(-d)SH
/Times-Roman SF
10859 XM
(debug_level)SH
20520 XM
(This is used to increase the level of messages written to the log file.)SH
/Times-Bold SF
9720 21170 MT
(-l)SH
/Times-Roman SF
10581 XM
(number_of_lwps)SH
20520 XM
(This operand is used to specify how)
187 W( many lwps will be used to answer file)188 W
20520 22456 MT
(requests.)SH
31320 XM
(default: 2)SH
/Times-Bold SF
9720 23742 MT
(-p)SH
/Times-Roman SF
10859 XM
(prefix)SH
20520 XM
(This is the name that is prepended)
70 W( to all file requests.  This is used to limit the)69 W
20520 25028 MT
(files that can be requested.)SH
/Times-Bold SF
9720 26314 MT
(-q)SH
/Times-Roman SF
10859 XM
(service_name)SH
20520 XM
(This is the service name in)SH
/Times-Italic SF
31463 XM
(/etc/services)SH
/Times-Roman SF
36656 XM
(that is to be used.)SH
20520 27600 MT
(default: rupdsrv)SH
/Times-Bold SF
6120 30230 MT
(EXAMPLES)SH
/Times-Roman SF
9720 31516 MT
(The command)178 W
/Times-Bold SF
16075 XM
(updatesrv -s)
178 W( -p /)177 W
/Times-Roman SF
23951 XM
(would invoke the updatesrv process and cause the files to be served)177 W
9720 32802 MT
(relative to / on the server machine.)SH
9720 34777 MT
(The command)144 W
/Times-Bold SF
16007 XM
(updatesrv -s -p /vice/bin)144 W
/Times-Roman SF
27084 XM
(would cause the files to be)
144 W( served relative to /vice/bin on the)145 W
9720 36063 MT
(server machine.)SH
/Times-Bold SF
6120 38693 MT
(DIAGNOSTICS)SH
/Times-Roman SF
9720 39979 MT
(The UpdateLog file)
109 W( will contain useful information.  Issuing a)108 W
/Times-Bold SF
35938 XM
(kill -TSTP)108 W
/Times-Roman SF
40878 XM
(signal to a running updatesrv)108 W
9720 41265 MT
(will increase the level of debugging messages.  The debugging messages can be turned off by)
19 W( issuing a)20 W
/Times-Bold SF
51530 XM
(kill)SH
9720 42551 MT
(-HUP)SH
/Times-Roman SF
12414 XM
(signal. This)
250 W( will also cause the log file to no longer be written.)SH
/Times-Bold SF
6120 45181 MT
(FILES)SH
9720 46467 MT
(UpdateLog)SH
/Times-Roman SF
20520 XM
(This log)
111 W( of the messages from)110 W
/Times-Bold SF
33513 XM
(updatesrv)SH
/Times-Roman SF
38151 XM
(is kept in the directory specified by)110 W
20520 47753 MT
(the)SH
/Times-Bold SF
22050 XM
(-p)SH
/Times-Roman SF
23247 XM
(operand on the invocation.  This)
58 W( log file is only written when debugging)59 W
20520 49039 MT
(is enabled.)SH
/Times-Bold SF
9720 50325 MT
(pid)SH
/Times-Roman SF
20520 XM
(This file contains the pid of the updatesrv process.  It is kept in the)
127 W( directory)126 W
20520 51611 MT
(specified on the)SH
/Times-Bold SF
27102 XM
(-p)SH
/Times-Roman SF
28241 XM
(operand on invocation of the command.)SH
/Times-Bold SF
6120 54241 MT
(BUGS)SH
/Times-Roman SF
9720 55527 MT
(It does not yet use any password authentication to stop others from using it to fetch files from servers.)SH
/Times-Bold SF
6120 58157 MT
(SEE ALSO)SH
/Times-Roman SF
9720 59443 MT
(checkvenus\0508\051 updateclnt\0508\051)SH
/Times-Bold SF
6120 62073 MT
(AUTHOR)SH
/Times-Roman SF
9720 63359 MT
(Maria R. Ebling, 1990, Adapted from AFS-2)SH
6120 75600 MT
(134)SH
26728 XM
(May 12, 1993)SH
45949 XM
(Coda Release 1.0)SH
ES
%%Page: 135 136
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(VENUS\0508\051)SH
50581 XM
(VENUS\0508\051)SH
/Times-Bold SF
8280 7870 MT
(NAME)SH
600 50 14713 9011 UL
/Times-Roman SF
11880 9156 MT
(venus)SH
15563 XM
(client cache manager)SH
/Times-Bold SF
8280 11786 MT
(SYNOPSIS)SH
11880 13396 MT
(venus)SH
/Times-Roman SF
15075 XM
([ -k kernel device ]  [ -h host list ]  [ -cf cache files ]  [ -c cache blocks ]  [-mles CML entries])SH
13880 14501 MT
([ -d debug level ]  [ -r root volume ]  [ -f cache directory ]  [ -m COP modes ])SH
13880 15606 MT
([ -mc 0 | 1 ]  [ -console console file ]  [ -retries RPC2 retries ]  [ -timeout RPC2 timeout ])SH
13880 16711 MT
([ -ws SFTP window size ]  [ -sa SFTP send ahead ]  [ -ap SFTP ack point ]  [ -init ]  [ -p ])SH
13880 17816 MT
([ -hdbes hoard entries] [-rvmt RVM type] [-sim infile outfile filtfile systype])SH
13880 18921 MT
([ -mondhost hostname] [ -mondport port ] [ -maxprefetchers fetch threads ])SH
13880 20026 MT
([ -maxworkers work threads] [ -maxcbservers cb threads ] [ -vld device ] [ -vlds size ])SH
13880 21131 MT
([-vdd device ] [ -vdds size ] [ -rdscs chunk size ] [ -rdsnl nlists ] [ -logopts 0 | 1 ])SH
13880 22236 MT
([ -swt weight ] [ -mwt weight ] [ -ssf scale factor ] [ mount point ])SH
/Times-Bold SF
8280 24866 MT
(DESCRIPTION)SH
11880 26152 MT
(venus)SH
/Times-Roman SF
14682 XM
(manages a cache of files and directories for a)
107 W( client workstation.  It has a host of parameters and)108 W
11880 27438 MT
(configuration options.)
118 W( Default)
485 W( values of everything are compiled into)117 W
/Times-Bold SF
41298 XM
(venus)SH
/Times-Roman SF
44110 XM
(\050see)SH
/Times-Italic SF
46087 XM
(<venus.private.h>)SH
/Times-Roman SF
53914 XM
(for)SH
11880 28724 MT
(these values\051.  Some of these are overridden by the values in the)113 W
/Times-Italic SF
39288 XM
(vstab)SH
/Times-Roman SF
(\0505\051, provided that it)
113 W( exists.  Both)114 W
11880 30010 MT
(default and vstab values may be overridden with command-line arguments.  Venus must be run as root.)SH
11880 31985 MT
(The command-line options are:)SH
/Times-Bold SF
11880 33271 MT
(-k)SH
/Times-Italic SF
13019 XM
(kernel device)SH
/Times-Roman SF
22680 XM
(Take)SH
/Times-Italic SF
24929 XM
(kernel device)SH
/Times-Roman SF
30482 XM
(to be the device for kernel/venus communication.)SH
22680 34557 MT
(Default:)SH
/Times-Italic SF
26207 XM
(/dev/cfs0)SH
/Times-Bold SF
11880 35843 MT
(-h)SH
/Times-Italic SF
13019 XM
(host list)SH
/Times-Roman SF
22680 XM
(Take comma-separated)212 W
/Times-Italic SF
32656 XM
(host list)212 W
/Times-Roman SF
36470 XM
(to be)
212 W( the initial set of hosts to be used for)211 W
22680 37129 MT
(volume-location requests.)SH
/Times-Bold SF
11880 38415 MT
(-cf)SH
/Times-Italic SF
13240 XM
(cache files)SH
/Times-Roman SF
22680 XM
(Limit the size of the file cache to)SH
/Times-Italic SF
36122 XM
(cache files)SH
/Times-Roman SF
40621 XM
(entries.)SH
22680 39701 MT
(Default:)SH
/Times-Italic SF
26207 XM
(512)SH
/Times-Bold SF
11880 40987 MT
(-c)SH
/Times-Italic SF
12907 XM
(cache blocks)SH
/Times-Roman SF
22680 XM
(Limit the size of the file cache to)SH
/Times-Italic SF
36122 XM
(cache blocks)SH
/Times-Roman SF
41509 XM
(1K blocks.)SH
22680 42273 MT
(Default:)SH
/Times-Italic SF
26207 XM
(8192)SH
/Times-Bold SF
11880 43559 MT
(-mles)SH
/Times-Italic SF
14407 XM
(CML entries)SH
/Times-Roman SF
22680 XM
(Number of Cache Modify Log entries)SH
/Times-Bold SF
11880 44845 MT
(-vols)SH
/Times-Italic SF
14130 XM
(volumes)SH
/Times-Roman SF
22680 XM
(Limit the size of the volume cache to)SH
/Times-Italic SF
37789 XM
(volumes)SH
/Times-Roman SF
41316 XM
(entries.)SH
22680 46131 MT
(Default:)SH
/Times-Italic SF
26207 XM
(128)SH
/Times-Bold SF
11880 47417 MT
(-vsgs)SH
/Times-Italic SF
14241 XM
(vsgs)SH
/Times-Roman SF
22680 XM
(Limit the size of the VSG cache to)SH
/Times-Italic SF
36789 XM
(vsgs)SH
/Times-Roman SF
38761 XM
(entries.)SH
22680 48703 MT
(Default:)SH
/Times-Italic SF
26207 XM
(64)SH
/Times-Bold SF
11880 49989 MT
(-d)SH
/Times-Italic SF
13019 XM
(debug level)SH
/Times-Roman SF
22680 XM
(Initialize the debug level to)68 W
/Times-Italic SF
34213 XM
(debug level)68 W
/Times-Roman SF
(. Meaningful)
386 W( values are {0, 1, 10,)
68 W( 100,)69 W
22680 51275 MT
(1000}.)SH
22680 52561 MT
(Default:)SH
/Times-Italic SF
26207 XM
(0)SH
/Times-Bold SF
11880 53847 MT
(-r)SH
/Times-Italic SF
12907 XM
(root volume)SH
/Times-Roman SF
22680 XM
(Take)SH
/Times-Italic SF
25057 XM
(root volume)128 W
/Times-Roman SF
30368 XM
(to be the root volume of the file)
128 W( system.  This should be a)127 W
22680 55133 MT
(string name rather than a)
134 W( number.  There is no default.  If no value is given,)135 W
22680 56419 MT
(venus will ask one of the file servers.  [N.B.  If you intend to operate)327 W
22680 57705 MT
(disconnected, a value must be supplied.])SH
22680 58991 MT
(Default:)SH
/Times-Italic SF
26207 XM
(none)SH
/Times-Bold SF
11880 60277 MT
(-f)SH
/Times-Italic SF
12796 XM
(cache directory)SH
/Times-Roman SF
22680 XM
(Take)SH
/Times-Italic SF
25007 XM
(cache directory)78 W
/Times-Roman SF
31661 XM
(to be the directory for the)
78 W( file, volume, and VSG caches.)79 W
22680 61563 MT
(Venus garbage collects any)
88 W( files it doesn't recognize in the cache directory, so)87 W
22680 62849 MT
(use caution when supplying this argument.  Venus will create the directory if it)61 W
22680 64135 MT
(doesn't already exist.  The directory should have mode bits of)240 W
/Times-Italic SF
50315 XM
(rwx------)SH
/Times-Roman SF
54302 XM
(to)SH
22680 65421 MT
(protect the cache from malicious local users.)SH
22680 66707 MT
(Default:)SH
/Times-Italic SF
26207 XM
(/usr/coda/venus.cache)SH
/Times-Bold SF
11880 67993 MT
(-m)SH
/Times-Italic SF
13296 XM
(COP modes)SH
/Times-Roman SF
22680 XM
(Controls what Coda Optimistic Protocol \050COP\051 options are enabled.)265 W
/Times-Italic SF
53080 XM
(COP)SH
22680 69279 MT
(modes)SH
/Times-Roman SF
25756 XM
(is interpreted according)
271 W( to the following bit-mask: [ PIGGYCOP2 |)270 W
22680 70565 MT
(ASYNCCOP2 | ASYNCCOP1 ].  Only some combinations are legal.)SH
22680 71851 MT
(Default:)SH
/Times-Italic SF
26207 XM
([ PIGGYCOP2 | ASYNCCOP2 ])SH
/Times-Roman SF
8280 75600 MT
(Coda Release 1.0)SH
28888 XM
(May 12, 1993)SH
53580 XM
(135)SH
ES
%%Page: 136 137
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(VENUS\0508\051)SH
48421 XM
(VENUS\0508\051)SH
/Times-Bold SF
9720 7886 MT
(-mc)SH
/Times-Italic SF
11580 XM
(0 | 1)SH
/Times-Roman SF
20520 XM
(Controls whether multicast is used or not \0500 = OFF, 1 = ON\051.)SH
20520 9172 MT
(Default:)SH
/Times-Italic SF
24047 XM
(0)SH
/Times-Bold SF
9720 10458 MT
(-console)SH
/Times-Italic SF
13414 XM
(console file)SH
/Times-Roman SF
20520 XM
(Redirects console messages to)SH
/Times-Italic SF
32907 XM
(console file)SH
/Times-Roman SF
(.)SH
20520 11744 MT
(Default:)SH
/Times-Italic SF
24047 XM
(/dev/console)SH
/Times-Bold SF
9720 13030 MT
(-retries)SH
/Times-Italic SF
13079 XM
(RPC2 retries)SH
/Times-Roman SF
20520 XM
(Sets the number of RPC2 retries to)SH
/Times-Italic SF
34714 XM
(RPC2 retries)SH
/Times-Roman SF
(.)SH
20520 14316 MT
(Default:)SH
/Times-Italic SF
24047 XM
(4)SH
/Times-Bold SF
9720 15602 MT
(-timeout)SH
/Times-Italic SF
13580 XM
(RPC2 timeout)SH
/Times-Roman SF
20520 XM
(Sets the RPC2 timeout period to)SH
/Times-Italic SF
33688 XM
(RPC2 timeout)SH
/Times-Roman SF
39577 XM
(seconds.)SH
20520 16888 MT
(Default:)SH
/Times-Italic SF
24047 XM
(30)SH
/Times-Bold SF
9720 18174 MT
(-ws)SH
/Times-Italic SF
11414 XM
(SFTP window size)SH
/Times-Roman SF
20520 XM
(Sets the SFTP window size to)SH
/Times-Italic SF
32743 XM
(SFTP window size)SH
/Times-Roman SF
40383 XM
(packets.)SH
20520 19460 MT
(Default:)SH
/Times-Italic SF
24047 XM
(8)SH
/Times-Bold SF
9720 20746 MT
(-sa)SH
/Times-Italic SF
11192 XM
(SFTP send ahead)SH
/Times-Roman SF
20520 XM
(Sets the SFTP send ahead to)SH
/Times-Italic SF
32131 XM
(SFTP send ahead)SH
/Times-Roman SF
39436 XM
(packets.)SH
20520 22032 MT
(Default:)SH
/Times-Italic SF
24047 XM
(4)SH
/Times-Bold SF
9720 23318 MT
(-ap)SH
/Times-Italic SF
11359 XM
(SFTP ack point)SH
/Times-Roman SF
20520 XM
(Sets the SFTP ack point to)SH
/Times-Italic SF
31410 XM
(SFTP ack point)SH
/Times-Roman SF
37882 XM
(packets.)SH
20520 24604 MT
(Default:)SH
/Times-Italic SF
24047 XM
(4)SH
/Times-Bold SF
9720 25890 MT
(-init)SH
/Times-Roman SF
20520 XM
(Initializes \050i.e., clears\051 file, volume, and VSG caches.)SH
/Times-Bold SF
9720 27176 MT
(-p)SH
/Times-Roman SF
20520 XM
(Enables profiling.)SH
/Times-Bold SF
9720 28462 MT
(-hdbes)SH
/Times-Italic SF
12804 XM
(hoard entries)SH
/Times-Roman SF
20520 XM
(Number of hoard database entries.)SH
/Times-Bold SF
9720 29748 MT
(-rvmt)SH
/Times-Italic SF
12413 XM
(RVMT type)SH
/Times-Roman SF
20520 XM
(Media that RVM resides on.  Meaningful values are: 1 =)
25 W( RAWIO, 2 = UFS, 3 =)26 W
20520 31034 MT
(VM.)SH
/Times-Bold SF
9720 32320 MT
(-sim)SH
/Times-Italic SF
11803 XM
(infile outfile filtfile systype)SH
/Times-Roman SF
20520 33606 MT
(Turn on simulator mode.)51 W
/Times-Italic SF
31219 XM
(infile)SH
/Times-Roman SF
33576 XM
(is a trace to load in to)
51 W( the simulation.)52 W
/Times-Italic SF
49395 XM
(outfile)SH
/Times-Roman SF
52253 XM
(is)SH
20520 34892 MT
(the output file for the simulation.)52 W
/Times-Italic SF
34606 XM
(filtfile)SH
/Times-Roman SF
37298 XM
(is a filter for the trace.  And)51 W
/Times-Italic SF
49064 XM
(systype)SH
/Times-Roman SF
52253 XM
(is)SH
20520 36178 MT
(the system type the trace was taken on.)SH
/Times-Bold SF
9720 37464 MT
(-mondhost)SH
/Times-Italic SF
14526 XM
(hostname)SH
/Times-Roman SF
20520 XM
(Host where)SH
/Times-Italic SF
25352 XM
(mond)SH
/Times-Roman SF
27824 XM
(database is stored)SH
/Times-Bold SF
9720 38750 MT
(-mondportal)SH
/Times-Italic SF
15359 XM
(port)SH
/Times-Roman SF
20520 XM
(Port to use when contacting the)SH
/Times-Italic SF
33352 XM
(mond)SH
/Times-Roman SF
35824 XM
(host.)SH
/Times-Bold SF
9720 40036 MT
(-maxprefetchers)SH
/Times-Italic SF
16967 XM
(fetch threads)SH
/Times-Roman SF
20520 41322 MT
(Maximum number of threads doing prefetch ioctl's)SH
/Times-Bold SF
9720 42608 MT
(-maxworkers)SH
/Times-Italic SF
15635 XM
(work threads)SH
/Times-Roman SF
20520 43894 MT
(Number of worker threads.)SH
/Times-Bold SF
9720 45180 MT
(-maxcbservers)SH
/Times-Italic SF
16190 XM
(cb threads)SH
/Times-Roman SF
20520 XM
(Number of callback server threads.)SH
/Times-Bold SF
9720 46466 MT
(-vld)SH
/Times-Italic SF
11637 XM
(device)SH
/Times-Roman SF
20520 XM
(Location of the venus log device.)SH
20520 47752 MT
(Default:)SH
/Times-Italic SF
24047 XM
(/usr/coda/LOG)SH
/Times-Bold SF
9720 49038 MT
(-vlds)SH
/Times-Italic SF
12026 XM
(size)SH
/Times-Roman SF
20520 XM
(Size of the log device.)SH
/Times-Bold SF
9720 50324 MT
(-vdd)SH
/Times-Italic SF
11915 XM
(device)SH
/Times-Roman SF
20520 XM
(Location of the venus data device.)SH
20520 51610 MT
(Default:)SH
/Times-Italic SF
24047 XM
(/usr/coda/DATA)SH
/Times-Bold SF
9720 52896 MT
(-rdscs)SH
/Times-Italic SF
12525 XM
(chunk size)SH
/Times-Roman SF
20520 XM
(Specify RDS chunk size.)SH
/Times-Bold SF
9720 54182 MT
(-rdsnl)SH
/Times-Italic SF
12526 XM
(nlists)SH
/Times-Roman SF
20520 XM
(Number of RDS nlists.)SH
/Times-Bold SF
9720 55468 MT
(-logopts)SH
/Times-Italic SF
13359 XM
(0 | 1)SH
/Times-Roman SF
20520 XM
(Turn on log optimization.)SH
/Times-Bold SF
9720 56754 MT
(-swt)SH
/Times-Italic SF
11747 XM
(weight)SH
/Times-Roman SF
20520 XM
(Short term cache priority weight.)SH
/Times-Bold SF
9720 58040 MT
(-mwt)SH
/Times-Italic SF
12191 XM
(weight)SH
/Times-Roman SF
20520 XM
(Medium term cache priority weight.)SH
/Times-Bold SF
9720 59326 MT
(-ssf)SH
/Times-Italic SF
11414 XM
(scale factor)SH
/Times-Roman SF
20520 XM
(Short term cache scale factor.)SH
/Times-Italic SF
9720 60612 MT
(mount point)SH
/Times-Roman SF
20520 XM
(Directory to serve as the mount point for Coda.)SH
20520 61898 MT
(Default:)SH
/Times-Italic SF
24047 XM
(/coda)SH
/Times-Bold SF
6120 64528 MT
(DIAGNOSTICS)SH
/Times-Roman SF
9720 65814 MT
(Venus writes debugging information into the file <cache directory>/venus.log.)
9 W( The)
270 W( verbosity of this output)10 W
9720 67100 MT
(is controlled by the)
188 W( <debug level> parameter.  High priority messages are also written to the console)187 W
9720 68386 MT
(\050which may be redirected with the console)
68 W( option at start-up\051.  Fatal errors will cause the internal state of)69 W
9720 69672 MT
(venus to be dumped to the log file, and a core file to be left in <cache directory/core>.)SH
9720 71647 MT
(Venus writes its)
13 W( process id into the file <cache directory>/pid.  The vutil\0508v\051 program reads the pid file and)12 W
6120 75600 MT
(136)SH
26728 XM
(May 12, 1993)SH
45949 XM
(Coda Release 1.0)SH
ES
%%Page: 137 138
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(VENUS\0508\051)SH
50581 XM
(VENUS\0508\051)SH
11880 7886 MT
(dynamically alter Venus behavior by sending signals to it.)SH
11880 9861 MT
(Venus may be unable)
45 W( to unmount itself cleanly when it exits.  Usually this is due to processes which have)46 W
11880 11147 MT
(references to vnodes in the Coda namespace \050e.g., a)
129 W( process is cd'ed somewhere in Coda\051.  Once these)128 W
11880 12433 MT
(references are released, Venus can be unmounted with cfsunmount\0508v\051.)SH
/Times-Bold SF
8280 15063 MT
(FILES)SH
/Times-Italic SF
11880 16349 MT
(/usr/coda/etc/vstab)SH
11880 18324 MT
(<cache directory>/venus.log)SH
11880 20299 MT
(<cache directory>/pid)SH
11880 22274 MT
(<venus.private.h>)SH
/Times-Bold SF
8280 24904 MT
(BUGS)SH
/Times-Roman SF
11880 26190 MT
(A mount point of)SH
/Times-Italic SF
19047 XM
(/coda)SH
/Times-Roman SF
21519 XM
(is assumed by the pioctl library.)SH
11880 28165 MT
(A cache directory of)SH
/Times-Italic SF
20321 XM
(/usr/coda/venus.cache)SH
/Times-Roman SF
29486 XM
(is assumed by vutil\0508v\051.)SH
/Times-Bold SF
8280 30795 MT
(SEE ALSO)SH
/Times-Roman SF
11880 32081 MT
(vstab\0505\051, cfsunmount\0508v\051, vutil\0508v\051)SH
/Times-Bold SF
8280 34711 MT
(AUTHOR)SH
/Times-Roman SF
11880 35997 MT
(Jay Kistler, 1990, Created)SH
11880 37972 MT
(Joshua Raiff, 1993, Documented added switches)SH
8280 75600 MT
(Coda Release 1.0)SH
28888 XM
(May 12, 1993)SH
53580 XM
(137)SH
ES
%%Page: 138 139
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(VOLUTIL\0508\051)SH
47422 XM
(VOLUTIL\0508\051)SH
/Times-Bold SF
6120 7870 MT
(NAME)SH
600 50 12832 9011 UL
/Times-Roman SF
9720 9156 MT
(volutil)SH
13682 XM
(volume utility subsystem)SH
/Times-Bold SF
6120 11786 MT
(SYNOPSIS)SH
/Times-Roman SF
9720 13396 MT
(volutil [-h <server>] [ -t timeout] <command> <parameters ....>)SH
/Times-Bold SF
6120 16026 MT
(DESCRIPTION)SH
9720 17312 MT
(Volutil)SH
/Times-Roman SF
12954 XM
(is a)
39 W( RPC interface to the volume utility subsystem of the file server.  The volume utilities are used)40 W
9720 18598 MT
(to perform administrative functions like)
57 W( creating, cloning, purging, dumping and restoring volumes.  Each)56 W
9720 19884 MT
(of these functions can be invoked via the)40 W
/Times-Bold SF
26648 XM
(<command>)SH
/Times-Roman SF
32300 XM
(parameter. Each)
330 W( command has a set of)
40 W( parameters)41 W
9720 21170 MT
(that it expects.  These are listed below along with a short description of)
33 W( each command.  The volutil utility)32 W
9720 22456 MT
(may be instructed to perform the operations on)
7 W( a server at a remote site by specifying the server to which to)8 W
9720 23742 MT
(connect with the -h option.  The default)
53 W( is to connect to a server on the local machine.  The -t option may)52 W
9720 25028 MT
(be used to specify the timeout \050in seconds\051 to be used by RPC2.)SH
/Times-Bold SF
9720 26314 MT
(ancient)SH
/Times-Italic SF
13081 XM
(<group-id> <rep-id>)SH
/Times-Roman SF
20520 27600 MT
(Tell the server that backup succeeded for)
130 W( this volume. The next dump of this)129 W
20520 28886 MT
(volume, if incremental, will be)
128 W( based on the state represented by this backup.)129 W
20520 30172 MT
(The input should be in Hex.)SH
/Times-Bold SF
9720 31458 MT
(backup)SH
/Times-Italic SF
13138 XM
(<volume-id>)SH
/Times-Roman SF
20520 XM
(Create a backup)
42 W( clone of a read/write volume.  If a backup clone already exists,)41 W
20520 32744 MT
(update it to reflect the current state of the read/write volume; Otherwise, create)
10 W( a)11 W
20520 34030 MT
(new read-only volume.)
259 W( The)
767 W( read/write volume must be locked for this to)258 W
20520 35316 MT
(succeed. Backup)
250 W( unlocks the volume as a side effect.)SH
/Times-Bold SF
9720 36602 MT
(clone)SH
/Times-Italic SF
12192 XM
(volume-id)SH
/Times-Roman SF
16441 XM
([-n)SH
/Times-Italic SF
17857 XM
(new-volume-name)SH
/Times-Roman SF
(])SH
20520 37888 MT
(Create a)
14 W( read only clone of a read write volume with \050replica\051 id \050)13 W
/Times-Italic SF
(<volume-id>)SH
/Times-Roman SF
(\051.)SH
20520 39174 MT
(The vnodes are actually copied but the inodes are marked copy-on-write i.e.)181 W
20520 40460 MT
(inodes need to be copied only if modified.  The name of the new cloned volume)27 W
20520 41746 MT
(can be optionally specified by the)222 W
/Times-Italic SF
35573 XM
(<new-volume-name>)SH
/Times-Roman SF
44727 XM
(parameter. Default)696 W
20520 43032 MT
(value is volume-name.readonly.  The)191 W
/Times-Italic SF
36611 XM
(clone)SH
/Times-Roman SF
(\0508\051 command can be used to call)191 W
/Times-Bold SF
20520 44318 MT
(volutil clone)SH
/Times-Roman SF
(.)SH
/Times-Bold SF
9720 45604 MT
(create)SH
/Times-Italic SF
12579 XM
(<partition-path> <volume-name>)SH
/Times-Roman SF
20520 46890 MT
(Create a non-replicated read-write volume named)84 W
/Times-Italic SF
41128 XM
(<volume-name>)SH
/Times-Roman SF
48198 XM
(on partition)83 W
20520 48176 MT
(named)SH
/Times-Italic SF
23546 XM
(<partition-path>)SH
/Times-Roman SF
(. The)472 W
/Times-Italic SF
33396 XM
(createvol)SH
/Times-Roman SF
(\0508\051 command is a simplified front-end)111 W
20520 49462 MT
(for this option.)SH
/Times-Bold SF
9720 50748 MT
(create_rep)SH
/Times-Italic SF
14523 XM
(<partition-path> <volume-name> <group-id>)SH
/Times-Roman SF
20520 52034 MT
(Create a replicated)
312 W( read-write volume named)313 W
/Times-Italic SF
40668 XM
(<volume-name>)SH
/Times-Roman SF
47968 XM
(on partition)313 W
20520 53320 MT
(named)SH
/Times-Italic SF
23446 XM
(<partition-path>)SH
/Times-Roman SF
(. The)270 W
/Times-Italic SF
32993 XM
(<group-id>)SH
/Times-Roman SF
38103 XM
(parameter is used to specify the id of)10 W
20520 54606 MT
(the replicated volume that this replica will)
203 W( belong to.  The)204 W
/Times-Italic SF
46200 XM
(createvol_rep)SH
/Times-Roman SF
(\0508\051)SH
20520 55892 MT
(command will also create a replicated volume.)SH
/Times-Bold SF
9720 57178 MT
(dump)SH
/Times-Roman SF
12471 XM
([-i])SH
/Times-Italic SF
13998 XM
(<volume-id> <file-name>)SH
/Times-Roman SF
20520 58464 MT
(Dump the entire contents of a volume \050)19 W
/Times-Italic SF
(volume-id)SH
/Times-Roman SF
40613 XM
(in Hex\051 to a file)
19 W( \050)20 W
/Times-Italic SF
(file-name)SH
/Times-Roman SF
(\051. If)20 W
20520 59750 MT
(the -i flag)
105 W( is used, the dump will be 'incremental', it will only include vnodes)104 W
20520 61036 MT
(which have been modified since the last dump was taken. The dump is not)202 W
20520 62322 MT
(machine independent, certain fields in the Vnode)
98 W( are not translated to network)97 W
20520 63608 MT
(order. However, dump files can be used to create restored volumes on machines)34 W
20520 64894 MT
(with a similar byte-order.)SH
/Times-Bold SF
9720 66180 MT
(dumpmem)SH
/Times-Italic SF
14581 XM
(<file-name> <address> <size>)SH
/Times-Roman SF
20520 67466 MT
(Dump)SH
/Times-Italic SF
23270 XM
(<size>)SH
/Times-Roman SF
26370 XM
(bytes starting at)SH
/Times-Italic SF
32953 XM
(<address>)SH
/Times-Roman SF
37664 XM
(into)SH
/Times-Italic SF
39470 XM
(<file-name>)SH
/Times-Roman SF
(.)SH
/Times-Bold SF
9720 68752 MT
(elapse)SH
/Times-Italic SF
12581 XM
(<on | off> <resolution | cb | mond | volDump> [MultiRPC])SH
/Times-Roman SF
20520 70038 MT
(Turn on or off timers for the given subsystem.)SH
/Times-Bold SF
9720 71324 MT
(info)SH
/Times-Roman SF
11637 XM
([-all])SH
/Times-Italic SF
13886 XM
(<volume-name>|<volume-number> <file-name>)SH
/Times-Roman SF
6120 75600 MT
(138)SH
26728 XM
(May 12, 1993)SH
45949 XM
(Coda Release 1.0)SH
ES
%%Page: 139 140
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(VOLUTIL\0508\051)SH
49582 XM
(VOLUTIL\0508\051)SH
22680 7886 MT
(Print in ascii the contents of a volume into a file\050)34 W
/Times-Italic SF
(<file-name>)SH
/Times-Roman SF
(\051. The volume)
34 W( can)35 W
22680 9172 MT
(be specified by its name, or by the volume Id, specified in Hex.)
242 W( If -all is)241 W
22680 10458 MT
(specified, contents of both large and)
253 W( small vnodes in that volume are also)254 W
22680 11744 MT
(printed.)SH
/Times-Bold SF
11880 13030 MT
(lock)SH
/Times-Italic SF
13908 XM
(<volume-id>)SH
/Times-Roman SF
22680 XM
(Lock a volume to prevent write access to the volume. To)
174 W( other users it will)173 W
22680 14316 MT
(appear as if the operation would time out.)SH
/Times-Bold SF
11880 15602 MT
(lookup)SH
/Times-Italic SF
15076 XM
(<Volume-name | Volume-id> <file-name>)SH
/Times-Roman SF
22680 16888 MT
(Print information about a volume \050specified by)295 W
/Times-Italic SF
43771 XM
(volume-name)SH
/Times-Roman SF
49703 XM
(or)SH
/Times-Italic SF
51081 XM
(volume-id)SH
/Times-Roman SF
22680 18174 MT
(specified in Hex\051 in a file \050)138 W
/Times-Italic SF
(file-name)SH
/Times-Roman SF
(\051. Only)
526 W( meta information like replicated)138 W
22680 19460 MT
(group-id, location etc. is printed.)SH
/Times-Bold SF
11880 20746 MT
(makevldb)SH
/Times-Italic SF
16353 XM
(<VolumeList>)SH
/Times-Roman SF
22680 XM
(Create a new Volume Location Database)83 W
/Times-Bold SF
39840 XM
(VLDB)SH
/Times-Roman SF
(.)SH
/Times-Italic SF
43532 XM
(VolumeList)SH
/Times-Roman SF
48420 XM
(is the name of a)82 W
22680 22032 MT
(file containing volume parameters)
12 W( for all volumes in the system.  This command)13 W
22680 23318 MT
(typically is run on the system control machine.)
314 W( See)
877 W( also)313 W
/Times-Italic SF
48907 XM
(bldvldb)SH
/Times-Roman SF
(\0508\051 and)313 W
/Times-Italic SF
22680 24604 MT
(volumelist)SH
/Times-Roman SF
(\0505\051.)SH
/Times-Bold SF
11880 25890 MT
(makevrdb)SH
/Times-Italic SF
16519 XM
(<vrlist>)SH
/Times-Roman SF
22680 XM
(Create a new Volume Replication Data Base)340 W
/Times-Bold SF
43195 XM
(VRDB)SH
/Times-Roman SF
(.)SH
/Times-Italic SF
47458 XM
(<vrlist>)SH
/Times-Roman SF
51454 XM
(is a file)341 W
22680 27176 MT
(containing entries describing replicated volumes.)
316 W( Each)
880 W( entry in the)315 W
/Times-Italic SF
53024 XM
(vrlist)SH
/Times-Roman SF
22680 28462 MT
(contains the name, groupid, read-write ids)
75 W( and the VSG address of a replicated)76 W
22680 29748 MT
(volume. There)
250 W( is one entry per replicated volume in the system.)SH
/Times-Bold SF
11880 31034 MT
(purge)SH
/Times-Italic SF
14630 XM
(<volume-id> <volume-name>)SH
/Times-Roman SF
22680 32320 MT
(Delete a volume.)
7 W( For)
266 W( replicated volumes, purge must be called from each server)8 W
22680 33606 MT
(individually on the replicas at the different servers.  \050See purgevol-rep\0508\051\051)SH
/Times-Bold SF
11880 34892 MT
(restore)SH
/Times-Italic SF
15128 XM
(<file-name> <partition-path>)SH
/Times-Roman SF
27717 XM
([)SH
/Times-Italic SF
(<volume Id> <volume Name>])SH
/Times-Roman SF
22680 36178 MT
(Create a new volume on the partition named by)2 W
/Times-Italic SF
41945 XM
(<partition-path>)SH
/Times-Roman SF
49159 XM
(and read in the)2 W
22680 37464 MT
(contents from a dump)
116 W( in file)115 W
/Times-Italic SF
34983 XM
(<file-name>)SH
/Times-Roman SF
(. The new volume will be given the)115 W
22680 38750 MT
(name and Id specified on the command line. If either is)
122 W( unspecified \050or if the)123 W
22680 40036 MT
(Volume Id is of illegal form\051, the server will allocate the Id or Name based)
79 W( on)78 W
22680 41322 MT
(internal rules. The VolumeId should be specified in Hex.)SH
/Times-Bold SF
11880 42608 MT
(rvmsize)SH
/Times-Italic SF
15462 XM
(<volid>)SH
/Times-Roman SF
22680 XM
(Print the RVM statistics for the volume)SH
/Times-Italic SF
38708 XM
(<volid>)SH
/Times-Roman SF
(.)SH
/Times-Bold SF
11880 43894 MT
(setdebug)SH
/Times-Italic SF
15908 XM
(<level>)SH
/Times-Roman SF
22680 XM
(Set the)
78 W( debug level for the volume and directory packages to)79 W
/Times-Italic SF
48071 XM
(level)SH
/Times-Roman SF
(. To)
408 W( reset it)79 W
22680 45180 MT
(use zero for the)SH
/Times-Italic SF
29122 XM
(level)SH
/Times-Roman SF
31260 XM
(argument. The)
250 W( rpc2 debug level is set to level/10.)SH
/Times-Bold SF
11880 46466 MT
(setlogparms)SH
/Times-Italic SF
17296 XM
(<volume-id>)SH
/Times-Roman SF
22895 XM
([)SH
/Times-Italic SF
(<reson>)SH
/Times-Roman SF
27050 XM
(<1 | 0>] [)SH
/Times-Italic SF
(<logsize> <size>)SH
/Times-Roman SF
(])SH
22680 47752 MT
(Turn on resolution or change the)
75 W( log size for a volume.  The volume id can be)76 W
22680 49038 MT
(either the replicated id or the non-replicated)
194 W( id.  Resolution is turned on by)193 W
22680 50324 MT
(specifying 1 after)68 W
/Times-Italic SF
30133 XM
(reson)SH
/Times-Roman SF
32674 XM
(and can be turned off by specifying 0.  The size of the)69 W
22680 51610 MT
(log can also be changed for the volume.  The)5 W
/Times-Italic SF
40976 XM
(size)SH
/Times-Roman SF
42731 XM
(parameter refers to the number)5 W
22680 52896 MT
(of maximum entries in the log.  This should be a multiple)
49 W( of 32.  Typically this)50 W
22680 54182 MT
(is set to 8192.)SH
/Times-Bold SF
11880 55468 MT
(setvv)SH
/Times-Italic SF
14296 XM
(<volumeNumber> <vnodeNumber> <Uniquifier> <version numbers\0508)SH
/Times-Roman SF
(\051>)SH
/Times-Italic SF
44276 XM
(<host unique flags>)SH
/Times-Roman SF
22680 56754 MT
(Set the version vector for a vnode)
1596 W( \050with fid =)1597 W
/Times-Italic SF
22680 58040 MT
(<volumeNumber>.<vnodeNumber>.<Uniquifier>)SH
/Times-Roman SF
(\051. The)
434 W( new)
92 W( version vector is)91 W
22680 59326 MT
(specified by the)SH
/Times-Italic SF
29262 XM
(<version numbers>)SH
/Times-Roman SF
37500 XM
(and the)SH
/Times-Italic SF
40666 XM
(<host unique flags>)SH
/Times-Roman SF
49100 XM
(triple.)SH
/Times-Bold SF
11880 60612 MT
(showvnode)SH
/Times-Italic SF
16853 XM
(<volumeNumber> <vnodeNumber> <Uniquifier> <file-name>)SH
/Times-Roman SF
22680 61898 MT
(Print the)
2050 W( contents of a vnode \050with fid =)2049 W
/Times-Italic SF
22680 63184 MT
(<volumeNumber>)SH
/Times-Roman SF
(.)SH
/Times-Italic SF
(<vnodeNumber>)SH
/Times-Roman SF
(.)SH
/Times-Italic SF
(<Uniquifier>)SH
/Times-Roman SF
(\051 into the file)SH
/Times-Italic SF
48561 XM
(<file-name>)SH
/Times-Roman SF
(.)SH
/Times-Bold SF
11880 64470 MT
(shutdown)SH
/Times-Roman SF
22680 XM
(Bring all volumes offline and bring down the server.)SH
/Times-Bold SF
11880 65756 MT
(swaplog)SH
/Times-Roman SF
22680 XM
(Save the fileserver log output \050in)SH
/Times-Italic SF
36067 XM
(SrvLog.old)SH
/Times-Roman SF
(\051 and start a new SrvLog.)SH
/Times-Bold SF
11880 67042 MT
(timing)SH
/Times-Italic SF
14908 XM
(on | off <filename>)SH
/Times-Roman SF
22680 68328 MT
(Turn timing on or off.)SH
/Times-Bold SF
11880 69614 MT
(truncatervmlog)SH
/Times-Roman SF
22680 XM
(Force a truncate of the RVM log.)SH
/Times-Bold SF
11880 70900 MT
(unlock)SH
/Times-Italic SF
15020 XM
(<volume-id>)SH
/Times-Roman SF
22680 XM
(Unlock a volume locked via the)
55 W( volutil lock command. \050)54 W
/Times-Italic SF
(volume-id)SH
/Times-Roman SF
50083 XM
(should be in)54 W
8280 75600 MT
(Coda Release 1.0)SH
28888 XM
(May 12, 1993)SH
53580 XM
(139)SH
ES
%%Page: 140 141
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(VOLUTIL\0508\051)SH
47422 XM
(VOLUTIL\0508\051)SH
20520 7886 MT
(Hex\051)SH
/Times-Bold SF
9720 9172 MT
(updatedb)SH
/Times-Roman SF
20520 XM
(Make the file server read in a new)
60 W( VLDB and VRDB.  The file server assumes)61 W
20520 10458 MT
(the databases to exist in)244 W
/Times-Italic SF
31489 XM
(/vice/db/VLDB)SH
/Times-Roman SF
37927 XM
(and)SH
/Times-Italic SF
39864 XM
(/vice/db/VRDB)SH
/Times-Roman SF
(. This)
736 W( utility is)243 W
20520 11744 MT
(useful for reading in new databases at non-scm machines.)SH
/Times-Bold SF
6120 14374 MT
(DIAGNOSTICS)SH
/Times-Roman SF
9720 15660 MT
(This command must be)
58 W( run as root.  It works only on the machine running the server. Also, the token file)59 W
/Times-Italic SF
9720 16946 MT
(/vice/db/voutil.tk)SH
/Times-Roman SF
16664 XM
(must be accessible.)SH
/Times-Bold SF
6120 19576 MT
(BUGS)SH
/Times-Roman SF
9720 20862 MT
(The salvage option to volutil doesn't work right.  Please don't try it.)SH
/Times-Bold SF
6120 23492 MT
(FILES)SH
/Times-Italic SF
9720 24778 MT
(/vice/db/VSGDB)SH
9720 26064 MT
(/vice/file/SrvLog)SH
9720 27350 MT
(/vice/db/VLDB)SH
9720 28636 MT
(/vice/db/VRDB)SH
9720 29922 MT
(/vice/vol/VRList)SH
/Times-Bold SF
6120 32552 MT
(SEE ALSO)SH
/Times-Roman SF
9720 33838 MT
(vrdb\0505\051, volumelist\0505\051, bldvldb\0508\051, createvol\0508\051, createvol_rep\0508\051, purgevol\0508\051, purgevol_rep\0508\051)SH
/Times-Bold SF
6120 36468 MT
(AUTHOR)SH
/Times-Roman SF
9720 37754 MT
(Puneet Kumar, David Steere, 1990, Created)SH
6120 75600 MT
(140)SH
26728 XM
(May 12, 1993)SH
45949 XM
(Coda Release 1.0)SH
ES
%%Page: 141 142
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(VUTIL\0508\051)SH
50915 XM
(VUTIL\0508\051)SH
/Times-Bold SF
8280 7870 MT
(NAME)SH
600 50 14214 9011 UL
/Times-Roman SF
11880 9156 MT
(vutil)SH
15064 XM
(venus utility program)SH
/Times-Bold SF
8280 11786 MT
(SYNOPSIS)SH
11880 13396 MT
(vutil)SH
/Times-Roman SF
14575 XM
([ -cop COP modes ]  [ -cs ]  [ -d debug level ]  [ -mc 0 | 1 ]  [ -p 0 | 1 ])SH
13880 14501 MT
([ -shutdown ]  [ -stats ]  [ -swap ])SH
/Times-Bold SF
8280 17131 MT
(DESCRIPTION)SH
11880 18417 MT
(vutil)SH
/Times-Roman SF
14448 XM
(dynamically alters various parameters on)
373 W( a running Venus.  It reads the value of the file)372 W
11880 19703 MT
(/usr/coda/venus.cache/pid and sends signals to that process.)SH
11880 21678 MT
(The parameters are:)SH
/Times-Bold SF
11880 22964 MT
(-cop)SH
/Times-Italic SF
13963 XM
(COP modes)SH
/Times-Roman SF
22680 XM
(Controls what Coda Optimistic Protocol \050COP\051 options are enabled.)265 W
/Times-Italic SF
53080 XM
(COP)SH
22680 24250 MT
(modes)SH
/Times-Roman SF
25756 XM
(is interpreted according)
271 W( to the following bit-mask: [ PIGGYCOP2 |)270 W
22680 25536 MT
(ASYNCCOP2 | ASYNCCOP1 ].  Only some combinations are legal.)SH
/Times-Bold SF
11880 26822 MT
(-cs)SH
/Times-Roman SF
22680 XM
(Clears internal counters used in statistics reporting.)SH
/Times-Bold SF
11880 28108 MT
(-d)SH
/Times-Italic SF
13019 XM
(debug level)SH
/Times-Roman SF
22680 XM
(Sets the)
202 W( debug level to)203 W
/Times-Italic SF
32999 XM
(debug level)203 W
/Times-Roman SF
(. Meaningful)
656 W( values are {0, 1, 10, 100,)203 W
22680 29394 MT
(1000}.)SH
/Times-Bold SF
11880 30680 MT
(-mc)SH
/Times-Italic SF
13740 XM
(0 | 1)SH
/Times-Roman SF
22680 XM
(Enable/disables multicast \0500 = OFF, 1 = ON\051.)SH
/Times-Bold SF
11880 31966 MT
(-p)SH
/Times-Italic SF
13019 XM
(0 | 1)SH
/Times-Roman SF
22680 XM
(Enables/disables profiling \0500 = OFF, 1 = ON\051.)SH
/Times-Bold SF
11880 33252 MT
(-shutdown)SH
/Times-Roman SF
22680 XM
(Shuts Venus down gracefully.)SH
/Times-Bold SF
11880 34538 MT
(-stats)SH
/Times-Roman SF
22680 XM
(Causes Venus to dump internal counters and other statistics to its log file.)SH
/Times-Bold SF
11880 35824 MT
(-swap)SH
/Times-Roman SF
22680 XM
(Causes Venus to)
30 W( move its current log file to <log-file>.old and reinitialize <log-)29 W
22680 37110 MT
(file>.)SH
/Times-Bold SF
8280 39740 MT
(DIAGNOSTICS)SH
/Times-Roman SF
11880 41026 MT
(Only the super user can run)SH
/Times-Bold SF
23155 XM
(vutil)SH
/Times-Roman SF
(.)SH
/Times-Bold SF
8280 43656 MT
(FILES)SH
/Times-Italic SF
11880 44942 MT
(/usr/coda/venus.cache/pid)SH
11880 46917 MT
(/usr/coda/venus.cahe/venus.log)SH
/Times-Bold SF
8280 49547 MT
(BUGS)SH
/Times-Roman SF
11880 50833 MT
(Venus' cache directory is assumed to be)SH
/Times-Italic SF
28237 XM
(/usr/coda/venus.cache)SH
/Times-Roman SF
(.)SH
/Times-Bold SF
8280 53463 MT
(SEE ALSO)SH
/Times-Roman SF
11880 54749 MT
(venus\0508\051)SH
/Times-Bold SF
8280 57379 MT
(AUTHOR)SH
/Times-Roman SF
11880 58665 MT
(Jay Kistler, 1990, Created)SH
8280 75600 MT
(Coda Release l.0)SH
28888 XM
(May 12, 1993)SH
53580 XM
(141)SH
ES
%%Page: 142 143
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
45754 XM
(Table of Contents)SH
6120 75600 MT
(142)SH
25590 XM
(December 11, 1995)SH
46171 XM
(Coda Release l.0)SH
ES
%%Page: i 144
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
47914 XM
(Table of Contents)SH
16 /Times-Bold AF
25591 8272 MT
(Table of Contents)SH
12 SS 
8280 9796 MT
(Preface)SH
54480 XM
(1)SH
8280 11320 MT
(1. Getting Started)SH
54480 XM
(3)SH
10 SS 
9780 12710 MT
(1.1. Authentication)SH
54580 XM
(3)SH
9780 13790 MT
(1.2. Coda File Protection)SH
54580 XM
(4)SH
9780 14870 MT
(1.3. Disconnected Operation)SH
54580 XM
(5)SH
9780 15950 MT
(1.4. Hoarding)SH
54580 XM
(5)SH
9780 17030 MT
(1.5. Repairing Conflicts)SH
54580 XM
(6)SH
12 SS 
8280 18554 MT
(2. Common Scenarios)SH
54480 XM
(7)SH
10 SS 
9780 19944 MT
(2.1. Constructing a hoardfile)SH
54580 XM
(7)SH
9780 21024 MT
(2.2. Hoarding for a Weekend)SH
54580 XM
(8)SH
9780 22104 MT
(2.3. Reintegrating After a Disconnected Session)SH
54580 XM
(8)SH
9780 23184 MT
(2.4. Dealing With a Flaky Network)SH
54580 XM
(9)SH
9780 24264 MT
(2.5. Reintegrating Over the Phone Line)SH
54580 XM
(9)SH
9780 25344 MT
(2.6. Repairing an Inconsistent Directory)SH
54080 XM
(10)SH
12 SS 
8280 26868 MT
(3. Trouble Shooting)SH
53880 XM
(15)SH
10 SS 
9780 28258 MT
(3.1. File System Full)SH
54080 XM
(15)SH
12 SS 
8280 29782 MT
(4. System Overview)SH
53880 XM
(17)SH
10 SS 
9780 31172 MT
(4.1. Machines)SH
54080 XM
(17)SH
9780 32252 MT
(4.2. Processes)SH
54080 XM
(17)SH
9780 33332 MT
(4.3. Data Location)SH
54080 XM
(18)SH
9780 34412 MT
(4.4. File System Consistency)SH
54080 XM
(18)SH
12 SS 
8280 35936 MT
(5. Coda Kernels)SH
53880 XM
(21)SH
10 SS 
9780 37326 MT
(5.1. Vnode Interface)SH
54080 XM
(21)SH
9780 38406 MT
(5.2. Installing the Coda kernel)SH
54080 XM
(21)SH
12 SS 
8280 39930 MT
(6. Installing a Coda Server)SH
53880 XM
(23)SH
10 SS 
9780 41320 MT
(6.1. Recoverable Virtual Memory)SH
54080 XM
(23)SH
9780 42400 MT
(6.2. Server Disk Organization)SH
54080 XM
(23)SH
9780 43480 MT
(6.3. Binaries and Devices)SH
54080 XM
(23)SH
9780 44560 MT
(6.4. Configuration Changes)SH
54080 XM
(25)SH
9780 45640 MT
(6.5. RVM Initialization)SH
54080 XM
(26)SH
9780 46720 MT
(6.6. Update Monitor)SH
54080 XM
(27)SH
9780 47800 MT
(6.7. Authentication Database)SH
54080 XM
(27)SH
9780 48880 MT
(6.8. Creating the Volume Storage Group DataBase \050SCM only\051)SH
54080 XM
(28)SH
9780 49960 MT
(6.9. Starting the File Server)SH
54080 XM
(28)SH
9780 51040 MT
(6.10. Creating the Root Volume)SH
54080 XM
(29)SH
12 SS 
8280 52564 MT
(7. Installing a Coda Client)SH
53880 XM
(31)SH
10 SS 
9780 53954 MT
(7.1. Binaries and Devices)SH
54080 XM
(31)SH
9780 55034 MT
(7.2. Configuration Changes)SH
54080 XM
(31)SH
9780 56114 MT
(7.3. Where Data is Stored)SH
54080 XM
(31)SH
12 SS 
8280 57638 MT
(8. Running Coda)SH
53880 XM
(33)SH
10 SS 
9780 59028 MT
(8.1. Server)SH
54080 XM
(33)SH
9780 60108 MT
(8.2. Client)SH
54080 XM
(34)SH
12 SS 
8280 61632 MT
(9. System Administration:  Volumes)SH
53880 XM
(37)SH
10 SS 
9780 63022 MT
(9.1. Description)SH
54080 XM
(37)SH
9780 64102 MT
(9.2. Creating a Volume)SH
54080 XM
(38)SH
9780 65182 MT
(9.3. Mounting a Volume)SH
54080 XM
(38)SH
9780 66262 MT
(9.4. Deleting a Volume)SH
54080 XM
(39)SH
9780 67342 MT
(9.5. Restoring a Volume)SH
54080 XM
(39)SH
9780 68422 MT
(9.6. Read-only Replication of a Volume)SH
54080 XM
(39)SH
/Times-Roman SF
8280 75600 MT
(Coda Release l.0)SH
27750 XM
(December 11, 1995)SH
54802 XM
(i)SH
ES
%%Page: ii 145
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
45754 XM
(Table of Contents)SH
/Times-Bold SF
7620 7870 MT
(9.7. Building the VLDB)SH
51920 XM
(40)SH
7620 8950 MT
(9.8. Building the VRDB)SH
51920 XM
(40)SH
7620 10030 MT
(9.9. Building the VSGDB)SH
51920 XM
(41)SH
7620 11110 MT
(9.10. Ensuring Volume Consistency after Server Crashes)SH
51920 XM
(41)SH
7620 12190 MT
(9.11. Getting Volume Information)SH
51920 XM
(41)SH
12 SS 
6120 13714 MT
(10. System Administration:  Users)SH
51720 XM
(43)SH
10 SS 
7620 15104 MT
(10.1. Adding users)SH
51920 XM
(43)SH
7620 16184 MT
(10.2. Monitoring Auth Server Activity)SH
51920 XM
(44)SH
12 SS 
6120 17708 MT
(11. System Administration:  Backup)SH
51720 XM
(45)SH
10 SS 
7620 19098 MT
(11.1. Design of the Backup Subsystem)SH
51920 XM
(45)SH
7620 20178 MT
(11.2. Incremental Dumps)SH
51920 XM
(46)SH
7620 21258 MT
(11.3. Tape files)SH
51920 XM
(46)SH
7620 22338 MT
(11.4. Restoring a backup clone)SH
51920 XM
(47)SH
7620 23418 MT
(11.5. Backup Scripts)SH
51920 XM
(47)SH
7620 24498 MT
(11.6. Installing a Coda Backup Coordinator Machine)SH
51920 XM
(48)SH
12 SS 
6120 26022 MT
(12. Reinitializing Coda Servers After a Disaster)SH
51720 XM
(49)SH
10 SS 
7620 27412 MT
(12.1. Obtaining Backup Dump Files)SH
51920 XM
(49)SH
7620 28492 MT
(12.2. Reinitializing RVM on the Servers)SH
51920 XM
(49)SH
7620 29572 MT
(12.3. Recreate the Backed Up Volumes)SH
51920 XM
(49)SH
7620 30652 MT
(12.4. Restore the Backup Clones)SH
51920 XM
(50)SH
7620 31732 MT
(12.5. Mount the Recreated Volumes)SH
51920 XM
(50)SH
7620 32812 MT
(12.6. Populate the New Volumes)SH
51920 XM
(50)SH
7620 33892 MT
(12.7. Unmount the Volumes)SH
51920 XM
(50)SH
7620 34972 MT
(12.8. Flush Client Caches)SH
51920 XM
(50)SH
7620 36052 MT
(12.9. Test the system)SH
51920 XM
(50)SH
12 SS 
6120 37576 MT
(13. Coda Source Coda Layout)SH
51720 XM
(51)SH
10 SS 
7620 38966 MT
(13.1. The Big Picture)SH
51920 XM
(51)SH
7620 40046 MT
(13.2. Layout of Source Code)SH
51920 XM
(52)SH
7620 41126 MT
(13.3. Module Dependencies)SH
51920 XM
(54)SH
7620 42206 MT
(13.4. Building a Release)SH
51920 XM
(55)SH
7620 43286 MT
(13.5. Making Incremental Changes)SH
51920 XM
(57)SH
7620 44366 MT
(13.6. Promoting Releases)SH
51920 XM
(58)SH
7620 45446 MT
(13.7. Copyright Notices)SH
51920 XM
(60)SH
7620 46526 MT
(13.8. Using RCS for Revision Control)SH
51920 XM
(60)SH
7620 47606 MT
(13.9. Coding Tips)SH
51920 XM
(60)SH
12 SS 
6120 49130 MT
(Appendix I. Quick Reference)SH
51720 XM
(61)SH
6120 50654 MT
(Appendix II. System Files)SH
51720 XM
(63)SH
6120 52178 MT
(Appendix III. Common Problems and Possible Solutions)SH
51720 XM
(65)SH
6120 53702 MT
(Appendix IV. Example Files)SH
51720 XM
(67)SH
10 SS 
7620 55092 MT
(IV.1. /vice/db/user.coda)SH
51920 XM
(67)SH
7620 56172 MT
(IV.2. /vice/db/groups.coda)SH
51920 XM
(67)SH
7620 57252 MT
(IV.3. /vice/db/servers)SH
51920 XM
(67)SH
7620 58332 MT
(IV.4. /.rhosts)SH
51920 XM
(67)SH
12 SS 
6120 59856 MT
(Appendix V. SLIP Documentation)SH
51720 XM
(69)SH
6120 61380 MT
(Appendix VI. Manual Pages)SH
51720 XM
(79)SH
10 /Times-Roman AF
6120 75600 MT
(ii)SH
25590 XM
(December 11, 1995)SH
46171 XM
(Coda Release l.0)SH
ES
%%Page: iii 146
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
49191 XM
(List of Figures)SH
16 /Times-Bold AF
26702 8272 MT
(List of Figures)SH
10 SS 
9780 9352 MT
(Figure 1-1:)
SH( Coda)
500 W( file system view at a workstation)SH
54580 XM
(3)SH
9780 10432 MT
(Figure 4-1:)
SH( Typical)
500 W( Organization of Coda Servers)SH
54080 XM
(17)SH
9780 11512 MT
(Figure 4-2:)
SH( Typical)
500 W( Server Processes)SH
54080 XM
(18)SH
9780 12592 MT
(Figure 10-1:)
SH( Adding)
500 W( a User to the Authentication Database)SH
54080 XM
(44)SH
9780 13672 MT
(Figure 13-1:)
SH( Structure)
500 W( of a Coda Release)SH
54080 XM
(52)SH
9780 14752 MT
(Figure 13-2:)
SH( Structure)
500 W( of the source directory in a release)SH
54080 XM
(53)SH
9780 15832 MT
(Figure 13-3:)
SH( Structure)
500 W( of a typical module)SH
54080 XM
(53)SH
/Times-Roman SF
8280 75600 MT
(Coda Release l.0)SH
27750 XM
(December 11, 1995)SH
54246 XM
(iii)SH
ES
%%Page: iv 147
BS
0 SI
10 /Times-Roman AF
6120 4286 MT
(A Guide to the Coda File System)SH
47365 XM
(List of Tables)SH
6120 75600 MT
(iv)SH
25590 XM
(December 11, 1995)SH
46171 XM
(Coda Release l.0)SH
ES
%%Page: v 148
BS
0 SI
10 /Times-Roman AF
8280 4286 MT
(A Guide to the Coda File System)SH
49525 XM
(List of Tables)SH
16 /Times-Bold AF
27013 8272 MT
(List of Tables)SH
10 SS 
9780 9352 MT
(Table 6-1:)
SH( Example)
500 W( of Partitions for a Coda Server)SH
54080 XM
(23)SH
9780 10432 MT
(Table 8-1:)
SH( Server)
500 W( Log Files)SH
54080 XM
(33)SH
9780 11512 MT
(Table 9-1:)
SH( Coda)
500 W( Volume Types)SH
54080 XM
(37)SH
/Times-Roman SF
8280 75600 MT
(Coda Release l.0)SH
27750 XM
(December 11, 1995)SH
54580 XM
(v)SH
ES
%%Trailer
%%Pages: 148
%%DocumentFonts: Times-Roman Times-Bold Times-Italic Symbol Courier Courier-Bold
